{
  "version": 3,
  "sources": ["src/app/common-service/common-api.service.ts"],
  "sourcesContent": ["import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { catchError, of, forkJoin } from 'rxjs';\r\nimport { AuthService } from '../core/core';\r\nimport { CommonServiceService } from './common-service.service';\r\nimport { MessageService } from 'primeng/api';\r\n\r\nexport interface dropdownelement {\r\n  key: any;\r\n  value: any;\r\n  referenceField?: any;\r\n}\r\n\r\nexport interface dropdownelement1 {\r\n  value: any;\r\n  label: any;\r\n  referenceField?: any;\r\n}\r\nexport interface dropdownelement2 {\r\n  key: any;\r\n  value: any;\r\n  referenceField?: any;\r\n  languageId?: any;\r\n  companyId?: any;\r\n\r\n}\r\nexport interface dropdownelement3 {\r\n  value: any;\r\n  label: any;\r\n  languageId?: any;\r\n  companyId?: any;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CommonAPIService {\r\n\r\n  constructor(private http: HttpClient, private cs: CommonServiceService, private auth: AuthService, private spin: NgxSpinnerService, public messageService: MessageService) { }\r\n\r\n  setup = '/overc-idmaster-service/';\r\n  dropdownlist: any = {\r\n    setup: {\r\n      language:{url:this.setup + 'language',key:{key:'languageId',value:'languageDescription'}},\r\n      company:{url:this.setup + 'company',key:{key:'companyId',value:'companyName'}},\r\n      country:{url:this.setup + 'country',key:{key:'countryId',value:'countryName', languageId :'languageId', companyId: 'companyId'}},\r\n      currency:{url:this.setup + 'currency',key:{key:'currencyId',value:'currencyDescription'}},\r\n      province:{url:this.setup + 'province',key:{key:'provinceId',value:'provinceName', languageId :'languageId', companyId: 'companyId'}},\r\n      menu:{url:this.setup + 'menu', key:{key:'menuId',value:'menuName', languageId :'languageId', companyId: 'companyId'}},\r\n      subMenu:{url:this.setup + 'menu', key:{key:'subMenuId',value:'subMenuName', languageId :'languageId', companyId: 'companyId'}},\r\n      specialApproval:{url:this.setup + 'specialApproval', key:{key:'specialApprovalId',value:'specialApprovalText', languageId :'languageId', companyId: 'companyId'}},\r\n      authorizationObject:{url:this.setup + 'menu', key:{key:'authorizationObjectId',value:'authorizationObjectValue', languageId :'languageId', companyId: 'companyId'}},\r\n      district:{url:this.setup + 'district',key:{key:'districtId',value:'districtName', languageId :'languageId', companyId: 'companyId'}},\r\n      subProduct: { url: this.setup + 'subProduct', key: { key: 'subProductId', value: 'subProductName', languageId: 'languageId', companyId: 'companyId' } },\r\n      product: { url: this.setup + 'product', key: { key: 'productId', value: 'productName', languageId: 'languageId', companyId: 'companyId' } },\r\n      customer: { url: this.setup + 'customer', key: { key: 'customerId', value: 'customerName', languageId: 'languageId', companyId: 'companyId' } },\r\n      city: { url: this.setup + 'city', key: { key: 'cityId', value: 'cityName', languageId: 'languageId', companyId: 'companyId' } },\r\n      serviceType: { url: this.setup + 'serviceType', key: { key: 'serviceTypeId', value: 'serviceTypeText', languageId: 'languageId', companyId: 'companyId' } },\r\n      opStatus: { url: this.setup + 'opStatus', key: { key: 'statusCode', value: 'opStatusDescription', languageId: 'languageId', companyId: 'companyId' } },\r\n      rateParameter: { url: this.setup + 'rateParameter', key: { key: 'rateParameterId', value: 'rateParameterDescription', languageId: 'languageId', companyId: 'companyId' } },\r\n      hub: { url: this.setup + 'hub', key: { key: 'hubCode', value: 'hubName', languageId: 'languageId', companyId: 'companyId' } },\r\n      consignor: { url: this.setup + 'consignor', key: { key: 'consignorId', value: 'consignorName', languageId: 'languageId', companyId: 'companyId' } },\r\n      iata: { url: this.setup + 'iata', key: { key: 'iataKd', value: 'iataKd', languageId: 'languageId', companyId: 'companyId' } },\r\n      hsCode: { url: this.setup + 'hsCode', key: { key: 'hsCode', value: 'hsCode', languageId: 'languageId', companyId: 'companyId' } },\r\n\r\n    },\r\n  }\r\n \r\n\r\n\r\n  getalldropdownlist(url: string[]) {\r\n    let observableBatch: any[] = [];\r\n    url.forEach((url: string) => { observableBatch.push(this.http.get<any>(url).pipe(catchError(err => of(err)))) });\r\n    return forkJoin(observableBatch);\r\n  }\r\n\r\n  foreachlist(list: any, val: { key: any, value: any }, _filter: any = {}, addblank: boolean = false,) {\r\n    let dropdownlist: dropdownelement[] = [];\r\n    let dropdownlist1: dropdownelement1[] = [];\r\n    let filter = list;\r\n    if (_filter)\r\n      filter = this.cs.filterArray(list, _filter);\r\n    if (addblank)\r\n      dropdownlist.push({ key: '', value: '' });\r\n    for (const l of filter) {\r\n      let filter2 = this.cs.filterArray(dropdownlist, { key: l[val.key] })\r\n      if (filter2.length == 0)\r\n      dropdownlist1.push({ value: l[val.key], label: l[val.key] + ' - ' + l[val.value] });\r\n    }\r\n    return dropdownlist1.sort((a, b) => (a.value > b.value) ? 1 : -1);\r\n  }\r\n\r\n  \r\n  forLanguageFilter(list: any, val: { key: any, value: any, languageId: any, companyId: any }, _filter: any = {}, addblank: boolean = false,) {\r\n    let dropdownlist: dropdownelement2[] = [];\r\n    let dropdownlist1: dropdownelement3[] = [];\r\n    let dropdownlist2: dropdownelement3[] = [];\r\n    let filter = list;\r\n    if (_filter)\r\n      filter = this.cs.filterArray(list, _filter);\r\n    if (addblank)\r\n      dropdownlist.push({ key: '', value: '', languageId: '', companyId: '' });\r\n    for (const l of filter) {\r\n      let filter2 = this.cs.filterArray(dropdownlist, { key: l[val.key] })\r\n      if (filter2.length == 0)\r\n      dropdownlist1.push({ value: l[val.key], label: l[val.key] + ' - ' + l[val.value], languageId: l[val.languageId], companyId: l[val.companyId]});\r\n    }\r\n    dropdownlist1.forEach(x=> {\r\n      if(this.auth.languageId == x.languageId && this.auth.companyId == x.companyId){\r\n        dropdownlist2.push(x)\r\n      }\r\n    })\r\n    return dropdownlist2.sort((a, b) => (a.value > b.value) ? 1 : -1);\r\n  }\r\n\r\n  forLanguageFilterWithoutKey(list: any, val: { key: any, value: any, languageId: any, companyId: any }, _filter: any = {}, addblank: boolean = false,) {\r\n    let dropdownlist: dropdownelement2[] = [];\r\n    let dropdownlist1: dropdownelement3[] = [];\r\n    let dropdownlist2: dropdownelement3[] = [];\r\n    let filter = list;\r\n    if (_filter)\r\n      filter = this.cs.filterArray(list, _filter);\r\n    if (addblank)\r\n      dropdownlist.push({ key: '', value: '', languageId: '', companyId: '' });\r\n    for (const l of filter) {\r\n      let filter2 = this.cs.filterArray(dropdownlist, { key: l[val.key] })\r\n      if (filter2.length == 0)\r\n      dropdownlist1.push({ value: l[val.key], label: l[val.value], languageId: l[val.languageId], companyId: l[val.companyId]});\r\n    }\r\n    dropdownlist1.forEach(x=> {\r\n      if(this.auth.languageId == x.languageId && this.auth.companyId == x.companyId){\r\n        dropdownlist2.push(x)\r\n      }\r\n    })\r\n    return dropdownlist2.sort((a, b) => (a.value > b.value) ? 1 : -1);\r\n  }\r\n\r\n}\r\n"],
  "mappings": "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",
  "names": ["url"]
}
