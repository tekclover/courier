import{a as Ct,b as xt,c as ti,d as ii}from"./chunk-VYWKJKFA.js";import{a as ei}from"./chunk-AHWDA4HQ.js";import{a as Qe}from"./chunk-WSSFXFTH.js";import{a as It}from"./chunk-JINQHUE7.js";import{a as _e}from"./chunk-M25YEJQX.js";import{a as Ae,b as Ue}from"./chunk-JKZWSLYV.js";import{a as q}from"./chunk-VUSORBJH.js";import{$ as te,$a as G,A as se,Aa as wi,Ab as Be,B as p,Ba as re,C as ce,Ca as N,Cb as $e,D as x,Da as R,Db as ze,E as o,Ea as L,Eb as Ye,F as i,G as _,Ga as Fe,H as de,Ha as he,I as pe,Ia as O,J as I,Ja as j,K as g,L as y,La as B,Lb as Vi,Mb as Ri,N as Te,Na as Ge,Nb as Li,O as Ne,Oa as A,Ob as Zt,P as Ee,Pa as U,Pb as Jt,Q as M,Qa as Y,Qb as ae,R as c,Rb as Xt,S as T,Sb as Oi,T as S,U as k,V as F,W as D,Wa as W,X as v,Z as ee,Za as H,_a as E,aa as me,ea as ue,f as Di,fa as ie,fb as De,ga as z,gb as X,hb as Yt,ia as Z,ib as Me,jb as Pe,la as Mi,lb as Pi,mb as fe,n as Ze,na as Je,nb as Ve,o as $t,ob as Re,p as ye,pb as ge,q as P,qb as qe,r as zt,rb as Ke,s as h,t as f,tb as Le,va as ne,x as s,xa as V,xb as Oe,y as m,ya as ke,yb as oe,z as b,zb as je}from"./chunk-OEJ43FKK.js";var ni=(()=>{let l=class l{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/company/"+e+"?languageId="+this.auth.languageId)}Create(e){return this.http.post("/overc-idmaster-service/company",e)}Update(e){return this.http.patch("/overc-idmaster-service/company/"+e.companyId+"?languageId="+this.auth.languageId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/company/"+e+"?languageId="+this.auth.languageId)}search(e){return this.http.post("/overc-idmaster-service/company/find",e)}};l.\u0275fac=function(t){return new(t||l)(ye(Je),ye(E))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:"root"});let n=l;return n})();var An=["company"],Un=()=>({width:"80vw"}),yt=()=>({width:"100%"}),Wn=()=>({width:"100rem"});function Hn(n,l){if(n&1&&(o(0,"th",39),c(1),_(2,"p-sortIcon",40),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function Gn(n,l){if(n&1&&(o(0,"tr")(1,"th",36),_(2,"p-tableHeaderCheckbox",37),i(),b(3,Hn,3,3,"th",38),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function qn(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function Kn(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Qn(n,l){if(n&1&&(o(0,"td"),b(1,qn,2,1,"ng-container",44)(2,Kn,2,4,"ng-template",null,2,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function $n(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",41)(2,"p-checkbox",42),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedCompany,t)||(r.selectedCompany=t),f(t)}),i()(),b(3,Qn,4,2,"td",43),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedCompany[0]===a),s(2),k("ngModel",t.selectedCompany),p("value",a),s(),p("ngForOf",e)}}function zn(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",45),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}var Bi=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.auth=K,this.spin=Q,this.fb=$,this.companyTable=[],this.selectedCompany=[],this.cols=[],this.target=[],this.searchform=this.fb.group({countryId:[],provinceId:[],districtId:[],cityId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={countryId:"Country",provinceId:"Province",districtId:"District",cityId:"City",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.countryDropdown=[],this.provinceDropdown=[],this.districtDropdown=[],this.cityDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","Company "];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyId",header:"Company ID"},{field:"companyName",header:"Company Name"},{field:"addressLine1",header:"Address Line 1"},{field:"addressLine2",header:"Address Line 2"},{field:"addressLine3",header:"Address Line 3"},{field:"addressLine4",header:"Address Line 4"},{field:"statusDescription",header:"Status"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"statusId",header:"Status ID"},{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"countryId",header:"Country ID"},{field:"countryName",header:"Country Name"},{field:"provinceId",header:"Province ID"},{field:"provinceName",header:"Province Name"},{field:"districtId",header:"District ID"},{field:"districtName",header:"District Name"},{field:"cityId",header:"City ID"},{field:"cityName",header:"City Name"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],this.service.search(e).subscribe({next:t=>{this.companyTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedCompany[this.selectedCompany.length-1];this.selectedCompany.length=0,this.selectedCompany.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedCompany[0])})}openCrud(e="New",t=null){if(this.selectedCompany.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedCompany[0],pageflow:e});this.router.navigate(["/main/idMaster/company-new/"+r])}}deleteDialog(){if(this.selectedCompany.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedCompany,module:"Company",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedCompany[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e.companyId).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.companyId+" Deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.companyTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy"):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Company")}getSearchDropdown(){this.companyTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.countryId!=null&&(this.countryDropdown.push({value:e.countryId,label:e.countryName}),this.countryDropdown=this.cs.removeDuplicatesFromArrayList(this.countryDropdown,"value")),e.provinceId!=null&&(this.provinceDropdown.push({value:e.provinceId,label:e.provinceName}),this.provinceDropdown=this.cs.removeDuplicatesFromArrayList(this.provinceDropdown,"value")),e.districtId!=null&&(this.districtDropdown.push({value:e.districtId,label:e.districtName}),this.districtDropdown=this.cs.removeDuplicatesFromArrayList(this.districtDropdown,"value")),e.cityId!=null&&(this.cityDropdown.push({value:e.cityId,label:e.cityName}),this.cityDropdown=this.cs.removeDuplicatesFromArrayList(this.cityDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.companyTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({countryId:[],provinceId:[],districtId:[],cityId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(ni),m(ae),m(Z),m(E),m(W),m(A))},l.\u0275cmp=P({type:l,selectors:[["app-company"]],viewQuery:function(t,r){if(t&1&&Te(An,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:55,vars:46,consts:[["company",""],["companyTag",""],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","countryId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","provinceId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","districtId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","cityId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"]],template:function(t,r){if(t&1){let d=I();o(0,"div",3)(1,"div",4)(2,"p",5),c(3,"Company "),i(),o(4,"div",4)(5,"img",6),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",7),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",8),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",9),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",10),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",11),c(11," Add New"),i()()(),o(12,"div",12)(13,"p-iconField",13)(14,"p-inputIcon",14),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",15),g("input",function(w){h(d);let C=M(51);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",16,0)(18,"form",17)(19,"div",18)(20,"div",19)(21,"p",20),c(22,"Country"),i(),_(23,"p-multiSelect",21),i(),o(24,"div",19)(25,"p",20),c(26,"Province"),i(),_(27,"p-multiSelect",22),i(),o(28,"div",19)(29,"p",20),c(30,"District"),i(),_(31,"p-multiSelect",23),i(),o(32,"div",19)(33,"p",20),c(34,"City"),i(),_(35,"p-multiSelect",24),i(),o(36,"div",19)(37,"p",20),c(38,"Status"),i(),_(39,"p-multiSelect",25),i()(),o(40,"div",26)(41,"div")(42,"img",27),g("click",function(){return h(d),f(r.reset())}),i()(),o(43,"div")(44,"button",28),g("click",function(){return h(d),f(r.closeOverLay())}),c(45,"Cancel"),i(),o(46,"button",29),g("click",function(){return h(d),f(r.search())}),c(47,"Apply"),i()()()()(),o(48,"p-chips",30),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(49,"div",31)(50,"p-table",32,1),b(52,Gn,4,2,"ng-template",33)(53,$n,4,5,"ng-template",34)(54,zn,4,1,"ng-template",35),i()()()}t&2&&(s(16),x(v(34,Un)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(35,yt)),p("options",r.countryDropdown)("panelStyle",v(36,yt)),s(4),x(v(37,yt)),p("options",r.provinceDropdown)("panelStyle",v(38,yt)),s(4),x(v(39,yt)),p("options",r.districtDropdown)("panelStyle",v(40,yt)),s(4),x(v(41,yt)),p("options",r.cityDropdown)("panelStyle",v(42,yt)),s(4),x(v(43,yt)),p("options",r.statusDropdown)("panelStyle",v(44,yt)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.companyTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(45,Wn)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}.search[_ngcontent-%COMP%]{box-shadow:0 4px 15px #0003!important}"]});let n=l;return n})();var ri=(()=>{let l=class l{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/language/"+e)}Create(e){return this.http.post("/overc-idmaster-service/language",e)}Update(e){return this.http.patch("/overc-idmaster-service/language/"+e.languageId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/language/"+e)}search(e){return this.http.post("/overc-idmaster-service/language/find",e)}};l.\u0275fac=function(t){return new(t||l)(ye(Je),ye(E))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:"root"});let n=l;return n})();var Yn=["language"],Zn=()=>({width:"80vw"}),Ui=()=>({width:"100%"});function Jn(n,l){if(n&1&&(o(0,"th",38),c(1),_(2,"p-sortIcon",39),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function Xn(n,l){if(n&1&&(o(0,"tr")(1,"th",35),_(2,"p-tableHeaderCheckbox",36),i(),b(3,Jn,3,3,"th",37),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function er(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function tr(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function ir(n,l){if(n&1&&(o(0,"td"),b(1,er,2,1,"ng-container",43)(2,tr,2,4,"ng-template",null,3,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function nr(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",40)(2,"p-checkbox",41),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedLanguage,t)||(r.selectedLanguage=t),f(t)}),i()(),b(3,ir,4,2,"td",42),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedLanguage[0]===a),s(2),k("ngModel",t.selectedLanguage),p("value",a),s(),p("ngForOf",e)}}function rr(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",44),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}function or(n,l){n&1&&(o(0,"button",45),c(1,"Edit"),i(),o(2,"button",45),c(3,"Confirm"),i())}var Wi=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.auth=K,this.fb=Q,this.spin=$,this.languageTable=[],this.selectedLanguage=[],this.cols=[],this.target=[],this.searchform=this.fb.group({languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={languageId:"Language"},this.languageDropdown=[]}ngOnInit(){let e=["Setup","Language"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Description"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField1",header:"Reference Field 6"},{field:"referenceField2",header:"Reference Field 7"},{field:"referenceField3",header:"Reference Field 8"},{field:"referenceField4",header:"Reference Field 9"},{field:"referenceField5",header:"Reference Field 10"}]}initialCall(){setTimeout(()=>{this.spin.show(),this.service.search({}).subscribe({next:e=>{this.languageTable=e,this.getSearchDropdown(),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})},500)}onChange(){let e=this.selectedLanguage[this.selectedLanguage.length-1];this.selectedLanguage.length=0,this.selectedLanguage.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedLanguage[0])})}openCrud(e="New",t=null){if(this.selectedLanguage.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedLanguage[0],pageflow:e});this.router.navigate(["/main/idMaster/language-new/"+r])}}deleteDialog(){if(this.selectedLanguage.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedLanguage,module:"Language",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedLanguage[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e.languageId).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.languageId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.languageTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy"):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Language")}getSearchDropdown(){this.languageTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0).map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.languageTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(ri),m(ae),m(Z),m(E),m(A),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-language-new"]],viewQuery:function(t,r){if(t&1&&Te(Yn,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:42,vars:21,consts:[["language",""],["languageTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","languageId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","sortField","createdOn","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","sortOrder","paginator","rows","showCurrentPageReport"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,r){if(t&1){let d=I();o(0,"div",4)(1,"div",5)(2,"p",6),c(3,"Language "),i(),o(4,"div",5)(5,"img",7),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",8),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",9),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",10),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",11),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",12),c(11," Add New"),i()()(),o(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",16),g("input",function(w){h(d);let C=M(35);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),c(22,"Language"),i(),_(23,"p-multiSelect",22),i()(),o(24,"div",23)(25,"div")(26,"img",24),g("click",function(){return h(d),f(r.reset())}),i()(),o(27,"div")(28,"button",25),g("click",function(){return h(d),f(r.closeOverLay())}),c(29,"Cancel"),i(),o(30,"button",26),g("click",function(){return h(d),f(r.search())}),c(31,"Apply"),i()()()()(),o(32,"p-chips",27),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(33,"div",28)(34,"p-table",29,1),b(36,Xn,4,2,"ng-template",30)(37,nr,4,5,"ng-template",31)(38,rr,4,1,"ng-template",32),i()()(),o(39,"mat-menu",33,2),b(41,or,4,0,"ng-template",34),i()}t&2&&(s(16),x(v(18,Zn)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(19,Ui)),p("options",r.languageDropdown)("panelStyle",v(20,Ui)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.languageTable)("scrollable",!0)("sortOrder",-1)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,Ye,$e,ze,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=l;return n})();function ar(n,l){n&1&&(o(0,"p",15),c(1,"1"),i())}function lr(n,l){n&1&&_(0,"img",16)}function sr(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11),b(2,ar,2,0,"p",12)(3,lr,1,0,"img",13),i(),o(4,"div")(5,"p",14),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function cr(n,l){if(n&1&&(o(0,"mat-error",26)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function dr(n,l){if(n&1&&(o(0,"mat-error",26)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function pr(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Language ID"),i(),_(4,"input",20),b(5,cr,3,1,"mat-error",21),i(),o(6,"div",18)(7,"p",19),c(8,"Description"),i(),_(9,"input",22),b(10,dr,3,1,"mat-error",21),i()(),o(11,"div",23)(12,"button",24),c(13,"Cancel"),i(),o(14,"button",25),g("click",function(){h(a);let t=y();return f(t.save())}),c(15),i()()}if(n&2){let a,e,t=y();s(4),p("ngClass",(a=t.form.get("languageId"))!=null&&a.invalid&&t.submitted?"invalid":""),s(),p("ngIf",t.errorHandling("languageId")),s(4),p("ngClass",(e=t.form.get("languageDescription"))!=null&&e.invalid&&t.submitted?"invalid":""),s(),p("ngIf",t.errorHandling("languageDescription")),s(5),S(" ",t.pageToken.pageflow!="New"?"Update":"Save","")}}function mr(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11)(2,"p",27),c(3," 2"),i()(),o(4,"div")(5,"p",28),c(6," Admin"),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function ur(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",29),c(3,"Created By"),i(),_(4,"input",30),i(),o(5,"div",18)(6,"p",29),c(7,"Created On"),i(),_(8,"input",31),i(),o(9,"div",18)(10,"p",29),c(11,"Updated By"),i(),_(12,"input",32),i(),o(13,"div",18)(14,"p",29),c(15,"Updated On"),i(),_(16,"input",33),ee(17,"date"),i()(),o(18,"div",23)(19,"button",34),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(20,"Back"),i(),o(21,"button",35),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(22),i()()}if(n&2){let a=y(2);s(16),p("value",te(17,2,a.form.controls.updatedOn.value,"dd-MM-yyyy HH:mm")),s(6),S(" ",a.pageToken.pageflow!="New"?"Update":"Save"," ")}}function hr(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,mr,7,2,"ng-template",7)(2,ur,23,5,"ng-template",8),i())}var Hi=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.numberRangeService=K,this.messageService=Q,this.active=0,this.form=this.fb.group({languageId:[,[N.required,N.maxLength(50)]],languageDescription:[,[N.required,N.maxLength(100)]],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.btnText="Save"}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Language",this.pageToken.pageflow];if(this.path.setData(t),this.pageToken.pageflow!="New")this.btnText="Update",this.fill(this.pageToken.line);else{this.spin.show();let r={};r.numberRangeObject=["LANGUAGE"],this.numberRangeService.search(r).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.languageId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.languageId.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value)),this.form.controls.languageId.disable()}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.languageId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/language"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.languageId+" has been created successfully"}),this.router.navigate(["/main/idMaster/language"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(ri),m(Qe),m(U))},l.\u0275cmp=P({type:l,selectors:[["app-language-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","languageId","placeholder","Enter",1,"w-100",3,"ngClass"],["class","text-danger",4,"ngIf"],["maxlength","100","pInputText","","formControlName","languageDescription","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/language",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"formControlLabel","f600","textBlack","mb-0"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100",3,"value"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i(),o(4,"div",1)(5,"button",3),c(6,"Transfer"),i()()(),o(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(10,"p-stepperPanel"),b(11,sr,7,2,"ng-template",7)(12,pr,16,5,"ng-template",8),i(),b(13,hr,3,0,"p-stepperPanel",9),i()()()()),t&2&&(s(3),S("Language - ",r.pageToken.pageflow," "),s(5),p("formGroup",r.form),s(),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,z,ke,Y,G,Ke,qe,O,re,R,L,Ge,Le,Be,j,B,Z],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}"]});let n=l;return n})();var oi=(()=>{let l=class l{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/consignmentType/"+e)}Create(e){return this.http.post("/overc-idmaster-service/consignmentType",e)}Update(e){return this.http.patch("/overc-idmaster-service/consignmentType/"+e.consignmentTypeId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/consignmentType/"+e+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId)}search(e){return this.http.post("/overc-idmaster-service/consignmentType/find",e)}};l.\u0275fac=function(t){return new(t||l)(ye(Je),ye(E))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:"root"});let n=l;return n})();var fr=["consignmentType"],gr=()=>({width:"80vw"}),ai=()=>({width:"100%"}),_r=()=>({width:"100rem"});function yr(n,l){if(n&1&&(o(0,"th",39),c(1),_(2,"p-sortIcon",40),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function vr(n,l){if(n&1&&(o(0,"tr")(1,"th",36),_(2,"p-tableHeaderCheckbox",37),i(),b(3,yr,3,3,"th",38),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function br(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function wr(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Cr(n,l){if(n&1&&(o(0,"td"),b(1,br,2,1,"ng-container",44)(2,wr,2,4,"ng-template",null,3,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function xr(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",41)(2,"p-checkbox",42),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedConsignmentType,t)||(r.selectedConsignmentType=t),f(t)}),i()(),b(3,Cr,4,2,"td",43),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedConsignmentType[0]===a),s(2),k("ngModel",t.selectedConsignmentType),p("value",a),s(),p("ngForOf",e)}}function Ir(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",45),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}function Sr(n,l){n&1&&(o(0,"button",46),c(1,"Edit"),i(),o(2,"button",46),c(3,"Confirm"),i())}var qi=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.auth=K,this.fb=Q,this.spin=$,this.consignmentTypeTable=[],this.selectedConsignmentType=[],this.cols=[],this.target=[],this.searchform=this.fb.group({consignmentTypeId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={consignmentTypeId:"Consignment Type",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.consignmentTypeDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","Consignment Type"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"consignmentTypeId",header:"Consignment Type ID"},{field:"consignmentTypeText",header:"Consignment Type Name"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remark"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{this.consignmentTypeTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedConsignmentType[this.selectedConsignmentType.length-1];this.selectedConsignmentType.length=0,this.selectedConsignmentType.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedConsignmentType[0])})}openCrud(e="New",t=null){if(this.selectedConsignmentType.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedConsignmentType[0],pageflow:e});this.router.navigate(["/main/idMaster/consignmentType-new/"+r])}}deleteDialog(){if(this.selectedConsignmentType.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedConsignmentType,module:"Consignment Type",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedConsignmentType[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e.consignmentTypeId).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.consignmentTypeId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.consignmentTypeTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy"):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Consignment Type")}getSearchDropdown(){this.consignmentTypeTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.consignmentTypeId!=null&&(this.consignmentTypeDropdown.push({value:e.consignmentTypeId,label:e.consignmentTypeText}),this.consignmentTypeDropdown=this.cs.removeDuplicatesFromArrayList(this.consignmentTypeDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.consignmentTypeTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({consignmentTypeId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(oi),m(ae),m(Z),m(E),m(A),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-consignment-type"]],viewQuery:function(t,r){if(t&1&&Te(fr,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:46,vars:28,consts:[["consignmentType",""],["ConsignmentTypeTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","consignmentTypeId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,r){if(t&1){let d=I();o(0,"div",4)(1,"div",5)(2,"p",6),c(3,"Consignment Type "),i(),o(4,"div",5)(5,"img",7),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",8),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",9),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",10),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",11),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",12),c(11," Add New"),i()()(),o(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",16),g("input",function(w){h(d);let C=M(39);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),c(22,"Consignment Type"),i(),_(23,"p-multiSelect",22),i(),o(24,"div",20)(25,"p",21),c(26,"Status"),i(),_(27,"p-multiSelect",23),i()(),o(28,"div",24)(29,"div")(30,"img",25),g("click",function(){return h(d),f(r.reset())}),i()(),o(31,"div")(32,"button",26),g("click",function(){return h(d),f(r.closeOverLay())}),c(33,"Cancel"),i(),o(34,"button",27),g("click",function(){return h(d),f(r.search())}),c(35,"Apply"),i()()()()(),o(36,"p-chips",28),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(37,"div",29)(38,"p-table",30,1),b(40,vr,4,2,"ng-template",31)(41,xr,4,5,"ng-template",32)(42,Ir,4,1,"ng-template",33),i()()(),o(43,"mat-menu",34,2),b(45,Sr,4,0,"ng-template",35),i()}t&2&&(s(16),x(v(22,gr)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(23,ai)),p("options",r.consignmentTypeDropdown)("panelStyle",v(24,ai)),s(4),x(v(25,ai)),p("options",r.statusDropdown)("panelStyle",v(26,ai)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.consignmentTypeTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(27,_r)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,Ye,$e,ze,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=l;return n})();var At=()=>({width:"100%"});function Tr(n,l){n&1&&(o(0,"p",15),c(1,"1"),i())}function Nr(n,l){n&1&&_(0,"img",16)}function Er(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11),b(2,Tr,2,0,"p",12)(3,Nr,1,0,"img",13),i(),o(4,"div")(5,"p",14),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function kr(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Fr(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Dr(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Mr(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Language"),i(),_(4,"p-dropdown",20),b(5,kr,3,1,"mat-error",21),i(),o(6,"div",18)(7,"p",19),c(8,"Company"),i(),_(9,"p-dropdown",22),b(10,Fr,3,1,"mat-error",21),i(),o(11,"div",18)(12,"p",19),c(13," Consignment Type ID"),i(),_(14,"input",23),b(15,Dr,3,1,"mat-error",21),i(),o(16,"div",18)(17,"p",24),c(18,"Consignment Type Name"),i(),_(19,"input",25),i(),o(20,"div",18)(21,"p",19),c(22,"Status"),i(),_(23,"p-dropdown",26),i(),o(24,"div",18)(25,"p",19),c(26,"Remark"),i(),_(27,"input",27),i()(),o(28,"div",28)(29,"button",29),c(30,"Cancel"),i(),o(31,"button",30),g("click",function(){h(a);let t=y();return f(t.save())}),c(32),i()()}if(n&2){let a,e,t=y();s(4),x(v(19,At)),p("options",t.languageIdList)("disabled",!0)("panelStyle",v(20,At)),s(),p("ngIf",t.errorHandling("languageId")),s(4),x(v(21,At)),p("options",t.companyIdList)("disabled",!0)("panelStyle",v(22,At)),s(),p("ngIf",t.errorHandling("companyId")),s(4),p("ngClass",(a=t.form.get("consignmentTypeId"))!=null&&a.invalid&&((a=t.form.get("consignmentTypeId"))!=null&&a.dirty)?"invalid":""),s(),p("ngIf",t.errorHandling("consignmentTypeId")),s(4),p("ngClass",(e=t.form.get("consignmentTypeText"))!=null&&e.invalid&&t.submitted?"ng-invalid ng-dirty":""),s(4),x(v(23,At)),p("options",t.status),s(9),T(t.pageToken.pageflow!="New"?"Update":"Save")}}function Pr(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11)(2,"p",32),c(3," 2"),i()(),o(4,"div")(5,"p",33),c(6," Admin"),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function Vr(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Created By"),i(),_(4,"input",34),i(),o(5,"div",18)(6,"p",19),c(7,"Created On"),i(),_(8,"input",35),i(),o(9,"div",18)(10,"p",19),c(11,"Updated By"),i(),_(12,"input",36),i(),o(13,"div",18)(14,"p",19),c(15,"Updated On"),i(),_(16,"input",37),i()(),o(17,"div",28)(18,"button",38),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19,"Back"),i(),o(20,"button",30),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(21),T(a.pageToken.pageflow!="New"?"Update":"Save")}}function Rr(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,Pr,7,2,"ng-template",7)(2,Vr,22,1,"ng-template",8),i())}var Ki=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.messageService=K,this.numberRangeService=Q,this.auth=$,this.cas=He,this.active=0,this.status=[],this.form=this.fb.group({consignmentTypeId:[],consignmentTypeText:[,N.required],languageId:[this.auth.languageId,N.required],languageDescription:[],companyId:[this.auth.companyId,N.required],companyName:[],remark:[],statusDescription:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""],statusId:["16"]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[],this.companyIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Consignment Type",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.form.controls.consignmentTypeId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let r={};r.numberRangeObject=["CONSIGNMENTTYPE"],this.numberRangeService.search(r).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.consignmentTypeId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.consignmentTypeId.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.consignmentTypeId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/consignmentType"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.consignmentTypeId+" has been created successfully"}),this.router.navigate(["/main/idMaster/consignmentType"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(oi),m(U),m(Qe),m(E),m(_e))},l.\u0275cmp=P({type:l,selectors:[["app-consignment-type-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","consignmentTypeId","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","100","pInputText","","formControlName","consignmentTypeText","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select\xA0",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/consignmentType",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i(),o(4,"div",1)(5,"button",3),c(6,"Transfer"),i()()(),o(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(10,"p-stepperPanel"),b(11,Er,7,2,"ng-template",7)(12,Mr,33,24,"ng-template",8),i(),b(13,Rr,3,0,"p-stepperPanel",9),i()()()()),t&2&&(s(3),S("Consignment Type - ",r.pageToken.pageflow,""),s(5),p("formGroup",r.form),s(),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,z,ke,Y,De,G,Ke,qe,O,re,R,L,Ge,Le,Be,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}"]});let n=l;return n})();var Vt=(()=>{let l=class l{constructor(e,t){this.http=e,this.auth=t}Get(e,t,r,d,u){return this.http.get("/overc-idmaster-service/menu/"+r+"?languageId="+this.auth.languageId+u+t+d)}Create(e){return this.http.post("/overc-idmaster-service/menu",e)}Update(e){return this.http.patch("/overc-idmaster-service/menu/"+e.menuId+"?authorizationObjectId="+e.authorizationObjectId+"&companyId="+this.auth.companyId+"&languageId="+this.auth.languageId+"&subMenuId="+e.subMenuId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/menu/"+e.menuId+"?authorizationObjectId="+e.authorizationObjectId+"&companyId="+this.auth.companyId+"&languageId="+this.auth.languageId+"&subMenuId="+e.subMenuId)}search(e){return this.http.post("/overc-idmaster-service/menu/find",e)}};l.\u0275fac=function(t){return new(t||l)(ye(Je),ye(E))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:"root"});let n=l;return n})();var Lr=["menu"],Or=()=>({width:"80vw"}),Rt=()=>({width:"100%"}),jr=()=>({width:"100rem"});function Br(n,l){if(n&1&&(o(0,"th",40),c(1),_(2,"p-sortIcon",41),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function Ar(n,l){if(n&1&&(o(0,"tr")(1,"th",37),_(2,"p-tableHeaderCheckbox",38),i(),b(3,Br,3,3,"th",39),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function Ur(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function Wr(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Hr(n,l){if(n&1&&(o(0,"td"),b(1,Ur,2,1,"ng-container",45)(2,Wr,2,4,"ng-template",null,3,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function Gr(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",42)(2,"p-checkbox",43),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedMenu,t)||(r.selectedMenu=t),f(t)}),i()(),b(3,Hr,4,2,"td",44),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedMenu[0]===a),s(2),k("ngModel",t.selectedMenu),p("value",a),s(),p("ngForOf",e)}}function qr(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",46),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}function Kr(n,l){n&1&&(o(0,"button",47),c(1,"Edit"),i(),o(2,"button",47),c(3,"Confirm"),i())}var Qi=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.fb=K,this.auth=Q,this.spin=$,this.menuTable=[],this.selectedMenu=[],this.cols=[],this.target=[],this.searchform=this.fb.group({menuId:[],subMenuId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={menuId:"Menu",subMenuId:"Sub Menu",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.menuDropdown=[],this.subMenuDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","Menu"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyIdAndDescription",header:"Company"},{field:"menuId",header:"Menu ID"},{field:"menuName",header:"Menu Name"},{field:"subMenuName",header:"Sub Menu Name"},{field:"statusDescription",header:"Status"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"companyId",header:"Company ID"},{field:"languageId",header:"Language ID"},{field:"languageIdAndDescription",header:"Language"},{field:"subMenuId",header:"Sub Menu ID"},{field:"authorizationObjectId",header:"Authorization Object ID"},{field:"authorizationObjectValue",header:"Authorization Object Value"},{field:"authorizationObject",header:"Authorization Object"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{this.menuTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedMenu[this.selectedMenu.length-1];this.selectedMenu.length=0,this.selectedMenu.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedMenu[0])})}openCrud(e="New",t=null){if(this.selectedMenu.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedMenu[0],pageflow:e});this.router.navigate(["/main/idMaster/menu-new/"+r])}}deleteDialog(){if(this.selectedMenu.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedMenu,module:"Menu",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedMenu[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.menuId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.menuTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?(console.log(3),r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Menu")}getSearchDropdown(){this.menuTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.menuId!=null&&(this.menuDropdown.push({value:e.menuId,label:e.menuName}),this.menuDropdown=this.cs.removeDuplicatesFromArrayList(this.menuDropdown,"value")),e.subMenuId!=null&&(this.subMenuDropdown.push({value:e.subMenuId,label:e.subMenuName}),this.subMenuDropdown=this.cs.removeDuplicatesFromArrayList(this.subMenuDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.menuTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({menuId:[],subMenuId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(Vt),m(ae),m(Z),m(A),m(E),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-menu"]],viewQuery:function(t,r){if(t&1&&Te(Lr,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:50,vars:34,consts:[["menu",""],["menuTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","menuId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","subMenuId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,r){if(t&1){let d=I();o(0,"div",4)(1,"div",5)(2,"p",6),c(3,"Menu "),i(),o(4,"div",5)(5,"img",7),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",8),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",9),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",10),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",11),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",12),c(11," Add New"),i()()(),o(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",16),g("input",function(w){h(d);let C=M(43);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),c(22,"Menu"),i(),_(23,"p-multiSelect",22),i(),o(24,"div",20)(25,"p",21),c(26,"Sub Menu"),i(),_(27,"p-multiSelect",23),i(),o(28,"div",20)(29,"p",21),c(30,"Status"),i(),_(31,"p-multiSelect",24),i()(),o(32,"div",25)(33,"div")(34,"img",26),g("click",function(){return h(d),f(r.reset())}),i()(),o(35,"div")(36,"button",27),g("click",function(){return h(d),f(r.closeOverLay())}),c(37,"Cancel"),i(),o(38,"button",28),g("click",function(){return h(d),f(r.search())}),c(39,"Apply"),i()()()()(),o(40,"p-chips",29),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(41,"div",30)(42,"p-table",31,1),b(44,Ar,4,2,"ng-template",32)(45,Gr,4,5,"ng-template",33)(46,qr,4,1,"ng-template",34),i()()(),o(47,"mat-menu",35,2),b(49,Kr,4,0,"ng-template",36),i()}t&2&&(s(16),x(v(26,Or)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(27,Rt)),p("options",r.menuDropdown)("panelStyle",v(28,Rt)),s(4),x(v(29,Rt)),p("options",r.subMenuDropdown)("panelStyle",v(30,Rt)),s(4),x(v(31,Rt)),p("options",r.statusDropdown)("panelStyle",v(32,Rt)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.menuTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(33,jr)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,Ye,$e,ze,j,B,Z]});let n=l;return n})();var Ut=()=>({width:"100%"});function Qr(n,l){n&1&&(o(0,"p",15),c(1,"1"),i())}function $r(n,l){n&1&&_(0,"img",16)}function zr(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11),b(2,Qr,2,0,"p",12)(3,$r,1,0,"img",13),i(),o(4,"div")(5,"p",14),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function Yr(n,l){if(n&1&&(o(0,"mat-error",32)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Zr(n,l){if(n&1&&(o(0,"mat-error",32)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Jr(n,l){if(n&1&&(o(0,"mat-error",32)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Xr(n,l){if(n&1&&(o(0,"mat-error",32)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function eo(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Language"),i(),_(4,"p-dropdown",20),b(5,Yr,3,1,"mat-error",21),i(),o(6,"div",18)(7,"p",19),c(8,"Company"),i(),_(9,"p-dropdown",22),b(10,Zr,3,1,"mat-error",21),i(),o(11,"div",18)(12,"p",23),c(13,"Menu ID"),i(),_(14,"input",24),i(),o(15,"div",18)(16,"p",23),c(17,"Menu Name"),i(),_(18,"input",25),b(19,Jr,3,1,"mat-error",21),i(),o(20,"div",18)(21,"p",23),c(22,"Sub Menu ID"),i(),_(23,"input",26),i(),o(24,"div",18)(25,"p",23),c(26,"Sub Menu Name"),i(),_(27,"input",27),b(28,Xr,3,1,"mat-error",21),i(),o(29,"div",18)(30,"p",19),c(31,"Status"),i(),_(32,"p-dropdown",28),i()(),o(33,"div",29)(34,"button",30),c(35,"Cancel"),i(),o(36,"button",31),g("click",function(){h(a);let t=y();return f(t.save())}),c(37),i()()}if(n&2){let a,e,t=y();s(4),x(v(20,Ut)),p("options",t.languageIdList)("disabled",!0)("panelStyle",v(21,Ut)),s(),p("ngIf",t.errorHandling("languageId")),s(4),x(v(22,Ut)),p("options",t.companyIdList)("disabled",!0)("panelStyle",v(23,Ut)),s(),p("ngIf",t.errorHandling("companyId")),s(8),p("ngClass",(a=t.form.get("menuName"))!=null&&a.invalid&&t.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",t.errorHandling("menuName")),s(8),p("ngClass",(e=t.form.get("subMenuName"))!=null&&e.invalid&&t.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",t.errorHandling("subMenuName")),s(4),x(v(24,Ut)),p("options",t.status),s(5),T(t.pageToken.pageflow!="New"?"Update":"Save")}}function to(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11)(2,"p",33),c(3," 2"),i()(),o(4,"div")(5,"p",34),c(6," Admin"),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function io(n,l){if(n&1){let a=I();o(0,"div",35)(1,"div",18)(2,"p",19),c(3,"Created By"),i(),_(4,"input",36),i(),o(5,"div",18)(6,"p",19),c(7,"Created On"),i(),_(8,"input",37),i(),o(9,"div",18)(10,"p",19),c(11,"Updated By"),i(),_(12,"input",38),i(),o(13,"div",18)(14,"p",19),c(15,"Updated On"),i(),_(16,"input",39),i()(),o(17,"div",29)(18,"button",40),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19,"Back"),i(),o(20,"button",31),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(21),T(a.pageToken.pageflow!="New"?"Update":"Save")}}function no(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,to,7,2,"ng-template",7)(2,io,22,1,"ng-template",8),i())}var $i=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.numberRangeService=K,this.messageService=Q,this.cas=$,this.auth=He,this.active=0,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId,N.required],languageIdAndDescription:[],companyId:[this.auth.companyId,N.required],companyIdAndDescription:[],menuId:[,N.required],menuName:[,N.required],subMenuId:[,N.required],subMenuName:[,N.required],authorizationObject:[],authorizationObjectId:[],authorizationObjectValue:[],statusId:["16"],statusDescription:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[],this.companyIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Menu",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.menuId.disable(),this.form.controls.subMenuId.disable(),this.form.controls.authorizationObjectId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.updatedBy.disable();else{this.spin.show();let r={};r.numberRangeObject=["MENU"],this.numberRangeService.search(r).subscribe({next:u=>{u.length>0&&(this.nextNumber=Number(u[0].numberRangeCurrent)+1,this.form.controls.menuId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.menuId.disable()),this.spin.hide()},error:u=>{this.spin.hide(),this.cs.commonerrorNew(u)}}),this.spin.show();let d={};d.numberRangeObject=["SUBMENU"],this.numberRangeService.search(d).subscribe({next:u=>{u.length>0&&(this.nextNumber=Number(u[0].numberRangeCurrent)+1,this.form.controls.subMenuId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField9.patchValue(this.numCondition),this.form.controls.subMenuId.disable()),this.spin.hide()},error:u=>{this.spin.hide(),this.cs.commonerrorNew(u)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.menuId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/menu"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.menuId+" has been created successfully"}),this.router.navigate(["/main/idMaster/menu"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(Vt),m(Qe),m(U),m(_e),m(E))},l.\u0275cmp=P({type:l,selectors:[["app-menu-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","50","formControlName","menuId","pInputText","","pKeyFilter","num","placeholder","Enter",1,"w-100"],["maxlength","50","formControlName","menuName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","50","formControlName","subMenuId","pInputText","","pKeyFilter","num","placeholder","Enter",1,"w-100"],["maxlength","50","formControlName","subMenuName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select","filter","true",3,"options"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/menu",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i(),o(4,"div",1)(5,"button",3),c(6,"Transfer"),i()()(),o(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(10,"p-stepperPanel"),b(11,zr,7,2,"ng-template",7)(12,eo,38,25,"ng-template",8),i(),b(13,no,3,0,"p-stepperPanel",9),i()()()()),t&2&&(s(3),S("Menu - ",r.pageToken.pageflow,""),s(5),p("formGroup",r.form),s(),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,z,ke,Y,De,G,Ke,qe,O,re,R,L,Ge,Le,Be,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=l;return n})();var li=(()=>{let l=class l{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/status/"+e)}Create(e){return this.http.post("/overc-idmaster-service/status",e)}Update(e){return this.http.patch("/overc-idmaster-service/status/"+e.statusId+"?languageId="+this.auth.languageId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/status/"+e+"?languageId="+this.auth.languageId)}search(e){return this.http.post("/overc-idmaster-service/status/find",e)}};l.\u0275fac=function(t){return new(t||l)(ye(Je),ye(E))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:"root"});let n=l;return n})();var Yi=()=>({width:"100%"});function ro(n,l){n&1&&(o(0,"p",15),c(1,"1"),i())}function oo(n,l){n&1&&_(0,"img",16)}function ao(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11),b(2,ro,2,0,"p",12)(3,oo,1,0,"img",13),i(),o(4,"div")(5,"p",14),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function lo(n,l){if(n&1&&(o(0,"mat-error",28)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function so(n,l){if(n&1&&(o(0,"mat-error",28)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function co(n,l){if(n&1&&(o(0,"mat-error",28)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function po(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Language"),i(),_(4,"p-dropdown",20),b(5,lo,3,1,"mat-error",21),i(),o(6,"div",18)(7,"p",19),c(8,"Status ID"),i(),_(9,"input",22),b(10,so,3,1,"mat-error",21),i(),o(11,"div",18)(12,"p",23),c(13,"Description"),i(),_(14,"input",24),b(15,co,3,1,"mat-error",21),i()(),o(16,"div",25)(17,"button",26),c(18,"Cancel"),i(),o(19,"button",27),g("click",function(){h(a);let t=y();return f(t.save())}),c(20),i()()}if(n&2){let a,e=y();s(4),x(v(9,Yi)),p("options",e.languageIdList)("panelStyle",v(10,Yi)),s(),p("ngIf",e.errorHandling("languageId")),s(5),p("ngIf",e.errorHandling("statusId")),s(4),p("ngClass",(a=e.form.get("statusDescription"))!=null&&a.invalid&&e.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",e.errorHandling("statusDescription")),s(5),T(e.pageToken.pageflow!="New"?"Update":"Save")}}function mo(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11)(2,"p",29),c(3," 2"),i()(),o(4,"div")(5,"p",30),c(6," Admin"),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function uo(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Created By"),i(),_(4,"input",31),i(),o(5,"div",18)(6,"p",19),c(7,"Created On"),i(),_(8,"input",32),i(),o(9,"div",18)(10,"p",19),c(11,"Updated By"),i(),_(12,"input",33),i(),o(13,"div",18)(14,"p",19),c(15,"Updated On"),i(),_(16,"input",34),i()(),o(17,"div",25)(18,"button",35),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19,"Back"),i(),o(20,"button",27),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(21),T(a.pageToken.pageflow!="New"?"Update":"Save")}}function ho(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,mo,7,2,"ng-template",7)(2,uo,22,1,"ng-template",8),i())}var Zi=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.cas=K,this.numberRangeService=Q,this.auth=$,this.messageService=He,this.active=0,this.form=this.fb.group({statusId:[],statusDescription:[,N.required],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""],languageId:[this.auth.languageId,N.required],languageDescription:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Status",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.languageId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let r={};r.numberRangeObject=["STATUS"],this.numberRangeService.search(r).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.statusId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.statusId.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.statusId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/status"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.statusId+" has been created successfully"}),this.router.navigate(["/main/idMaster/status"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(li),m(_e),m(Qe),m(E),m(U))},l.\u0275cmp=P({type:l,selectors:[["app-status-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","panelStyle"],["class","text-danger",4,"ngIf"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","statusId","pInputText","","placeholder","Enter",1,"w-100"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","100","pInputText","","formControlName","statusDescription","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/status",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i(),o(4,"div",1)(5,"button",3),c(6,"Transfer"),i()()(),o(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(10,"p-stepperPanel"),b(11,ao,7,2,"ng-template",7)(12,po,21,11,"ng-template",8),i(),b(13,ho,3,0,"p-stepperPanel",9),i()()()()),t&2&&(s(3),S("Status - ",r.pageToken.pageflow,""),s(5),p("formGroup",r.form),s(),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,z,ke,Y,De,G,Ke,qe,O,re,R,L,Ge,Le,Be,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}"]});let n=l;return n})();var fo=["status"],go=()=>({width:"80vw"}),Ji=()=>({width:"100%"});function _o(n,l){if(n&1&&(o(0,"th",38),c(1),_(2,"p-sortIcon",39),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function yo(n,l){if(n&1&&(o(0,"tr")(1,"th",35),_(2,"p-tableHeaderCheckbox",36),i(),b(3,_o,3,3,"th",37),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function vo(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function bo(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function wo(n,l){if(n&1&&(o(0,"td"),b(1,vo,2,1,"ng-container",43)(2,bo,2,4,"ng-template",null,3,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function Co(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",40)(2,"p-checkbox",41),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedStatus,t)||(r.selectedStatus=t),f(t)}),i()(),b(3,wo,4,2,"td",42),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedStatus[0]===a),s(2),k("ngModel",t.selectedStatus),p("value",a),s(),p("ngForOf",e)}}function xo(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",44),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}function Io(n,l){n&1&&(o(0,"button",45),c(1,"Edit"),i(),o(2,"button",45),c(3,"Confirm"),i())}var Xi=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.auth=K,this.fb=Q,this.spin=$,this.statusTable=[],this.selectedStatus=[],this.cols=[],this.target=[],this.searchform=this.fb.group({statusId:[],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={statusId:"Status"},this.languageDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","Status"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"statusId",header:"Status ID"},{field:"statusDescription",header:"Description"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageDescription",header:"Language"},{field:"languageId",header:"Language ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.statusTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedStatus[this.selectedStatus.length-1];this.selectedStatus.length=0,this.selectedStatus.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedStatus[0])})}openCrud(e="New",t=null){if(this.selectedStatus.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedStatus[0],pageflow:e});this.router.navigate(["/main/idMaster/status-new/"+r])}}deleteDialog(){if(this.selectedStatus.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedStatus,module:"Status",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedStatus[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e.statusId).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.statusId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.statusTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy"):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Status")}getSearchDropdown(){this.statusTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.statusTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({statusId:[],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(li),m(ae),m(Z),m(E),m(A),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-status"]],viewQuery:function(t,r){if(t&1&&Te(fo,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:42,vars:20,consts:[["status",""],["statusTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,r){if(t&1){let d=I();o(0,"div",4)(1,"div",5)(2,"p",6),c(3,"Status "),i(),o(4,"div",5)(5,"img",7),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",8),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",9),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",10),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",11),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",12),c(11," Add New"),i()()(),o(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",16),g("input",function(w){h(d);let C=M(35);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),c(22,"Status"),i(),_(23,"p-multiSelect",22),i()(),o(24,"div",23)(25,"div")(26,"img",24),g("click",function(){return h(d),f(r.reset())}),i()(),o(27,"div")(28,"button",25),g("click",function(){return h(d),f(r.closeOverLay())}),c(29,"Cancel"),i(),o(30,"button",26),g("click",function(){return h(d),f(r.search())}),c(31,"Apply"),i()()()()(),o(32,"p-chips",27),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(33,"div",28)(34,"p-table",29,1),b(36,yo,4,2,"ng-template",30)(37,Co,4,5,"ng-template",31)(38,xo,4,1,"ng-template",32),i()()(),o(39,"mat-menu",33,2),b(41,Io,4,0,"ng-template",34),i()}t&2&&(s(16),x(v(17,go)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(18,Ji)),p("options",r.statusDropdown)("panelStyle",v(19,Ji)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.statusTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,Ye,$e,ze,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=l;return n})();var To=()=>({width:"100%"});function No(n,l){n&1&&(o(0,"p",15),c(1,"1"),i())}function Eo(n,l){n&1&&_(0,"img",16)}function ko(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11),b(2,No,2,0,"p",12)(3,Eo,1,0,"img",13),i(),o(4,"div")(5,"p",14),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function Fo(n,l){if(n&1&&(o(0,"mat-error",28)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Do(n,l){if(n&1&&(o(0,"mat-error",28)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Mo(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Currency ID"),i(),_(4,"input",20),b(5,Fo,3,1,"mat-error",21),i(),o(6,"div",18)(7,"p",19),c(8,"Currency Description"),i(),_(9,"input",22),b(10,Do,3,1,"mat-error",21),i(),o(11,"div",18)(12,"p",23),c(13,"Status"),i(),_(14,"p-dropdown",24),i()(),o(15,"div",25)(16,"button",26),c(17,"Cancel"),i(),o(18,"button",27),g("click",function(){h(a);let t=y();return f(t.save())}),c(19),i()()}if(n&2){let a,e,t=y();s(4),p("ngClass",(a=t.form.get("currencyId"))!=null&&a.invalid&&t.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",t.errorHandling("currencyId")),s(4),p("ngClass",(e=t.form.get("currencyDescription"))!=null&&e.invalid&&t.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",t.errorHandling("currencyId")),s(4),x(v(8,To)),p("options",t.status),s(5),T(t.pageToken.pageflow!="New"?"Update":"Save")}}function Po(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11)(2,"p",29),c(3," 2"),i()(),o(4,"div")(5,"p",30),c(6," Admin"),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function Vo(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",23),c(3,"Created By"),i(),_(4,"input",31),i(),o(5,"div",18)(6,"p",23),c(7,"Created On"),i(),_(8,"input",32),i(),o(9,"div",18)(10,"p",23),c(11,"Updated By"),i(),_(12,"input",33),i(),o(13,"div",18)(14,"p",23),c(15,"Updated On"),i(),_(16,"input",34),i()(),o(17,"div",25)(18,"button",35),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19,"Back"),i(),o(20,"button",27),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(21),T(a.pageToken.pageflow!="New"?"Update":"Save")}}function Ro(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,Po,7,2,"ng-template",7)(2,Vo,22,1,"ng-template",8),i())}var en=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.messageService=K,this.cas=Q,this.numberRangeService=$,this.auth=He,this.active=0,this.status=[],this.form=this.fb.group({currencyId:[,N.required],currencyDescription:[,N.required],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""],statusDescription:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],statusId:["16"]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Currency",this.pageToken.pageflow];if(this.path.setData(t),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.currencyId.disable();else{this.spin.show();let r={};r.numberRangeObject=["CURRENCY"],this.numberRangeService.search(r).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.currencyId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.currencyId.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.currencyId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/currency"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.currencyId+" has been created successfully"}),this.router.navigate(["/main/idMaster/currency"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(ei),m(U),m(_e),m(Qe),m(E))},l.\u0275cmp=P({type:l,selectors:[["app-currency-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","currencyId","placeholder","Enter",1,"w-100",3,"ngClass"],["class","text-danger",4,"ngIf"],["maxlength","100","pInputText","","formControlName","currencyDescription","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],[1,"formControlLabel","f600","textBlack","mb-0"],["appendTo","body","formControlName","statusId","placeholder","Select\xA0",3,"options"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/currency",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i(),o(4,"div",1)(5,"button",3),c(6,"Transfer"),i()()(),o(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(10,"p-stepperPanel"),b(11,ko,7,2,"ng-template",7)(12,Mo,20,9,"ng-template",8),i(),b(13,Ro,3,0,"p-stepperPanel",9),i()()()()),t&2&&(s(3),S("Currency - ",r.pageToken.pageflow,""),s(5),p("formGroup",r.form),s(),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,z,ke,Y,De,G,Ke,qe,O,re,R,L,Ge,Le,Be,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}"]});let n=l;return n})();var Lo=["currency"],Oo=()=>({width:"80vw"}),si=()=>({width:"100%"}),jo=()=>({width:"100rem"});function Bo(n,l){if(n&1&&(o(0,"th",39),c(1),_(2,"p-sortIcon",40),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function Ao(n,l){if(n&1&&(o(0,"tr")(1,"th",36),_(2,"p-tableHeaderCheckbox",37),i(),b(3,Bo,3,3,"th",38),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function Uo(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function Wo(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Ho(n,l){if(n&1&&(o(0,"td"),b(1,Uo,2,1,"ng-container",44)(2,Wo,2,4,"ng-template",null,3,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function Go(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",41)(2,"p-checkbox",42),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedCurrency,t)||(r.selectedCurrency=t),f(t)}),i()(),b(3,Ho,4,2,"td",43),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedCurrency[0]===a),s(2),k("ngModel",t.selectedCurrency),p("value",a),s(),p("ngForOf",e)}}function qo(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",45),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}function Ko(n,l){n&1&&(o(0,"button",46),c(1,"Edit"),i(),o(2,"button",46),c(3,"Confirm"),i())}var tn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.auth=K,this.fb=Q,this.spin=$,this.currencyTable=[],this.selectedCurrency=[],this.cols=[],this.target=[],this.searchform=this.fb.group({currencyId:[],statusId:[]}),this.fieldDisplayNames={currencyId:"Currency",statusId:"Status"},this.currencyDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","Currency"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"currencyId",header:" Currency ID"},{field:"currencyDescription",header:"Description"},{field:"statusDescription",header:"Status"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{this.currencyTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedCurrency[this.selectedCurrency.length-1];this.selectedCurrency.length=0,this.selectedCurrency.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedCurrency[0])})}openCrud(e="New",t=null){if(this.selectedCurrency.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedCurrency[0],pageflow:e});this.router.navigate(["/main/idMaster/currency-new/"+r])}}deleteDialog(){if(this.selectedCurrency.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedCurrency,module:"Currency",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedCurrency[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e.currencyId).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.currencyId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.currencyTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy"):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Currency")}getSearchDropdown(){this.currencyTable.forEach(e=>{e.currencyId!=null&&(this.currencyDropdown.push({value:e.currencyId,label:e.currencyDescription}),this.currencyDropdown=this.cs.removeDuplicatesFromArrayList(this.currencyDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.currencyTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({currencyId:[],statusId:[]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(ei),m(ae),m(Z),m(E),m(A),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-currency"]],viewQuery:function(t,r){if(t&1&&Te(Lo,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:46,vars:28,consts:[["currency",""],["currencyTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","currencyId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,r){if(t&1){let d=I();o(0,"div",4)(1,"div",5)(2,"p",6),c(3,"Currency "),i(),o(4,"div",5)(5,"img",7),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",8),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",9),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",10),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",11),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",12),c(11," Add New"),i()()(),o(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",16),g("input",function(w){h(d);let C=M(39);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),c(22,"Currency"),i(),_(23,"p-multiSelect",22),i(),o(24,"div",20)(25,"p",21),c(26,"Status"),i(),_(27,"p-multiSelect",23),i()(),o(28,"div",24)(29,"div")(30,"img",25),g("click",function(){return h(d),f(r.reset())}),i()(),o(31,"div")(32,"button",26),g("click",function(){return h(d),f(r.closeOverLay())}),c(33,"Cancel"),i(),o(34,"button",27),g("click",function(){return h(d),f(r.search())}),c(35,"Apply"),i()()()()(),o(36,"p-chips",28),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(37,"div",29)(38,"p-table",30,1),b(40,Ao,4,2,"ng-template",31)(41,Go,4,5,"ng-template",32)(42,qo,4,1,"ng-template",33),i()()(),o(43,"mat-menu",34,2),b(45,Ko,4,0,"ng-template",35),i()}t&2&&(s(16),x(v(22,Oo)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(23,si)),p("options",r.currencyDropdown)("panelStyle",v(24,si)),s(4),x(v(25,si)),p("options",r.statusDropdown)("panelStyle",v(26,si)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.currencyTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(27,jo)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,Ye,$e,ze,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=l;return n})();var xi=()=>({width:"100%"});function Qo(n,l){n&1&&(o(0,"p",15),c(1,"1"),i())}function $o(n,l){n&1&&_(0,"img",16)}function zo(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11),b(2,Qo,2,0,"p",12)(3,$o,1,0,"img",13),i(),o(4,"div")(5,"p",14),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function Yo(n,l){if(n&1&&(o(0,"mat-error",33)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Zo(n,l){if(n&1&&(o(0,"mat-error",33)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Jo(n,l){if(n&1&&(o(0,"mat-error",33)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Xo(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Language"),i(),_(4,"p-dropdown",20),b(5,Yo,3,1,"mat-error",21),i(),o(6,"div",18)(7,"p",22),c(8,"Company ID"),i(),_(9,"input",23),i(),o(10,"div",18)(11,"p",22),c(12," Company Name "),i(),_(13,"input",24),b(14,Zo,3,1,"mat-error",21),i(),o(15,"div",18)(16,"p",22),c(17," Address Line 1 "),i(),_(18,"input",25),b(19,Jo,3,1,"mat-error",21),i(),o(20,"div",18)(21,"p",19),c(22," Address Line 2 "),i(),_(23,"input",26),i(),o(24,"div",18)(25,"p",19),c(26," Address Line 3 "),i(),_(27,"input",27),i(),o(28,"div",18)(29,"p",19),c(30," Address Line 4 "),i(),_(31,"input",28),i(),o(32,"div",18)(33,"p",19),c(34,"Status"),i(),_(35,"p-dropdown",29),i()(),o(36,"div",30)(37,"button",31),c(38,"Cancel"),i(),o(39,"button",32),g("click",function(){h(a);let t=y();return f(t.save())}),c(40),i()()}if(n&2){let a,e,t=y();s(4),x(v(13,xi)),p("options",t.languageIdList)("panelStyle",v(14,xi)),s(),p("ngIf",t.errorHandling("languageId")),s(8),p("ngClass",(a=t.form.get("companyName"))!=null&&a.invalid&&t.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",t.errorHandling("companyName")),s(4),p("ngClass",(e=t.form.get("addressLine1"))!=null&&e.invalid&&t.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",t.errorHandling("addressLine1")),s(16),x(v(15,xi)),p("options",t.status),s(5),S(" ",t.pageToken.pageflow!="New"?"Update":"Save"," ")}}function ea(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11)(2,"p",34),c(3," 2 "),i()(),o(4,"div")(5,"p",35),c(6," Admin "),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function ta(n,l){if(n&1){let a=I();o(0,"div",36)(1,"div",18)(2,"p",19),c(3,"Created By"),i(),_(4,"input",37),i(),o(5,"div",18)(6,"p",19),c(7,"Created On"),i(),_(8,"input",38),i(),o(9,"div",18)(10,"p",19),c(11,"Updated By"),i(),_(12,"input",39),i(),o(13,"div",18)(14,"p",19),c(15,"Updated On"),i(),_(16,"input",40),i()(),o(17,"div",30)(18,"button",41),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19," Back "),i(),o(20,"button",32),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(21),S(" ",a.pageToken.pageflow!="New"?"Update":"Save"," ")}}function ia(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,ea,7,2,"ng-template",7)(2,ta,22,1,"ng-template",8),i())}var nn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.numberRangeService=K,this.messageService=Q,this.cas=$,this.auth=He,this.active=0,this.status=[],this.form=this.fb.group({addressLine1:[,N.required],addressLine2:[],addressLine3:[],addressLine4:[],cityId:[],cityName:[],companyId:[],companyName:[,N.required],countryId:[],countryName:[],districtId:[],districtName:[],languageId:[this.auth.languageId,N.required],languageDescription:[],provinceId:[],provinceName:[],statusId:["16"],statusDescription:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Company",this.pageToken.pageflow];this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.pageToken.pageflow!="New"?(this.fill(this.pageToken.line),this.form.controls.companyId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable()):this.checkNumberRange()}checkNumberRange(){this.spin.show();let e={};e.numberRangeObject=["COMPANY"],this.numberRangeService.search(e).subscribe({next:t=>{t.length>0&&(this.nextNumber=Number(t[0].numberRangeCurrent)+1,this.form.controls.companyId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.companyId.disable()),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.companyId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/company"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.companyId+" has been created successfully"}),this.router.navigate(["/main/idMaster/company"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(ni),m(Qe),m(U),m(_e),m(E))},l.\u0275cmp=P({type:l,selectors:[["app-company-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","panelStyle"],["class","text-danger",4,"ngIf"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["type","text","formControlName","companyId","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","companyName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["type","text","formControlName","addressLine1","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["type","text","formControlName","addressLine2","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","addressLine3","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","addressLine4","pInputText","","placeholder","Enter",1,"w-100"],["appendTo","body","formControlName","statusId","placeholder","Select",3,"options"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/company",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i(),o(4,"div",1)(5,"button",3),c(6,"Transfer"),i()()(),o(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(10,"p-stepperPanel"),b(11,zo,7,2,"ng-template",7)(12,Xo,41,16,"ng-template",8),i(),b(13,ia,3,0,"p-stepperPanel",9),i()()()()),t&2&&(s(3),S(" Company- ",r.pageToken.pageflow," "),s(5),p("formGroup",r.form),s(),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,z,ke,Y,De,G,Ke,qe,O,re,R,L,Be,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=l;return n})();var na=["subProduct"],ra=()=>({width:"80vw"}),Lt=()=>({width:"100%"}),oa=()=>({width:"100rem"});function aa(n,l){if(n&1&&(o(0,"th",36),c(1),_(2,"p-sortIcon",37),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function la(n,l){if(n&1&&(o(0,"tr")(1,"th",33),_(2,"p-tableHeaderCheckbox",34),i(),b(3,aa,3,3,"th",35),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function sa(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function ca(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y().$implicit,e=y().$implicit;S(" ",te(1,1,e[a.field],"dd-MM-yyyy HH:mm")," ")}}function da(n,l){if(n&1&&(o(0,"td"),b(1,sa,2,1,"ng-container",41)(2,ca,2,4,"ng-template",null,2,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function pa(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",38)(2,"p-checkbox",39),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedSubProduct,t)||(r.selectedSubProduct=t),f(t)}),i()(),b(3,da,4,2,"td",40),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedSubProduct[0]===a),s(2),k("ngModel",t.selectedSubProduct),p("value",a),s(),p("ngForOf",e)}}function ma(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",42),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}var rn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.auth=K,this.fb=Q,this.spin=$,this.subProductTable=[],this.selectedSubProduct=[],this.cols=[],this.target=[],this.searchform=this.fb.group({subProductId:[],subProductValue:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={subProductId:"Sub Product",subProductValue:"Sub Product Value",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.subProductDropdown=[],this.subProductValueDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","Sub Product"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"subProductId",header:"Sub Product ID"},{field:"subProductName",header:"Sub Product Name"},{field:"remark",header:"Remark"},{field:"statusDescription",header:"Status"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"subProductValue",header:"Sub Product Value"},{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"statusId",header:"Status ID"},{field:"subProductValue",header:"Sub Product Value"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),t=this.cs.removeDuplicatesFromArrayList(t,"subProductId"),this.subProductTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedSubProduct[this.selectedSubProduct.length-1];this.selectedSubProduct.length=0,this.selectedSubProduct.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedSubProduct[0])})}openCrud(e="New",t=null){if(this.selectedSubProduct.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedSubProduct[0],pageflow:e});this.router.navigate(["/main/idMaster/subProduct-new/"+r])}}deleteDialog(){if(this.selectedSubProduct.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedSubProduct,module:"Sub Product",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{if(t){let r={};r.languageId=[this.auth.languageId],r.companyId=[this.auth.companyId],r.subProductId=[this.selectedSubProduct[0].subProductId],this.service.search(r).subscribe({next:d=>{console.log(d),this.deleterecord(d)},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}})}deleterecord(e){this.spin.show(),this.service.DeleteBulk(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e[0].subProductId+" Deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.subProductTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?(console.log(3),r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Sub Product")}getSearchDropdown(){this.subProductTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.subProductId!=null&&(this.subProductDropdown.push({value:e.subProductId,label:e.subProductName}),this.subProductDropdown=this.cs.removeDuplicatesFromArrayList(this.subProductDropdown,"value")),e.subProductValue!=null&&(this.subProductValueDropdown.push({value:e.subProductValue,label:e.referenceField1}),this.subProductValueDropdown=this.cs.removeDuplicatesFromArrayList(this.subProductValueDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.subProductTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({subProductId:[],subProductValue:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(Ct),m(ae),m(Z),m(E),m(A),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-sub-product"]],viewQuery:function(t,r){if(t&1&&Te(na,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:47,vars:34,consts:[["subProduct",""],["subProductTag",""],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","subProductId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"]],template:function(t,r){if(t&1){let d=I();o(0,"div",3)(1,"div",4)(2,"p",5),c(3,"Sub Product "),i(),o(4,"div",4)(5,"img",6),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",7),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",8),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",9),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",10),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",11),c(11," Add New"),i()()(),o(12,"div",12)(13,"p-iconField",13)(14,"p-inputIcon",14),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",15),g("input",function(w){h(d);let C=M(43);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",16,0)(18,"form",17)(19,"div",18)(20,"div",19)(21,"p",20),c(22,"Sub Product"),i(),_(23,"p-multiSelect",21),i(),o(24,"div",19)(25,"p",20),c(26,"Sub Product Value"),i(),_(27,"p-multiSelect",21),i(),o(28,"div",19)(29,"p",20),c(30,"Status"),i(),_(31,"p-multiSelect",22),i()(),o(32,"div",23)(33,"div")(34,"img",24),g("click",function(){return h(d),f(r.reset())}),i()(),o(35,"div")(36,"button",25),g("click",function(){return h(d),f(r.closeOverLay())}),c(37,"Cancel"),i(),o(38,"button",26),g("click",function(){return h(d),f(r.search())}),c(39,"Apply"),i()()()()(),o(40,"p-chips",27),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(41,"div",28)(42,"p-table",29,1),b(44,la,4,2,"ng-template",30)(45,pa,4,5,"ng-template",31)(46,ma,4,1,"ng-template",32),i()()()}t&2&&(s(16),x(v(26,ra)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(27,Lt)),p("options",r.subProductDropdown)("panelStyle",v(28,Lt)),s(4),x(v(29,Lt)),p("options",r.subProductValueDropdown)("panelStyle",v(30,Lt)),s(4),x(v(31,Lt)),p("options",r.statusDropdown)("panelStyle",v(32,Lt)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.subProductTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(33,oa)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=l;return n})();var Si=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He,ut){this.dialogRef=e,this.data=t,this.cs=r,this.spin=d,this.route=u,this.router=w,this.path=C,this.fb=K,this.service=Q,this.messageService=$,this.cas=He,this.auth=ut,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId],languageDescription:[],companyId:[this.auth.companyId],companyName:[],subProductId:[],subProductName:[,N.required],subProductValue:[,N.required],remark:[],statusId:["1"],statusDescription:[],referenceField1:[,N.required],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[]}),this.status=[{value:"2",label:"Inactive"},{value:"1",label:"Active"}]}ngOnInit(){this.form.controls.subProductValue.patchValue(this.data),this.data.pageflow=="Edit"&&this.form.patchValue(this.data.code)}save(){this.dialogRef.close(this.form.value)}};l.\u0275fac=function(t){return new(t||l)(m(Zt),m(Jt),m(H),m(W),m(ne),m(V),m(q),m(A),m(Ct),m(U),m(_e),m(E))},l.\u0275cmp=P({type:l,selectors:[["app-sub-products-values"]],decls:21,vars:1,consts:[[1,"bgWhite","text-black","w-93","h-100","m-4","mt-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],[1,"mt-4"],[3,"formGroup"],[1,"d-flex-row"],[1,"row"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["maxlength","50","formControlName","subProductValue","pInputText","","pKeyFilter","num","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","referenceField1","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","float-right","py-2",2,"position","absolute","right","3.5%","bottom","7%"],["mat-dialog-close","",1,"buttom1","textBlack","mx-1"],["type","button",1,"buttom1","bgBlack","text-white","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3,"Add Sub Product"),i()(),o(4,"div",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"p",8),c(10,"Sub Product Value"),i(),_(11,"input",9),i(),o(12,"div",7)(13,"p",8),c(14,"Value Description"),i(),_(15,"input",10),i()(),o(16,"div",11)(17,"button",12),c(18,"Cancel"),i(),o(19,"button",13),g("click",function(){return r.save()}),c(20,"Save"),i()()()()()()),t&2&&(s(5),p("formGroup",r.form))},dependencies:[G,O,re,R,L,Ge,Le,Xt,j,B],styles:[".deleteBody[_ngcontent-%COMP%]{font-family:Nunito;font-size:14px;font-weight:400;line-height:20.8px;text-align:center;color:#fffc;padding-bottom:1rem}.deleteHeader[_ngcontent-%COMP%]{font-family:Nunito;font-size:22px;font-weight:700;line-height:31.2px;text-align:left;padding-bottom:1rem}.cancelButton[_ngcontent-%COMP%]{padding:7px 25px;gap:10px;border-radius:6px;border:1px 0px 0px 0px;opacity:0px;background-color:var(--white);color:var(--black)}.saveButton[_ngcontent-%COMP%]{padding:7px 35px;gap:10px;border-radius:6px;opacity:0px;background-color:var(--overcOrange);color:var(--black)}  .mat-mdc-dialog-container .mdc-dialog__surface{border-radius:12px!important}.deleteDialog[_ngcontent-%COMP%]{padding:2rem 1rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 35rem);overflow-y:scroll}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:1.2rem}"]});let n=l;return n})();var Wt=()=>({width:"100%"}),ua=()=>({width:"180"});function ha(n,l){if(n&1&&(o(0,"mat-error",28)(1,"small"),c(2),i()()),n&2){let a=y();s(2),T(a.getErrorMessage())}}function fa(n,l){if(n&1&&(o(0,"mat-error",28)(1,"small"),c(2),i()()),n&2){let a=y();s(2),T(a.getErrorMessage())}}function ga(n,l){if(n&1&&(o(0,"mat-error",28)(1,"small"),c(2),i()()),n&2){let a=y();s(2),T(a.getErrorMessage())}}function _a(n,l){n&1&&(o(0,"tr")(1,"th"),c(2,"Sub Product Value"),i(),o(3,"th"),c(4,"Value Description"),i(),o(5,"th"),c(6,"Actions"),i()())}function ya(n,l){if(n&1){let a=I();o(0,"tr")(1,"td")(2,"p",29),c(3),i()(),o(4,"td")(5,"p",29),c(6),i()(),o(7,"td",30)(8,"img",31),g("click",function(t){h(a);let r=M(10);return f(r.toggle(t))}),i(),o(9,"p-overlayPanel",null,0)(11,"div",32)(12,"button",33),g("click",function(){let t=h(a).rowIndex,r=M(10);return y().editItem("Edit",t),f(r.hide())}),_(13,"img",34),c(14,"Edit"),i(),o(15,"button",33),g("click",function(){let t=h(a).rowIndex,r=y();return f(r.removeItem(t))}),_(16,"img",35),c(17,"Delete"),i()()()()()}if(n&2){let a=l.$implicit;s(3),S("",a.subProductValue," "),s(3),S("",a.referenceField1," "),s(3),x(v(4,ua))}}var on=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He,ut){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.numberRangeService=K,this.messageService=Q,this.cas=$,this.auth=He,this.dialog=ut,this.active=0,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId],languageDescription:[],companyId:[this.auth.companyId],companyName:[],subProductId:[],subProductName:[,N.required],subProductValue:[],remark:[],statusId:["16"],statusDescription:[],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[],this.companyIdList=[],this.subProductArray=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Sub Product",this.pageToken.pageflow];this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"?(this.fill(this.pageToken.line),this.form.controls.subProductId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable()):this.checkNumberRange()}checkNumberRange(){this.spin.show();let e={};e.numberRangeObject=["SUBPRODUCT"],this.numberRangeService.search(e).subscribe({next:t=>{t.length>0&&(this.nextNumber=Number(t[0].numberRangeCurrent)+1,this.form.controls.subProductId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.subProductId.disable()),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}addValues(){}add(){this.dialog.open(Si,{disableClose:!0,width:"70%",height:"50%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:this.subProductArray.length+1}).afterClosed().subscribe(t=>{t&&this.subProductArray.push(t)})}removeItem(e){this.subProductArray.splice(e,1)}fill(e){this.form.patchValue(e),this.spin.show();let t={};t.languageId=[this.auth.languageId],t.companyId=[this.auth.companyId],t.subProductId=[e.subProductId],this.service.search(t).subscribe({next:r=>{console.log(r),this.subProductArray=r,this.spin.hide()},error:r=>{this.spin.hide(),this.cs.commonerrorNew(r)}}),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.subProductArray.length==0){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.subProductArray.forEach(e=>{e.languageId=this.auth.languageId,e.companyId=this.auth.companyId,e.subProductId=this.form.controls.subProductId.value,e.subProductName=this.form.controls.subProductName.value,e.statusId=this.form.controls.statusId.value,e.remark=this.form.controls.remark.value}),this.service.UpdateBulk(this.subProductArray).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e[0].subProductId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/subProduct"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.subProductArray.forEach(e=>{e.languageId=this.auth.languageId,e.companyId=this.auth.companyId,e.subProductId=this.form.controls.subProductId.value,e.subProductName=this.form.controls.subProductName.value,e.statusId=this.form.controls.statusId.value,e.remark=this.form.controls.remark.value}),this.service.CreateBulk(this.subProductArray).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e[0].subProductId+" has been created successfully"}),this.router.navigate(["/main/idMaster/subProduct"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}editItem(e,t){this.dialog.open(Si,{disableClose:!0,width:"70%",height:"50%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{pageflow:e,code:this.subProductArray[t]}}).afterClosed().subscribe(d=>{d&&(this.subProductArray.splice(t,0),this.subProductArray.splice(t,1,d),console.log(d),this.subProductArray=[...this.subProductArray])})}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(Ct),m(Qe),m(U),m(_e),m(E),m(ae))},l.\u0275cmp=P({type:l,selectors:[["app-sub-product-new"]],decls:51,vars:27,consts:[["op",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"mx-auto","mt-4"],[3,"formGroup"],[1,"d-flex-row"],[1,"row","scrollNew"],[1,"col-4","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","subProductId","pInputText","","placeholder","Enter",1,"w-100"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","100","pInputText","","formControlName","subProductName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select ",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","justify-content-end","mb-3"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],["scrollHeight","calc(100vh - 31.8rem)",3,"scrollable","value"],["pTemplate","header"],["pTemplate","body"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/subProduct",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"w-100","pl-2","ml-2"],["pFrozenColumn","","alignFrozen","right",2,"padding-left","1.5rem !important"],["type","button","src","./assets/common/actions.png","alt","","srcset","",2,"height","1.4rem",3,"click"],[1,"d-flex","flex-column"],["mat-menu-item","",1,"w-100",2,"width","8rem",3,"click"],["src","./assets/common/edit.png","srcset","",2,"padding-right","10px","width","2rem"],["src","./assets/common/deletetool.png","srcset","",2,"padding-right","10px","width","2rem"]],template:function(t,r){if(t&1&&(o(0,"div",1)(1,"div",2)(2,"p",3),c(3),i(),o(4,"div",2)(5,"button",4),c(6,"Transfer"),i()()(),o(7,"div",5)(8,"form",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"p",10),c(13,"Language"),i(),_(14,"p-dropdown",11),b(15,ha,3,1,"mat-error",12),i(),o(16,"div",9)(17,"p",10),c(18,"Company"),i(),_(19,"p-dropdown",13),b(20,fa,3,1,"mat-error",12),i(),o(21,"div",9)(22,"p",10),c(23,"Sub Product ID"),i(),_(24,"input",14),i(),o(25,"div",9)(26,"p",15),c(27,"Sub Product Name"),i(),_(28,"input",16),b(29,ga,3,1,"mat-error",12),i(),o(30,"div",9)(31,"p",10),c(32,"Status"),i(),_(33,"p-dropdown",17),i(),o(34,"div",9)(35,"p",10),c(36,"Remark"),i(),_(37,"input",18),i()(),o(38,"div",19)(39,"button",20),g("click",function(){return r.add()}),_(40,"i",21),c(41,"Add Values"),i()(),o(42,"div",7)(43,"p-table",22),b(44,_a,7,0,"ng-template",23)(45,ya,18,5,"ng-template",24),i()()(),o(46,"div",25)(47,"button",26),c(48,"Cancel"),i(),o(49,"button",27),g("click",function(){return r.save()}),c(50),i()()()()()),t&2){let d;s(3),S("Sub Product - ",r.pageToken.pageflow,""),s(5),p("formGroup",r.form),s(6),x(v(22,Wt)),p("options",r.languageIdList)("disabled",!0)("panelStyle",v(23,Wt)),s(),p("ngIf",r.errorHandling("languageId")),s(4),x(v(24,Wt)),p("options",r.companyIdList)("disabled",!0)("panelStyle",v(25,Wt)),s(),p("ngIf",r.errorHandling("companyId")),s(8),p("ngClass",(d=r.form.get("subProductName"))!=null&&d.invalid&&r.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",r.errorHandling("subProductName")),s(4),x(v(26,Wt)),p("options",r.status),s(10),p("scrollable",!0)("value",r.subProductArray),s(7),T(r.pageToken.pageflow!="New"?"Update":"Save")}},dependencies:[ue,z,ke,Y,X,Yt,De,G,O,re,R,L,Ge,Le,oe,Be,$e,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:1.5rem}.img-icon[_ngcontent-%COMP%]{gap:2rem}"]});let n=l;return n})();var ci=(()=>{let l=class l{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/loadType/"+e)}Create(e){return this.http.post("/overc-idmaster-service/loadType",e)}Update(e){return this.http.patch("/overc-idmaster-service/loadType/"+e.loadTypeId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/loadType/"+e+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId)}search(e){return this.http.post("/overc-idmaster-service/loadType/find",e)}};l.\u0275fac=function(t){return new(t||l)(ye(Je),ye(E))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:"root"});let n=l;return n})();var va=["loadType"],ba=()=>({width:"80vw"}),di=()=>({width:"100%"}),wa=()=>({width:"100rem"});function Ca(n,l){if(n&1&&(o(0,"th",39),c(1),_(2,"p-sortIcon",40),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function xa(n,l){if(n&1&&(o(0,"tr")(1,"th",36),_(2,"p-tableHeaderCheckbox",37),i(),b(3,Ca,3,3,"th",38),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function Ia(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function Sa(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Ta(n,l){if(n&1&&(o(0,"td"),b(1,Ia,2,1,"ng-container",44)(2,Sa,2,4,"ng-template",null,3,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function Na(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",41)(2,"p-checkbox",42),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedLoadType,t)||(r.selectedLoadType=t),f(t)}),i()(),b(3,Ta,4,2,"td",43),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedLoadType[0]===a),s(2),k("ngModel",t.selectedLoadType),p("value",a),s(),p("ngForOf",e)}}function Ea(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",45),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}function ka(n,l){n&1&&(o(0,"button",46),c(1,"Edit"),i(),o(2,"button",46),c(3,"Confirm"),i())}var ln=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.auth=K,this.fb=Q,this.spin=$,this.loadTypeTable=[],this.selectedLoadType=[],this.cols=[],this.target=[],this.searchform=this.fb.group({loadTypeId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={loadTypeId:"Load Type",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.loadTypeDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","Load Type"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"loadTypeId",header:"Load Type ID"},{field:"loadTypeText",header:"Load Type Name"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remark"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageDescription",header:"Language"},{field:"languageId",header:"Language ID"},{field:"companyId",header:"Company ID"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{this.loadTypeTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedLoadType[this.selectedLoadType.length-1];this.selectedLoadType.length=0,this.selectedLoadType.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedLoadType[0])})}openCrud(e="New",t=null){if(this.selectedLoadType.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedLoadType[0],pageflow:e});this.router.navigate(["/main/idMaster/loadType-new/"+r])}}deleteDialog(){if(this.selectedLoadType.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedLoadType,module:"Load Type",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedLoadType[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e.loadTypeId).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.loadTypeId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.loadTypeTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy"):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Load Type")}getSearchDropdown(){this.loadTypeTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.loadTypeId!=null&&(this.loadTypeDropdown.push({value:e.loadTypeId,label:e.loadTypeText}),this.loadTypeDropdown=this.cs.removeDuplicatesFromArrayList(this.loadTypeDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.loadTypeTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({loadTypeId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(ci),m(ae),m(Z),m(E),m(A),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-load-type"]],viewQuery:function(t,r){if(t&1&&Te(va,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:46,vars:28,consts:[["loadType",""],["loadTypeTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","loadTypeId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,r){if(t&1){let d=I();o(0,"div",4)(1,"div",5)(2,"p",6),c(3,"Load Type "),i(),o(4,"div",5)(5,"img",7),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",8),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",9),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",10),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",11),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",12),c(11," Add New"),i()()(),o(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",16),g("input",function(w){h(d);let C=M(39);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),c(22,"Load Type"),i(),_(23,"p-multiSelect",22),i(),o(24,"div",20)(25,"p",21),c(26,"Status"),i(),_(27,"p-multiSelect",23),i()(),o(28,"div",24)(29,"div")(30,"img",25),g("click",function(){return h(d),f(r.reset())}),i()(),o(31,"div")(32,"button",26),g("click",function(){return h(d),f(r.closeOverLay())}),c(33,"Cancel"),i(),o(34,"button",27),g("click",function(){return h(d),f(r.search())}),c(35,"Apply"),i()()()()(),o(36,"p-chips",28),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(37,"div",29)(38,"p-table",30,1),b(40,xa,4,2,"ng-template",31)(41,Na,4,5,"ng-template",32)(42,Ea,4,1,"ng-template",33),i()()(),o(43,"mat-menu",34,2),b(45,ka,4,0,"ng-template",35),i()}t&2&&(s(16),x(v(22,ba)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(23,di)),p("options",r.loadTypeDropdown)("panelStyle",v(24,di)),s(4),x(v(25,di)),p("options",r.statusDropdown)("panelStyle",v(26,di)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.loadTypeTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(27,wa)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,Ye,$e,ze,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=l;return n})();function sn(){return n=>n.value&&n.value.trim()!==n.value?{leadingTrailingSpaces:!0}:null}var Ht=()=>({width:"100%"});function Fa(n,l){n&1&&(o(0,"p",15),c(1,"1"),i())}function Da(n,l){n&1&&_(0,"img",16)}function Ma(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11),b(2,Fa,2,0,"p",12)(3,Da,1,0,"img",13),i(),o(4,"div")(5,"p",14),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function Pa(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Va(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Ra(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Language "),i(),_(4,"p-dropdown",20),b(5,Pa,3,1,"mat-error",21),i(),o(6,"div",18)(7,"p",19),c(8,"Company "),i(),_(9,"p-dropdown",22),b(10,Va,3,1,"mat-error",21),i(),o(11,"div",18)(12,"p",19),c(13,"Load Type ID"),i(),_(14,"input",23),i(),o(15,"div",18)(16,"p",24),c(17,"Load Type Name"),i(),_(18,"input",25),i(),o(19,"div",18)(20,"p",19),c(21,"Remark"),i(),_(22,"input",26),i(),o(23,"div",18)(24,"p",19),c(25,"Status"),i(),_(26,"p-dropdown",27),i()(),o(27,"div",28)(28,"button",29),c(29,"Cancel"),i(),o(30,"button",30),g("click",function(){h(a);let t=y();return f(t.save())}),c(31),i()()}if(n&2){let a,e,t=y();s(4),x(v(18,Ht)),p("options",t.languageIdList)("disabled",!0)("panelStyle",v(19,Ht)),s(),p("ngIf",t.errorHandling("languageId")),s(4),x(v(20,Ht)),p("options",t.companyIdList)("disabled",!0)("panelStyle",v(21,Ht)),s(),p("ngIf",t.errorHandling("companyId")),s(4),p("ngClass",(a=t.form.get("loadTypeId"))!=null&&a.invalid&&((a=t.form.get("loadTypeId"))!=null&&a.dirty)?"invalid":""),s(4),p("ngClass",(e=t.form.get("loadTypeText"))!=null&&e.invalid&&t.submitted?"ng-invalid ng-dirty":""),s(8),x(v(22,Ht)),p("options",t.status),s(5),T(t.pageToken.pageflow!="New"?"Update":"Save")}}function La(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11)(2,"p",32),c(3," 2"),i()(),o(4,"div")(5,"p",33),c(6," Admin"),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function Oa(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Created By"),i(),_(4,"input",34),i(),o(5,"div",18)(6,"p",19),c(7,"Created On"),i(),_(8,"input",35),i(),o(9,"div",18)(10,"p",19),c(11,"Updated By"),i(),_(12,"input",36),i(),o(13,"div",18)(14,"p",19),c(15,"Updated On"),i(),_(16,"input",37),i()(),o(17,"div",28)(18,"button",38),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19,"Back"),i(),o(20,"button",30),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(21),T(a.pageToken.pageflow!="New"?"Update":"Save")}}function ja(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,La,7,2,"ng-template",7)(2,Oa,22,1,"ng-template",8),i())}var cn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.numberRangeService=K,this.messageService=Q,this.cas=$,this.auth=He,this.active=0,this.status=[],this.form=this.fb.group({loadTypeId:[],loadTypeText:[,[N.required,sn()]],languageId:[this.auth.languageId,N.required],languageDescription:[],companyId:[this.auth.companyId,N.required],companyName:[],statusId:["16"],statusDescription:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],remark:[]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[],this.companyIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Load Type",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.loadTypeId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let r={};r.numberRangeObject=["LOADTYPE"],this.numberRangeService.search(r).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.loadTypeId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.loadTypeId.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.loadTypeId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/loadType"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.loadTypeId+" has been created successfully"}),this.router.navigate(["/main/idMaster/loadType"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(ci),m(Qe),m(U),m(_e),m(E))},l.\u0275cmp=P({type:l,selectors:[["app-load-type-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","loadTypeId","placeholder","Enter",1,"w-100",3,"ngClass"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","100","pInputText","","formControlName","loadTypeText","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],["appendTo","body","formControlName","statusId","placeholder","Select","filter","true",3,"options"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/loadType",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i(),o(4,"div",1)(5,"button",3),c(6,"Transfer"),i()()(),o(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(10,"p-stepperPanel"),b(11,Ma,7,2,"ng-template",7)(12,Ra,32,23,"ng-template",8),i(),b(13,ja,3,0,"p-stepperPanel",9),i()()()()),t&2&&(s(3),S("Load Type - ",r.pageToken.pageflow,""),s(5),p("formGroup",r.form),s(),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,z,ke,Y,De,G,Ke,qe,O,re,R,L,Ge,Le,Be,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}"]});let n=l;return n})();var pi=(()=>{let l=class l{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/serviceType/"+e)}Create(e){return this.http.post("/overc-idmaster-service/serviceType",e)}Update(e){return this.http.patch("/overc-idmaster-service/serviceType/"+e.serviceTypeId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/serviceType/"+e+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId)}search(e){return this.http.post("/overc-idmaster-service/serviceType/find",e)}};l.\u0275fac=function(t){return new(t||l)(ye(Je),ye(E))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:"root"});let n=l;return n})();var Ba=["serviceType"],Aa=()=>({width:"80vw"}),mi=()=>({width:"100%"}),Ua=()=>({width:"100rem"});function Wa(n,l){if(n&1&&(o(0,"th",39),c(1),_(2,"p-sortIcon",40),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function Ha(n,l){if(n&1&&(o(0,"tr")(1,"th",36),_(2,"p-tableHeaderCheckbox",37),i(),b(3,Wa,3,3,"th",38),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function Ga(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function qa(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Ka(n,l){if(n&1&&(o(0,"td"),b(1,Ga,2,1,"ng-container",44)(2,qa,2,4,"ng-template",null,3,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function Qa(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",41)(2,"p-checkbox",42),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedServiceType,t)||(r.selectedServiceType=t),f(t)}),i()(),b(3,Ka,4,2,"td",43),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedServiceType[0]===a),s(2),k("ngModel",t.selectedServiceType),p("value",a),s(),p("ngForOf",e)}}function $a(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",45),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}function za(n,l){n&1&&(o(0,"button",46),c(1,"Edit"),i(),o(2,"button",46),c(3,"Confirm"),i())}var pn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.auth=K,this.fb=Q,this.spin=$,this.serviceTypeTable=[],this.selectedServiceType=[],this.cols=[],this.target=[],this.searchform=this.fb.group({serviceTypeId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={serviceTypeId:"Service Type",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.serviceTypeDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","Service Type"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"serviceTypeId",header:"Service Type ID"},{field:"serviceTypeText",header:"Service Type Name"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remark"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.serviceTypeTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedServiceType[this.selectedServiceType.length-1];this.selectedServiceType.length=0,this.selectedServiceType.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedServiceType[0])})}openCrud(e="New",t=null){if(this.selectedServiceType.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedServiceType[0],pageflow:e});this.router.navigate(["/main/idMaster/serviceType-new/"+r])}}deleteDialog(){if(this.selectedServiceType.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedServiceType,module:"Service Type",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedServiceType[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e.serviceTypeId).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.serviceTypeId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.serviceTypeTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?(console.log(3),r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Service Type")}getSearchDropdown(){this.serviceTypeTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.serviceTypeId!=null&&(this.serviceTypeDropdown.push({value:e.serviceTypeId,label:e.serviceTypeText}),this.serviceTypeDropdown=this.cs.removeDuplicatesFromArrayList(this.serviceTypeDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.serviceTypeTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({serviceTypeId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(pi),m(ae),m(Z),m(E),m(A),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-service-type"]],viewQuery:function(t,r){if(t&1&&Te(Ba,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:46,vars:28,consts:[["serviceType",""],["ServiceTypeTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","serviceTypeId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,r){if(t&1){let d=I();o(0,"div",4)(1,"div",5)(2,"p",6),c(3,"Service Type "),i(),o(4,"div",5)(5,"img",7),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",8),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",9),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",10),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",11),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",12),c(11," Add New"),i()()(),o(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",16),g("input",function(w){h(d);let C=M(39);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),c(22,"Service Type"),i(),_(23,"p-multiSelect",22),i(),o(24,"div",20)(25,"p",21),c(26,"Status"),i(),_(27,"p-multiSelect",23),i()(),o(28,"div",24)(29,"div")(30,"img",25),g("click",function(){return h(d),f(r.reset())}),i()(),o(31,"div")(32,"button",26),g("click",function(){return h(d),f(r.closeOverLay())}),c(33,"Cancel"),i(),o(34,"button",27),g("click",function(){return h(d),f(r.search())}),c(35,"Apply"),i()()()()(),o(36,"p-chips",28),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(37,"div",29)(38,"p-table",30,1),b(40,Ha,4,2,"ng-template",31)(41,Qa,4,5,"ng-template",32)(42,$a,4,1,"ng-template",33),i()()(),o(43,"mat-menu",34,2),b(45,za,4,0,"ng-template",35),i()}t&2&&(s(16),x(v(22,Aa)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(23,mi)),p("options",r.serviceTypeDropdown)("panelStyle",v(24,mi)),s(4),x(v(25,mi)),p("options",r.statusDropdown)("panelStyle",v(26,mi)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.serviceTypeTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(27,Ua)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,Ye,$e,ze,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=l;return n})();var Gt=()=>({width:"100%"});function Ya(n,l){n&1&&(o(0,"p",15),c(1,"1"),i())}function Za(n,l){n&1&&_(0,"img",16)}function Ja(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11),b(2,Ya,2,0,"p",12)(3,Za,1,0,"img",13),i(),o(4,"div")(5,"p",14),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function Xa(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function el(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function tl(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function il(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function nl(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Language"),i(),_(4,"p-dropdown",20),b(5,Xa,3,1,"mat-error",21),i(),o(6,"div",18)(7,"p",19),c(8,"Company"),i(),_(9,"p-dropdown",22),b(10,el,3,1,"mat-error",21),i(),o(11,"div",18)(12,"p",19),c(13,"Service Type ID"),i(),_(14,"input",23),b(15,tl,3,1,"mat-error",21),i(),o(16,"div",18)(17,"p",24),c(18,"Service Type Name"),i(),_(19,"input",25),b(20,il,3,1,"mat-error",21),i(),o(21,"div",18)(22,"p",19),c(23,"Remark"),i(),_(24,"input",26),i(),o(25,"div",18)(26,"p",19),c(27,"Status"),i(),_(28,"p-dropdown",27),i()(),o(29,"div",28)(30,"button",29),c(31,"Cancel"),i(),o(32,"button",30),g("click",function(){h(a);let t=y();return f(t.save())}),c(33),i()()}if(n&2){let a,e=y();s(4),x(v(19,Gt)),p("options",e.languageIdList)("disabled",!0)("panelStyle",v(20,Gt)),s(),p("ngIf",e.errorHandling("languageId")),s(4),x(v(21,Gt)),p("options",e.companyIdList)("disabled",!0)("panelStyle",v(22,Gt)),s(),p("ngIf",e.errorHandling("companyId")),s(5),p("ngIf",e.errorHandling("serviceTypeId")),s(4),p("ngClass",(a=e.form.get("serviceTypeText"))!=null&&a.invalid&&e.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",e.errorHandling("serviceTypeText")),s(8),x(v(23,Gt)),p("options",e.status),s(5),T(e.pageToken.pageflow!="New"?"Update":"Save")}}function rl(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11)(2,"p",32),c(3," 2"),i()(),o(4,"div")(5,"p",33),c(6," Admin"),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function ol(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Created By"),i(),_(4,"input",34),i(),o(5,"div",18)(6,"p",19),c(7,"Created On"),i(),_(8,"input",35),i(),o(9,"div",18)(10,"p",19),c(11,"Updated By"),i(),_(12,"input",36),i(),o(13,"div",18)(14,"p",19),c(15,"Updated On"),i(),_(16,"input",37),i()(),o(17,"div",28)(18,"button",38),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19,"Back"),i(),o(20,"button",30),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(21),T(a.pageToken.pageflow!="New"?"Update":"Save")}}function al(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,rl,7,2,"ng-template",7)(2,ol,22,1,"ng-template",8),i())}var mn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.messageService=K,this.numberRangeService=Q,this.auth=$,this.cas=He,this.active=0,this.status=[],this.form=this.fb.group({serviceTypeId:[],serviceTypeText:[,N.required],languageId:[this.auth.languageId,N.required],languageDescription:[],companyId:[this.auth.companyId,N.required],companyName:[],remark:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""],statusId:["16"]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[],this.companyIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Service Type",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.serviceTypeId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let r={};r.numberRangeObject=["SERVICETYPE"],this.numberRangeService.search(r).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.serviceTypeId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.serviceTypeId.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.serviceTypeId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/serviceType"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.serviceTypeId+" has been created successfully"}),this.router.navigate(["/main/idMaster/serviceType"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(pi),m(U),m(Qe),m(E),m(_e))},l.\u0275cmp=P({type:l,selectors:[["app-service-type-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","serviceTypeId","pInputText","","placeholder","Enter",1,"w-100"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","100","pInputText","","formControlName","serviceTypeText","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],["appendTo","body","formControlName","statusId","placeholder","Select","filter","true",3,"options"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/serviceType",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i(),o(4,"div",1)(5,"button",3),c(6,"Transfer"),i()()(),o(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(10,"p-stepperPanel"),b(11,Ja,7,2,"ng-template",7)(12,nl,34,24,"ng-template",8),i(),b(13,al,3,0,"p-stepperPanel",9),i()()()()),t&2&&(s(3),S("Service Type - ",r.pageToken.pageflow,""),s(5),p("formGroup",r.form),s(),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,z,ke,Y,De,G,Ke,qe,O,re,R,L,Ge,Le,Be,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}"]});let n=l;return n})();var Ot=(()=>{let l=class l{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/module/modulelist/"+e+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId)}Create(e){return this.http.post("/overc-idmaster-service/module/bulk",e)}Update(e){return this.http.patch("/overc-idmaster-service/module/"+e[0].moduleId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/module/"+e+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId)}search(e){return this.http.post("/overc-idmaster-service/module/find",e)}};l.\u0275fac=function(t){return new(t||l)(ye(Je),ye(E))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:"root"});let n=l;return n})();var ll=["module"],sl=()=>({width:"80vw"}),Tt=()=>({width:"100%"}),cl=()=>({width:"100rem"});function dl(n,l){if(n&1&&(o(0,"th",38),c(1),_(2,"p-sortIcon",39),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function pl(n,l){if(n&1&&(o(0,"tr")(1,"th",35),_(2,"p-tableHeaderCheckbox",36),i(),b(3,dl,3,3,"th",37),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function ml(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function ul(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function hl(n,l){if(n&1&&(o(0,"td"),b(1,ml,2,1,"ng-container",43)(2,ul,2,4,"ng-template",null,2,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function fl(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",40)(2,"p-checkbox",41),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedModule,t)||(r.selectedModule=t),f(t)}),i()(),b(3,hl,4,2,"td",42),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedModule[0]===a),s(2),k("ngModel",t.selectedModule),p("value",a),s(),p("ngForOf",e)}}function gl(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",44),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}var un=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.fb=K,this.auth=Q,this.spin=$,this.moduleTable=[],this.selectedModule=[],this.cols=[],this.target=[],this.searchform=this.fb.group({menuId:[],subMenuId:[],moduleId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={menuId:"Menu",subMenuId:"Sub Menu",moduleId:"Module",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.menuDropdown=[],this.subMenuDropdown=[],this.moduleDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","Module"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyIdAndDescription",header:"Company"},{field:"moduleId",header:"Module ID"},{field:"moduleDescription",header:"Description"},{field:"menuName",header:"Menu"},{field:"subMenuName",header:"Sub Menu"},{field:"statusDescription",header:"Status"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"statusId",header:"Status ID"},{field:"languageId",header:"Language ID"},{field:"companyId",header:"Company ID"},{field:"menuId",header:"Menu ID"},{field:"subMenuId",header:"Sub Menu ID"},{field:"languageIdAndDescription",header:"Language"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{t=this.cs.removeDuplicatesFromArrayList(t,"moduleId"),this.moduleTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedModule[this.selectedModule.length-1];this.selectedModule.length=0,this.selectedModule.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedModule[0])})}openCrud(e="New",t=null){if(console.log(3),this.selectedModule.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedModule[0],pageflow:e});this.router.navigate(["/main/idMaster/module-new/"+r])}}deleteDialog(){if(this.selectedModule.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedModule,module:"Module",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedModule[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e.moduleId).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.moduleId+" Deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.moduleTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy"):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Module")}getSearchDropdown(){this.moduleTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.menuId!=null&&(this.menuDropdown.push({value:e.menuId,label:e.menuName}),this.menuDropdown=this.cs.removeDuplicatesFromArrayList(this.menuDropdown,"value")),e.subMenuId!=null&&(this.subMenuDropdown.push({value:e.subMenuId,label:e.subMenuName}),this.subMenuDropdown=this.cs.removeDuplicatesFromArrayList(this.subMenuDropdown,"value")),e.moduleId!=null&&(this.moduleDropdown.push({value:e.moduleId,label:e.moduleDescription}),this.moduleDropdown=this.cs.removeDuplicatesFromArrayList(this.moduleDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.moduleTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({menuId:[],subMenuId:[],moduleId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(Ot),m(ae),m(Z),m(A),m(E),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-module"]],viewQuery:function(t,r){if(t&1&&Te(ll,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:51,vars:40,consts:[["module",""],["moduleTag",""],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","moduleId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","menuId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","subMenuId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"]],template:function(t,r){if(t&1){let d=I();o(0,"div",3)(1,"div",4)(2,"p",5),c(3,"Module "),i(),o(4,"div",4)(5,"img",6),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",7),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",8),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",9),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",10),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",11),c(11," Add New"),i()()(),o(12,"div",12)(13,"p-iconField",13)(14,"p-inputIcon",14),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",15),g("input",function(w){h(d);let C=M(47);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",16,0)(18,"form",17)(19,"div",18)(20,"div",19)(21,"p",20),c(22,"Module"),i(),_(23,"p-multiSelect",21),i(),o(24,"div",19)(25,"p",20),c(26,"Menu"),i(),_(27,"p-multiSelect",22),i(),o(28,"div",19)(29,"p",20),c(30,"Sub Menu"),i(),_(31,"p-multiSelect",23),i(),o(32,"div",19)(33,"p",20),c(34,"Status"),i(),_(35,"p-multiSelect",24),i()(),o(36,"div",25)(37,"div")(38,"img",26),g("click",function(){return h(d),f(r.reset())}),i()(),o(39,"div")(40,"button",27),g("click",function(){return h(d),f(r.closeOverLay())}),c(41,"Cancel"),i(),o(42,"button",28),g("click",function(){return h(d),f(r.search())}),c(43,"Apply"),i()()()()(),o(44,"p-chips",29),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(45,"div",30)(46,"p-table",31,1),b(48,pl,4,2,"ng-template",32)(49,fl,4,5,"ng-template",33)(50,gl,4,1,"ng-template",34),i()()()}t&2&&(s(16),x(v(30,sl)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(31,Tt)),p("options",r.moduleDropdown)("panelStyle",v(32,Tt)),s(4),x(v(33,Tt)),p("options",r.menuDropdown)("panelStyle",v(34,Tt)),s(4),x(v(35,Tt)),p("options",r.subMenuDropdown)("panelStyle",v(36,Tt)),s(4),x(v(37,Tt)),p("options",r.statusDropdown)("panelStyle",v(38,Tt)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.moduleTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(39,cl)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=l;return n})();var Dt=()=>({width:"100%"});function _l(n,l){n&1&&(o(0,"p",18),c(1,"1"),i())}function yl(n,l){n&1&&_(0,"img",19)}function vl(n,l){if(n&1&&(o(0,"div",13)(1,"div",14),b(2,_l,2,0,"p",15)(3,yl,1,0,"img",16),i(),o(4,"div")(5,"p",17),c(6,"General"),i()()()),n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function bl(n,l){if(n&1&&(o(0,"mat-error",34)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function wl(n,l){if(n&1&&(o(0,"mat-error",34)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Cl(n,l){if(n&1&&(o(0,"mat-error",34)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function xl(n,l){if(n&1&&(o(0,"mat-error",34)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Il(n,l){if(n&1){let a=I();o(0,"div",20)(1,"div",21)(2,"p",22),c(3,"Language"),i(),_(4,"p-dropdown",23),b(5,bl,3,1,"mat-error",24),i(),o(6,"div",21)(7,"p",22),c(8,"Company"),i(),_(9,"p-dropdown",25),i(),o(10,"div",21)(11,"p",26),c(12,"Menu ID"),i(),o(13,"p-dropdown",27),g("onChange",function(t){h(a);let r=y();return f(r.menuIdChanged(t))}),i(),b(14,wl,3,1,"mat-error",24),i(),o(15,"div",21)(16,"p",26),c(17,"Module ID"),i(),_(18,"input",28),b(19,Cl,3,1,"mat-error",24),i(),o(20,"div",21)(21,"p",26),c(22,"Module Description"),i(),o(23,"input",29),g("keydown",function(t){h(a);let r=y();return f(r.space(t))}),i(),b(24,xl,3,1,"mat-error",24),i(),o(25,"div",21)(26,"p",22),c(27,"Status"),i(),_(28,"p-dropdown",30),i()(),o(29,"div",31)(30,"button",32),c(31," Cancel "),i(),o(32,"button",33),g("click",function(){h(a);let t=y();return f(t.nextToSecond())}),c(33," Next "),i()()}if(n&2){let a,e,t,r=y();s(4),x(v(22,Dt)),p("options",r.languageIdList)("panelStyle",v(23,Dt)),s(),p("ngIf",r.errorHandling("languageId")),s(4),x(v(24,Dt)),p("options",r.companyIdList)("panelStyle",v(25,Dt)),s(4),x(v(26,Dt)),p("options",r.menuIdList)("ngClass",(a=r.form.get("menuId"))!=null&&a.invalid&&r.submitted?"ng-invalid ng-dirty":"")("panelStyle",v(27,Dt)),s(),p("ngIf",r.errorHandling("menuId")),s(4),p("ngClass",(e=r.form.get("moduleId"))!=null&&e.invalid&&r.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",r.errorHandling("moduleId")),s(4),p("ngClass",(t=r.form.get("moduleDescription"))!=null&&t.invalid&&r.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",r.errorHandling("moduleDescription")),s(4),x(v(28,Dt)),p("options",r.status)}}function Sl(n,l){n&1&&(o(0,"p",18),c(1,"2"),i())}function Tl(n,l){n&1&&_(0,"img",19)}function Nl(n,l){if(n&1){let a=I();o(0,"div",35),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",14),b(2,Sl,2,0,"p",15)(3,Tl,1,0,"img",16),i(),o(4,"div")(5,"p",17),c(6,"Lines"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function El(n,l){if(n&1&&(o(0,"th"),c(1),i()),n&2){let a=l.$implicit;s(),S(" ",a.header," ")}}function kl(n,l){if(n&1&&(o(0,"tr")(1,"th",39),_(2,"p-tableHeaderCheckbox",40),i(),b(3,El,2,1,"th",41),i()),n&2){let a=l.$implicit;s(3),p("ngForOf",a)}}function Fl(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function Dl(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Ml(n,l){if(n&1&&(o(0,"td"),b(1,Fl,2,1,"ng-container",44)(2,Dl,2,4,"ng-template",null,2,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function Pl(n,l){if(n&1&&(o(0,"tr")(1,"td",42),_(2,"p-tableCheckbox",43),i(),b(3,Ml,4,2,"td",41),i()),n&2){let a=l.$implicit,e=l.columns,t=y(2);ce("selectedRow",t.selectedModule[0]===a),s(2),p("value",a),s(),p("ngForOf",e)}}function Vl(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",45),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}function Rl(n,l){if(n&1){let a=I();o(0,"p-table",36,1),D("selectionChange",function(t){h(a);let r=y();return F(r.selectedModule,t)||(r.selectedModule=t),f(t)}),b(2,kl,4,1,"ng-template",10)(3,Pl,4,4,"ng-template",37)(4,Vl,4,1,"ng-template",38),i(),o(5,"div",31)(6,"button",32),c(7," Cancel "),i(),o(8,"button",33),g("click",function(){h(a);let t=y();return f(t.save())}),c(9),i()()}if(n&2){let a=y();p("columns",a.cols)("value",a.moduleTable)("scrollable",!0),k("selection",a.selectedModule),s(9),S(" ",a.pageToken.pageflow!="New"?"Update":"Save"," ")}}function Ll(n,l){if(n&1){let a=I();o(0,"div",35),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",14)(2,"p",46),c(3," 2 "),i()(),o(4,"div")(5,"p",47),c(6," Admin "),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function Ol(n,l){if(n&1){let a=I();o(0,"div",20)(1,"div",21)(2,"p",22),c(3,"Created By"),i(),_(4,"input",48),i(),o(5,"div",21)(6,"p",22),c(7,"Created On"),i(),_(8,"input",49),i(),o(9,"div",21)(10,"p",22),c(11,"Updated By"),i(),_(12,"input",50),i(),o(13,"div",21)(14,"p",22),c(15,"Updated On"),i(),_(16,"input",51),i()(),o(17,"div",31)(18,"button",52),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19," Back "),i(),o(20,"button",33),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(21),S(" ",a.pageToken.pageflow!="New"?"Update":"Save"," ")}}function jl(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,Ll,7,2,"ng-template",10)(2,Ol,22,1,"ng-template",11),i())}var hn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He,ut){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.messageService=K,this.cas=Q,this.numberRangeService=$,this.auth=He,this.menuService=ut,this.active=0,this.status=[],this.moduleTable=[],this.selectedModule=[],this.cols=[],this.form=this.fb.group({companyId:[this.auth.companyId],languageId:[this.auth.languageId],addModule:[],companyIdAndDescription:[],createUpdate:[!0],createdBy:[],createdOn:[""],delete:[!0],deletionIndicator:[],languageIdAndDescription:[],menuId:[,N.required],menuName:[],moduleDescription:[,N.required],moduleId:[,N.required],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],subMenuId:[],statusId:["16"],statusDescription:[],subMenuName:[],updatedBy:[],updatedOn:[""],view:[!0]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[],this.companyIdList=[],this.subMenuIdList=[],this.menuIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Module",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.moduleId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let r={};r.numberRangeObject=["MODULE"],this.numberRangeService.search(r).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.moduleId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.moduleId.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.menu.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.menuIdList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.menu.key),this.menuIdList=this.cs.removeDuplicatesFromArrayList(this.menuIdList,"value"),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.service.Get(e.moduleId).subscribe({next:t=>{t&&(this.form.patchValue(t[0]),this.patchTableUpdate(t))},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}patchTableUpdate(e){let t={};t.companyId=[this.auth.companyId],t.languageId=[this.auth.languageId],t.menuId=[this.form.controls.menuId.value],this.menuService.search(t).subscribe({next:r=>{this.moduleTable=[],this.selectedModule=[];let d=this.cs.removeDuplicateObj(e,r);this.moduleTable=d,this.selectedModule=e,this.cols=[{field:"menuId",header:"Menu ID"},{field:"menuName",header:"Menu Name"},{field:"subMenuId",header:"Sub Menu ID"},{field:"subMenuName",header:"Sub Menu Name"}]},error:r=>{this.spin.hide(),this.cs.commonerrorNew(r)}})}space(e){e.target.selectionStart===0&&e.code==="Space"&&e.preventDefault()}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.selectedModule.forEach(e=>{e.moduleDescription=this.form.controls.moduleDescription.value,e.moduleId=this.form.controls.moduleId.value}),this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.selectedModule).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e[0].moduleId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/module"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.selectedModule).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e[0].moduleId+" has been created successfully"}),this.router.navigate(["/main/idMaster/module"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}menuIdChanged(e){let t={};t.companyId=[this.auth.companyId],t.languageId=[this.auth.languageId],t.menuId=[e.value],this.menuService.search(t).subscribe({next:r=>{this.moduleTable=[],this.selectedModule=[],this.moduleTable=r,this.selectedModule=r,this.cols=[{field:"menuId",header:"Menu ID"},{field:"menuName",header:"Menu Name"},{field:"subMenuId",header:"Sub Menu ID"},{field:"subMenuName",header:"Sub Menu Name"}]},error:r=>{this.spin.hide(),this.cs.commonerrorNew(r)}})}nextToSecond(){if(this.submitted=!0,!this.form.controls.moduleId.value||!this.form.controls.moduleDescription.value||!this.form.controls.menuId.value){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.active=1,this.submitted=!1}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(Ot),m(U),m(_e),m(Qe),m(E),m(Vt))},l.\u0275cmp=P({type:l,selectors:[["app-module-new"]],decls:18,vars:4,consts:[["stepper",""],["moduleTag",""],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["placeholder","Select","filter","true","formControlName","menuId","appendTo","body",3,"onChange","options","ngClass","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","moduleId","placeholder","Enter",3,"ngClass"],["maxlength","100","pInputText","","formControlName","moduleDescription","placeholder","Enter",1,"w-100",3,"keydown","ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select","filter","true",3,"options"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/module",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"d-flex","flex-column","align-items-center",3,"click"],["selectionMode","multiple","scrollHeight","calc(100vh - 27.8rem)","styleClass","p-datatable-sm",1,"custom-table",3,"selectionChange","columns","value","scrollable","selection"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","5rem"],[1,"pl-3"],[4,"ngFor","ngForOf"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"value"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,r){if(t&1){let d=I();o(0,"div",3)(1,"div",4)(2,"p",5),c(3),i(),o(4,"div",4)(5,"button",6),c(6,"Transfer"),i()()(),o(7,"div",7)(8,"form",8)(9,"p-stepper",9,0),D("activeStepChange",function(w){return h(d),F(r.active,w)||(r.active=w),f(w)}),o(11,"p-stepperPanel"),b(12,vl,7,2,"ng-template",10)(13,Il,34,29,"ng-template",11),i(),o(14,"p-stepperPanel"),b(15,Nl,7,2,"ng-template",10)(16,Rl,10,5,"ng-template",11),i(),b(17,jl,3,0,"p-stepperPanel",12),i()()()()}t&2&&(s(3),S(" Module- ",r.pageToken.pageflow," "),s(5),p("formGroup",r.form),s(),k("activeStep",r.active),s(8),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,ie,z,ke,Y,X,Pi,fe,De,G,Ke,qe,O,re,R,L,Ge,Le,Be,j,B,Z],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}"]});let n=l;return n})();var Bl=["province"],Al=()=>({width:"80vw"}),jt=()=>({width:"100%"}),Ul=()=>({width:"100rem"});function Wl(n,l){if(n&1&&(o(0,"th",40),c(1),_(2,"p-sortIcon",41),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function Hl(n,l){if(n&1&&(o(0,"tr")(1,"th",37),_(2,"p-tableHeaderCheckbox",38),i(),b(3,Wl,3,3,"th",39),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function Gl(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function ql(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Kl(n,l){if(n&1&&(o(0,"td"),b(1,Gl,2,1,"ng-container",45)(2,ql,2,4,"ng-template",null,3,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function Ql(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",42)(2,"p-checkbox",43),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedProvince,t)||(r.selectedProvince=t),f(t)}),i()(),b(3,Kl,4,2,"td",44),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedProvince[0]===a),s(2),k("ngModel",t.selectedProvince),p("value",a),s(),p("ngForOf",e)}}function $l(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",46),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}function zl(n,l){n&1&&(o(0,"button",47),c(1,"Edit"),i(),o(2,"button",47),c(3,"Confirm"),i())}var fn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.auth=K,this.fb=Q,this.spin=$,this.provinceTable=[],this.selectedProvince=[],this.cols=[],this.target=[],this.searchform=this.fb.group({countryId:[],provinceId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={countryId:"Country",provinceId:"Province",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.countryDropdown=[],this.provinceDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","Province"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"countryName",header:"Country"},{field:"provinceId",header:"Province ID"},{field:"provinceName",header:"Province Name"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remark"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"countryId",header:"Country ID"},{field:"companyId",header:"Company ID"},{field:"languageId",header:"Language ID"},{field:"statusId",header:"Status ID"},{field:"languageDescription",header:"Language"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.provinceTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedProvince[this.selectedProvince.length-1];this.selectedProvince.length=0,this.selectedProvince.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedProvince[0])})}openCrud(e="New",t=null){if(this.selectedProvince.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedProvince[0],pageflow:e});this.router.navigate(["/main/idMaster/province-new/"+r])}}deleteDialog(){if(this.selectedProvince.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedProvince,module:"Province",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedProvince[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.provinceId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.provinceTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="data"?(console.log(3),r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Province")}getSearchDropdown(){this.provinceTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.countryId!=null&&(this.countryDropdown.push({value:e.countryId,label:e.countryName}),this.countryDropdown=this.cs.removeDuplicatesFromArrayList(this.countryDropdown,"value")),e.provinceId!=null&&(this.provinceDropdown.push({value:e.provinceId,label:e.provinceName}),this.provinceDropdown=this.cs.removeDuplicatesFromArrayList(this.provinceDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.provinceTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({countryId:[],provinceId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(xt),m(ae),m(Z),m(E),m(A),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-province"]],viewQuery:function(t,r){if(t&1&&Te(Bl,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:50,vars:34,consts:[["province",""],["provinceTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","countryId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","provinceId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,r){if(t&1){let d=I();o(0,"div",4)(1,"div",5)(2,"p",6),c(3,"Province "),i(),o(4,"div",5)(5,"img",7),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",8),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",9),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",10),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",11),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",12),c(11," Add New"),i()()(),o(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",16),g("input",function(w){h(d);let C=M(43);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),c(22,"Country"),i(),_(23,"p-multiSelect",22),i(),o(24,"div",20)(25,"p",21),c(26,"Province"),i(),_(27,"p-multiSelect",23),i(),o(28,"div",20)(29,"p",21),c(30,"Status"),i(),_(31,"p-multiSelect",24),i()(),o(32,"div",25)(33,"div")(34,"img",26),g("click",function(){return h(d),f(r.reset())}),i()(),o(35,"div")(36,"button",27),g("click",function(){return h(d),f(r.closeOverLay())}),c(37,"Cancel"),i(),o(38,"button",28),g("click",function(){return h(d),f(r.search())}),c(39,"Apply"),i()()()()(),o(40,"p-chips",29),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(41,"div",30)(42,"p-table",31,1),b(44,Hl,4,2,"ng-template",32)(45,Ql,4,5,"ng-template",33)(46,$l,4,1,"ng-template",34),i()()(),o(47,"mat-menu",35,2),b(49,zl,4,0,"ng-template",36),i()}t&2&&(s(16),x(v(26,Al)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(27,jt)),p("options",r.countryDropdown)("panelStyle",v(28,jt)),s(4),x(v(29,jt)),p("options",r.provinceDropdown)("panelStyle",v(30,jt)),s(4),x(v(31,jt)),p("options",r.statusDropdown)("panelStyle",v(32,jt)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.provinceTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(33,Ul)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,Ye,$e,ze,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=l;return n})();var Mt=()=>({width:"100%"});function Yl(n,l){n&1&&(o(0,"p",14),c(1,"1"),i())}function Zl(n,l){n&1&&_(0,"img",15)}function Jl(n,l){if(n&1){let a=I();o(0,"div",9),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",10),b(2,Yl,2,0,"p",11)(3,Zl,1,0,"img",12),i(),o(4,"div")(5,"p",13),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function Xl(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function es(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function ts(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function is(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function ns(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function rs(n,l){if(n&1){let a=I();o(0,"div",16)(1,"div",17)(2,"p",18),c(3,"Language"),i(),_(4,"p-dropdown",19),b(5,Xl,3,1,"mat-error",20),i(),o(6,"div",17)(7,"p",18),c(8,"Company"),i(),_(9,"p-dropdown",21),b(10,es,3,1,"mat-error",20),i(),o(11,"div",17)(12,"p",22),c(13,"Country"),i(),_(14,"p-dropdown",23),b(15,ts,3,1,"mat-error",20),i(),o(16,"div",17)(17,"p",22),c(18,"Province ID"),i(),_(19,"input",24),b(20,is,3,1,"mat-error",20),i(),o(21,"div",17)(22,"p",22),c(23,"Province Name"),i(),_(24,"input",25),b(25,ns,3,1,"mat-error",20),i(),o(26,"div",17)(27,"p",18),c(28,"Remark"),i(),_(29,"input",26),i(),o(30,"div",17)(31,"p",18),c(32,"Status"),i(),_(33,"p-dropdown",27),i()(),o(34,"div",28)(35,"button",29),c(36,"Cancel"),i(),o(37,"button",30),g("click",function(){h(a);let t=y();return f(t.save())}),c(38),i()()}if(n&2){let a,e,t,r=y();s(4),x(v(27,Mt)),p("options",r.languageIdList)("disabled",!0)("panelStyle",v(28,Mt)),s(),p("ngIf",r.errorHandling("languageId")),s(4),x(v(29,Mt)),p("options",r.companyIdList)("disabled",!0)("panelStyle",v(30,Mt)),s(),p("ngIf",r.errorHandling("companyId")),s(4),x(v(31,Mt)),p("options",r.countryIdList)("disabled",!0)("panelStyle",v(32,Mt))("ngClass",(a=r.form.get("countryId"))!=null&&a.invalid&&r.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",r.errorHandling("countryId")),s(4),p("ngClass",(e=r.form.get("provinceId"))!=null&&e.invalid&&r.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",r.errorHandling("provinceId")),s(4),p("ngClass",(t=r.form.get("provinceName"))!=null&&t.invalid&&r.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",r.errorHandling("provinceName")),s(8),x(v(33,Mt)),p("options",r.status),s(5),T(r.pageToken.pageflow!="New"?"Update":"Save")}}function os(n,l){if(n&1){let a=I();o(0,"div",9),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",10)(2,"p",32),c(3," 2"),i()(),o(4,"div")(5,"p",33),c(6," Admin"),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function as(n,l){if(n&1){let a=I();o(0,"div",34)(1,"div",17)(2,"p",18),c(3,"Created By"),i(),_(4,"input",35),i(),o(5,"div",17)(6,"p",18),c(7,"Created On"),i(),_(8,"input",36),i(),o(9,"div",17)(10,"p",18),c(11,"Updated By"),i(),_(12,"input",37),i(),o(13,"div",17)(14,"p",18),c(15,"Updated On"),i(),_(16,"input",38),i()(),o(17,"div",28)(18,"button",39),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19,"Back"),i(),o(20,"button",30),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(21),T(a.pageToken.pageflow!="New"?"Update":"Save")}}function ls(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,os,7,2,"ng-template",6)(2,as,22,1,"ng-template",7),i())}var gn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.messageService=K,this.numberRangeService=Q,this.cas=$,this.auth=He,this.active=0,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId,N.required],languageDescription:[],countryId:[,N.required],countryName:[],provinceId:[,N.required],provinceName:[,N.required],companyId:[this.auth.companyId,N.required],companyName:[],statusId:["16",N.required],statusDescription:[],remark:[],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[],this.companyIdList=[],this.countryIdList=[],this.provinceIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Province",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.countryId.disable(),this.form.controls.provinceId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let r={};r.numberRangeObject=["PROVINCE"],this.numberRangeService.search(r).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.provinceId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.provinceId.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.country.url,this.cas.dropdownlist.setup.province.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.countryIdList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.country.key),this.provinceIdList=this.cas.forLanguageFilter(e[3],this.cas.dropdownlist.setup.province.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.provinceId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/province"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.provinceId+" has been created successfully"}),this.router.navigate(["/main/idMaster/province"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(xt),m(U),m(Qe),m(_e),m(E))},l.\u0275cmp=P({type:l,selectors:[["app-province-new"]],decls:11,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body","placeholder","Select","filter","true",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body","placeholder","Select","filter","true",3,"options","disabled","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["formControlName","countryId","appendTo","body","placeholder","Select","filter","true",3,"options","disabled","panelStyle","ngClass"],["formControlName","provinceId","maxlength","50","pInputText","","pKeyFilter","alphanum","placeholder","Enter",1,"w-100",3,"ngClass"],["pInputText","","formControlName","provinceName","maxlength","50","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],["appendTo","body","formControlName","statusId","placeholder","Select",3,"options"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/province",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i()(),o(4,"div",3)(5,"form",4)(6,"p-stepper",5),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(7,"p-stepperPanel"),b(8,Jl,7,2,"ng-template",6)(9,rs,39,34,"ng-template",7),i(),b(10,ls,3,0,"p-stepperPanel",8),i()()()()),t&2&&(s(3),S("Province - ",r.pageToken.pageflow,""),s(2),p("formGroup",r.form),s(),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,z,ke,Y,De,G,Ke,qe,O,re,R,L,Ge,Le,Be,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=l;return n})();var Bt=(()=>{let l=class l{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/district/"+e)}Create(e){return this.http.post("/overc-idmaster-service/district",e)}Update(e){return this.http.patch("/overc-idmaster-service/district/"+e.districtId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId+"&countryId="+e.countryId+"&provinceId="+e.provinceId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/district/"+e.districtId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId+"&countryId="+e.countryId+"&provinceId="+e.provinceId)}search(e){return this.http.post("/overc-idmaster-service/district/find",e)}};l.\u0275fac=function(t){return new(t||l)(ye(Je),ye(E))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:"root"});let n=l;return n})();var ss=["district"],cs=()=>({width:"80vw"}),Nt=()=>({width:"100%"}),ds=()=>({width:"100rem"});function ps(n,l){if(n&1&&(o(0,"th",41),c(1),_(2,"p-sortIcon",42),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function ms(n,l){if(n&1&&(o(0,"tr")(1,"th",38),_(2,"p-tableHeaderCheckbox",39),i(),b(3,ps,3,3,"th",40),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function us(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function hs(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function fs(n,l){if(n&1&&(o(0,"td"),b(1,us,2,1,"ng-container",46)(2,hs,2,4,"ng-template",null,3,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function gs(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",43)(2,"p-checkbox",44),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedDistrict,t)||(r.selectedDistrict=t),f(t)}),i()(),b(3,fs,4,2,"td",45),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedDistrict[0]===a),s(2),k("ngModel",t.selectedDistrict),p("value",a),s(),p("ngForOf",e)}}function _s(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",47),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}function ys(n,l){n&1&&(o(0,"button",48),c(1,"Edit"),i(),o(2,"button",48),c(3,"Confirm"),i())}var _n=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.auth=K,this.fb=Q,this.spin=$,this.districtTable=[],this.selectedDistrict=[],this.cols=[],this.target=[],this.searchform=this.fb.group({countryId:[],provinceId:[],districtId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={countryId:"Country",provinceId:"Province",districtId:"District",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.countryDropdown=[],this.provinceDropdown=[],this.districtDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","District"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"districtId",header:"District ID"},{field:"districtName",header:"District Name"},{field:"countryName",header:"Country"},{field:"provinceName",header:"Province"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remark"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"countryId",header:"Country ID"},{field:"provinceId",header:"Province ID"},{field:"languageDescription",header:"Language"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{this.districtTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedDistrict[this.selectedDistrict.length-1];this.selectedDistrict.length=0,this.selectedDistrict.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedDistrict[0])})}openCrud(e="New",t=null){if(this.selectedDistrict.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedDistrict[0],pageflow:e});this.router.navigate(["/main/idMaster/district-new/"+r])}}deleteDialog(){if(this.selectedDistrict.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedDistrict,module:"District",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedDistrict[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.districtId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.districtTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy"):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"District")}getSearchDropdown(){this.districtTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.countryId!=null&&(this.countryDropdown.push({value:e.countryId,label:e.countryName}),this.countryDropdown=this.cs.removeDuplicatesFromArrayList(this.countryDropdown,"value")),e.provinceId!=null&&(this.provinceDropdown.push({value:e.provinceId,label:e.provinceName}),this.provinceDropdown=this.cs.removeDuplicatesFromArrayList(this.provinceDropdown,"value")),e.districtId!=null&&(this.districtDropdown.push({value:e.districtId,label:e.districtName}),this.districtDropdown=this.cs.removeDuplicatesFromArrayList(this.districtDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.districtTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({countryId:[],provinceId:[],districtId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(Bt),m(ae),m(Z),m(E),m(A),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-district"]],viewQuery:function(t,r){if(t&1&&Te(ss,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:54,vars:40,consts:[["district",""],["districtTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","countryId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","provinceId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","districtId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,r){if(t&1){let d=I();o(0,"div",4)(1,"div",5)(2,"p",6),c(3,"District "),i(),o(4,"div",5)(5,"img",7),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",8),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",9),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",10),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",11),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",12),c(11," Add New"),i()()(),o(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",16),g("input",function(w){h(d);let C=M(47);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),c(22,"Country"),i(),_(23,"p-multiSelect",22),i(),o(24,"div",20)(25,"p",21),c(26,"Province"),i(),_(27,"p-multiSelect",23),i(),o(28,"div",20)(29,"p",21),c(30,"District"),i(),_(31,"p-multiSelect",24),i(),o(32,"div",20)(33,"p",21),c(34,"Status"),i(),_(35,"p-multiSelect",25),i()(),o(36,"div",26)(37,"div")(38,"img",27),g("click",function(){return h(d),f(r.reset())}),i()(),o(39,"div")(40,"button",28),g("click",function(){return h(d),f(r.closeOverLay())}),c(41,"Cancel"),i(),o(42,"button",29),g("click",function(){return h(d),f(r.search())}),c(43,"Apply"),i()()()()(),o(44,"p-chips",30),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(45,"div",31)(46,"p-table",32,1),b(48,ms,4,2,"ng-template",33)(49,gs,4,5,"ng-template",34)(50,_s,4,1,"ng-template",35),i()()(),o(51,"mat-menu",36,2),b(53,ys,4,0,"ng-template",37),i()}t&2&&(s(16),x(v(30,cs)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(31,Nt)),p("options",r.countryDropdown)("panelStyle",v(32,Nt)),s(4),x(v(33,Nt)),p("options",r.provinceDropdown)("panelStyle",v(34,Nt)),s(4),x(v(35,Nt)),p("options",r.districtDropdown)("panelStyle",v(36,Nt)),s(4),x(v(37,Nt)),p("options",r.statusDropdown)("panelStyle",v(38,Nt)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.districtTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(39,ds)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,Ye,$e,ze,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=l;return n})();var wt=()=>({width:"100%"});function vs(n,l){n&1&&(o(0,"p",15),c(1,"1"),i())}function bs(n,l){n&1&&_(0,"img",16)}function ws(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11),b(2,vs,2,0,"p",12)(3,bs,1,0,"img",13),i(),o(4,"div")(5,"p",14),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function Cs(n,l){if(n&1&&(o(0,"mat-error",33)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function xs(n,l){if(n&1&&(o(0,"mat-error",33)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Is(n,l){if(n&1&&(o(0,"mat-error",33)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Ss(n,l){if(n&1&&(o(0,"mat-error",33)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Ts(n,l){if(n&1&&(o(0,"mat-error",33)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Ns(n,l){if(n&1&&(o(0,"mat-error",33)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Es(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Language"),i(),_(4,"p-dropdown",20),b(5,Cs,3,1,"mat-error",21),i(),o(6,"div",18)(7,"p",19),c(8,"Company"),i(),_(9,"p-dropdown",22),b(10,xs,3,1,"mat-error",21),i(),o(11,"div",18)(12,"p",23),c(13,"Country"),i(),o(14,"p-dropdown",24),g("onChange",function(){h(a);let t=y();return f(t.districtChanged())}),i(),b(15,Is,3,1,"mat-error",21),i(),o(16,"div",18)(17,"p",23),c(18,"Province"),i(),_(19,"p-dropdown",25),b(20,Ss,3,1,"mat-error",21),i(),o(21,"div",18)(22,"p",23),c(23,"District ID"),i(),_(24,"input",26),b(25,Ts,3,1,"mat-error",21),i(),o(26,"div",18)(27,"p",23),c(28,"District Name"),i(),_(29,"input",27),b(30,Ns,3,1,"mat-error",21),i(),o(31,"div",18)(32,"p",19),c(33,"Status"),i(),_(34,"p-dropdown",28),i(),o(35,"div",18)(36,"p",19),c(37,"Remark"),i(),_(38,"input",29),i()(),o(39,"div",30)(40,"button",31),c(41,"Cancel"),i(),o(42,"button",32),g("click",function(){h(a);let t=y();return f(t.save())}),c(43),i()()}if(n&2){let a,e,t,r,d=y();s(4),x(v(34,wt)),p("options",d.languageIdList)("disabled",!0)("panelStyle",v(35,wt)),s(),p("ngIf",d.errorHandling("languageId")),s(4),x(v(36,wt)),p("options",d.companyIdList)("disabled",!0)("panelStyle",v(37,wt)),s(),p("ngIf",d.errorHandling("companyId")),s(4),x(v(38,wt)),p("options",d.countryIdList)("ngClass",(a=d.form.get("countryId"))!=null&&a.invalid&&d.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",v(39,wt)),s(),p("ngIf",d.errorHandling("countryId")),s(4),x(v(40,wt)),p("options",d.provinceIdList)("ngClass",(e=d.form.get("provinceId"))!=null&&e.invalid&&d.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",v(41,wt)),s(),p("ngIf",d.errorHandling("provinceId")),s(4),p("ngClass",(t=d.form.get("districtId"))!=null&&t.invalid&&d.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",d.errorHandling("districtId")),s(4),p("ngClass",(r=d.form.get("districtName"))!=null&&r.invalid&&d.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",d.errorHandling("districtName")),s(4),x(v(42,wt)),p("options",d.status),s(9),T(d.pageToken.pageflow!="New"?"Update":"Save")}}function ks(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11)(2,"p",34),c(3," 2"),i()(),o(4,"div")(5,"p",35),c(6," Admin"),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function Fs(n,l){if(n&1){let a=I();o(0,"div",36)(1,"div",18)(2,"p",19),c(3,"Created By"),i(),_(4,"input",37),i(),o(5,"div",18)(6,"p",19),c(7,"Created On"),i(),_(8,"input",38),i(),o(9,"div",18)(10,"p",19),c(11,"Updated By"),i(),_(12,"input",39),i(),o(13,"div",18)(14,"p",19),c(15,"Updated On"),i(),_(16,"input",40),i()(),o(17,"div",30)(18,"button",41),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19,"Back"),i(),o(20,"button",32),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(21),T(a.pageToken.pageflow!="New"?"Update":"Save")}}function Ds(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,ks,7,2,"ng-template",7)(2,Fs,22,1,"ng-template",8),i())}var yn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He,ut){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.messageService=K,this.cas=Q,this.numberRangeService=$,this.auth=He,this.provinceService=ut,this.active=0,this.status=[],this.form=this.fb.group({districtId:[,N.required],districtName:[,N.required],languageId:[this.auth.languageId,N.required],languageDescription:[],companyId:[this.auth.companyId,N.required],companyName:[],countryId:[,N.required],countryName:[],provinceId:[,N.required],provinceName:[],statusDescription:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],remark:[],statusId:["16"]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[],this.companyIdList=[],this.countryIdList=[],this.provinceIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","District",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.countryId.disable(),this.form.controls.provinceId.disable(),this.form.controls.districtId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let r={};r.numberRangeObject=["DISTRICT"],this.numberRangeService.search(r).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.districtId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.districtId.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.country.url,this.cas.dropdownlist.setup.province.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.countryIdList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.country.key),this.provinceIdList=this.cas.forLanguageFilter(e[3],this.cas.dropdownlist.setup.province.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.districtId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/district"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.districtId+" has been created successfully"}),this.router.navigate(["/main/idMaster/district"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}districtChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.countryId=[this.form.controls.countryId.value],this.provinceIdList=[],this.spin.show(),this.provinceService.search(e).subscribe({next:t=>{this.provinceIdList=this.cas.foreachlist(t,{key:"provinceId",value:"provinceName"}),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(Bt),m(U),m(_e),m(Qe),m(E),m(xt))},l.\u0275cmp=P({type:l,selectors:[["app-district-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["placeholder","Select","filter","true","formControlName","countryId","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],["placeholder","Select","filter","true","formControlName","provinceId","appendTo","body",3,"options","ngClass","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","districtId","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","formControlName","districtName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/district",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i(),o(4,"div",1)(5,"button",3),c(6,"Transfer"),i()()(),o(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(10,"p-stepperPanel"),b(11,ws,7,2,"ng-template",7)(12,Es,44,43,"ng-template",8),i(),b(13,Ds,3,0,"p-stepperPanel",9),i()()()()),t&2&&(s(3),S("District - ",r.pageToken.pageflow,""),s(5),p("formGroup",r.form),s(),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,z,ke,Y,De,G,Ke,qe,O,re,R,L,Ge,Le,Be,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=l;return n})();var Ps=["city"],Vs=()=>({width:"80vw"}),vt=()=>({width:"100%"}),Rs=()=>({width:"110rem"});function Ls(n,l){if(n&1&&(o(0,"th",42),c(1),_(2,"p-sortIcon",43),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function Os(n,l){if(n&1&&(o(0,"tr")(1,"th",39),_(2,"p-tableHeaderCheckbox",40),i(),b(3,Ls,3,3,"th",41),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function js(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function Bs(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function As(n,l){if(n&1&&(o(0,"td"),b(1,js,2,1,"ng-container",47)(2,Bs,2,4,"ng-template",null,3,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function Us(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",44)(2,"p-checkbox",45),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedCity,t)||(r.selectedCity=t),f(t)}),i()(),b(3,As,4,2,"td",46),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedCity[0]===a),s(2),k("ngModel",t.selectedCity),p("value",a),s(),p("ngForOf",e)}}function Ws(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",48),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}function Hs(n,l){n&1&&(o(0,"button",49),c(1,"Edit"),i(),o(2,"button",49),c(3,"Confirm"),i())}var vn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.auth=K,this.fb=Q,this.spin=$,this.cityTable=[],this.selectedCity=[],this.cols=[],this.target=[],this.searchform=this.fb.group({countryId:[],provinceId:[],districtId:[],cityId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={countryId:"Country",provinceId:"Province",districtId:"District",cityId:"City",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.countryDropdown=[],this.provinceDropdown=[],this.districtDropdown=[],this.cityDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","City"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"cityId",header:" City ID"},{field:"cityName",header:"City Name"},{field:"countryName",header:"Country"},{field:"provinceName",header:"Province"},{field:"districtName",header:"District"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remark"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"companyId",header:"Company ID"},{field:"countryId",header:"Country ID"},{field:"provinceId",header:"Province ID"},{field:"districtId",header:"District ID"},{field:"languageDescription",header:"Language"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{this.cityTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedCity[this.selectedCity.length-1];this.selectedCity.length=0,this.selectedCity.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedCity[0])})}openCrud(e="New",t=null){if(this.selectedCity.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedCity[0],pageflow:e});this.router.navigate(["/main/idMaster/city-new/"+r])}}deleteDialog(){if(this.selectedCity.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedCity,module:"City",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedCity[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.cityId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.cityTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy"):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"City")}getSearchDropdown(){this.cityTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.countryId!=null&&(this.countryDropdown.push({value:e.countryId,label:e.countryName}),this.countryDropdown=this.cs.removeDuplicatesFromArrayList(this.countryDropdown,"value")),e.provinceId!=null&&(this.provinceDropdown.push({value:e.provinceId,label:e.provinceName}),this.provinceDropdown=this.cs.removeDuplicatesFromArrayList(this.provinceDropdown,"value")),e.districtId!=null&&(this.districtDropdown.push({value:e.districtId,label:e.districtName}),this.districtDropdown=this.cs.removeDuplicatesFromArrayList(this.districtDropdown,"value")),e.cityId!=null&&(this.cityDropdown.push({value:e.cityId,label:e.cityName}),this.cityDropdown=this.cs.removeDuplicatesFromArrayList(this.cityDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.cityTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({countryId:[],provinceId:[],districtId:[],cityId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(ti),m(ae),m(Z),m(E),m(A),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-city"]],viewQuery:function(t,r){if(t&1&&Te(Ps,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:58,vars:46,consts:[["city",""],["cityTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","countryId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","provinceId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","districtId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","cityId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,r){if(t&1){let d=I();o(0,"div",4)(1,"div",5)(2,"p",6),c(3,"City "),i(),o(4,"div",5)(5,"img",7),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",8),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",9),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",10),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",11),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",12),c(11," Add New"),i()()(),o(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",16),g("input",function(w){h(d);let C=M(51);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),c(22,"Country"),i(),_(23,"p-multiSelect",22),i(),o(24,"div",20)(25,"p",21),c(26,"Province"),i(),_(27,"p-multiSelect",23),i(),o(28,"div",20)(29,"p",21),c(30,"District"),i(),_(31,"p-multiSelect",24),i(),o(32,"div",20)(33,"p",21),c(34,"City"),i(),_(35,"p-multiSelect",25),i(),o(36,"div",20)(37,"p",21),c(38,"Status"),i(),_(39,"p-multiSelect",26),i()(),o(40,"div",27)(41,"div")(42,"img",28),g("click",function(){return h(d),f(r.reset())}),i()(),o(43,"div")(44,"button",29),g("click",function(){return h(d),f(r.closeOverLay())}),c(45,"Cancel"),i(),o(46,"button",30),g("click",function(){return h(d),f(r.search())}),c(47,"Apply"),i()()()()(),o(48,"p-chips",31),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(49,"div",32)(50,"p-table",33,1),b(52,Os,4,2,"ng-template",34)(53,Us,4,5,"ng-template",35)(54,Ws,4,1,"ng-template",36),i()()(),o(55,"mat-menu",37,2),b(57,Hs,4,0,"ng-template",38),i()}t&2&&(s(16),x(v(34,Vs)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(35,vt)),p("options",r.countryDropdown)("panelStyle",v(36,vt)),s(4),x(v(37,vt)),p("options",r.provinceDropdown)("panelStyle",v(38,vt)),s(4),x(v(39,vt)),p("options",r.districtDropdown)("panelStyle",v(40,vt)),s(4),x(v(41,vt)),p("options",r.cityDropdown)("panelStyle",v(42,vt)),s(4),x(v(43,vt)),p("options",r.statusDropdown)("panelStyle",v(44,vt)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.cityTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(45,Rs)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,Ye,$e,ze,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=l;return n})();var gt=()=>({width:"100%"});function Gs(n,l){n&1&&(o(0,"p",15),c(1,"1"),i())}function qs(n,l){n&1&&_(0,"img",16)}function Ks(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11),b(2,Gs,2,0,"p",12)(3,qs,1,0,"img",13),i(),o(4,"div")(5,"p",14),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function Qs(n,l){if(n&1&&(o(0,"mat-error",34)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function $s(n,l){if(n&1&&(o(0,"mat-error",34)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function zs(n,l){if(n&1&&(o(0,"mat-error",34)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Ys(n,l){if(n&1&&(o(0,"mat-error",34)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Zs(n,l){if(n&1&&(o(0,"mat-error",34)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Js(n,l){if(n&1&&(o(0,"mat-error",34)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Xs(n,l){if(n&1&&(o(0,"mat-error",34)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function ec(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Language"),i(),_(4,"p-dropdown",20),b(5,Qs,3,1,"mat-error",21),i(),o(6,"div",18)(7,"p",19),c(8,"Company"),i(),_(9,"p-dropdown",22),b(10,$s,3,1,"mat-error",21),i(),o(11,"div",18)(12,"p",23),c(13,"Country"),i(),o(14,"p-dropdown",24),g("onChange",function(){h(a);let t=y();return f(t.countryChanged())}),i(),b(15,zs,3,1,"mat-error",21),i(),o(16,"div",18)(17,"p",23),c(18,"Province"),i(),o(19,"p-dropdown",25),g("onChange",function(){h(a);let t=y();return f(t.provinceChanged())}),i(),b(20,Ys,3,1,"mat-error",21),i(),o(21,"div",18)(22,"p",23),c(23,"District"),i(),_(24,"p-dropdown",26),b(25,Zs,3,1,"mat-error",21),i(),o(26,"div",18)(27,"p",23),c(28,"City ID"),i(),_(29,"input",27),b(30,Js,3,1,"mat-error",21),i(),o(31,"div",18)(32,"p",23),c(33,"City Name"),i(),_(34,"input",28),b(35,Xs,3,1,"mat-error",21),i(),o(36,"div",18)(37,"p",19),c(38,"Status"),i(),_(39,"p-dropdown",29),i(),o(40,"div",18)(41,"p",19),c(42,"Remark"),i(),_(43,"input",30),i()(),o(44,"div",31)(45,"button",32),c(46,"Cancel"),i(),o(47,"button",33),g("click",function(){h(a);let t=y();return f(t.save())}),c(48),i()()}if(n&2){let a,e,t,r,d,u=y();s(4),x(v(41,gt)),p("options",u.languageIdList)("disabled",!0)("panelStyle",v(42,gt)),s(),p("ngIf",u.errorHandling("languageId")),s(4),x(v(43,gt)),p("options",u.companyIdList)("disabled",!0)("panelStyle",v(44,gt)),s(),p("ngIf",u.errorHandling("companyId")),s(4),x(v(45,gt)),p("options",u.countryIdList)("ngClass",(a=u.form.get("countryId"))!=null&&a.invalid&&u.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",v(46,gt)),s(),p("ngIf",u.errorHandling("countryId")),s(4),x(v(47,gt)),p("options",u.provinceIdList)("ngClass",(e=u.form.get("provinceId"))!=null&&e.invalid&&u.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",v(48,gt)),s(),p("ngIf",u.errorHandling("provinceId")),s(4),x(v(49,gt)),p("options",u.districtIdList)("ngClass",(t=u.form.get("districtId"))!=null&&t.invalid&&u.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",v(50,gt)),s(),p("ngIf",u.errorHandling("districtId")),s(4),p("ngClass",(r=u.form.get("cityId"))!=null&&r.invalid&&u.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",u.errorHandling("cityId")),s(4),p("ngClass",(d=u.form.get("cityName"))!=null&&d.invalid&&u.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",u.errorHandling("cityName")),s(4),x(v(51,gt)),p("options",u.status),s(9),T(u.pageToken.pageflow!="New"?"Update":"Save")}}function tc(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11)(2,"p",35),c(3," 2"),i()(),o(4,"div")(5,"p",36),c(6," Admin"),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function ic(n,l){if(n&1){let a=I();o(0,"div",37)(1,"div",18)(2,"p",19),c(3,"Created By"),i(),_(4,"input",38),i(),o(5,"div",18)(6,"p",19),c(7,"Created On"),i(),_(8,"input",39),i(),o(9,"div",18)(10,"p",19),c(11,"Updated By"),i(),_(12,"input",40),i(),o(13,"div",18)(14,"p",19),c(15,"Updated On"),i(),_(16,"input",41),i()(),o(17,"div",31)(18,"button",42),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19,"Back"),i(),o(20,"button",33),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(21),T(a.pageToken.pageflow!="New"?"Update":"Save")}}function nc(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,tc,7,2,"ng-template",7)(2,ic,22,1,"ng-template",8),i())}var bn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He,ut,bi){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.numberRangeService=K,this.messageService=Q,this.cas=$,this.auth=He,this.provinceService=ut,this.districtService=bi,this.active=0,this.status=[],this.form=this.fb.group({cityId:[,N.required],cityName:[,N.required],districtId:[,N.required],districtName:[],languageId:[this.auth.languageId,N.required],languageDescription:[],companyId:[this.auth.companyId,N.required],companyName:[],countryId:[,N.required],countryName:[],provinceId:[,N.required],provinceName:[],statusDescription:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],remark:[],statusId:["16"]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[],this.companyIdList=[],this.countryIdList=[],this.provinceIdList=[],this.districtIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","City",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.cityId.disable(),this.form.controls.countryId.disable(),this.form.controls.provinceId.disable(),this.form.controls.districtId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let r={};r.numberRangeObject=["CITY"],this.numberRangeService.search(r).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.cityId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.cityId.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.country.url,this.cas.dropdownlist.setup.province.url,this.cas.dropdownlist.setup.district.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.countryIdList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.country.key),this.provinceIdList=this.cas.forLanguageFilter(e[3],this.cas.dropdownlist.setup.province.key),this.districtIdList=this.cas.forLanguageFilter(e[4],this.cas.dropdownlist.setup.district.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.cityId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/city"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.cityId+" has been created successfully"}),this.router.navigate(["/main/idMaster/city"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}countryChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.countryId=[this.form.controls.countryId.value],this.provinceIdList=[],this.spin.show(),this.provinceService.search(e).subscribe({next:t=>{this.provinceIdList=this.cas.foreachlist(t,{key:"provinceId",value:"provinceName"}),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}provinceChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.countryId=[this.form.controls.countryId.value],e.provinceId=[this.form.controls.provinceId.value],this.districtIdList=[],this.spin.show(),this.districtService.search(e).subscribe({next:t=>{this.districtIdList=this.cas.foreachlist(t,{key:"districtId",value:"districtName"}),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(ti),m(Qe),m(U),m(_e),m(E),m(xt),m(Bt))},l.\u0275cmp=P({type:l,selectors:[["app-city-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["placeholder","Select","filter","true","formControlName","countryId","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],["placeholder","Select","filter","true","formControlName","provinceId","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],["placeholder","Select","filter","true","formControlName","districtId","appendTo","body",3,"options","ngClass","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","cityId","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","formControlName","cityName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/city",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i(),o(4,"div",1)(5,"button",3),c(6,"Transfer"),i()()(),o(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(10,"p-stepperPanel"),b(11,Ks,7,2,"ng-template",7)(12,ec,49,52,"ng-template",8),i(),b(13,nc,3,0,"p-stepperPanel",9),i()()()()),t&2&&(s(3),S("City - ",r.pageToken.pageflow,""),s(5),p("formGroup",r.form),s(),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,z,ke,Y,De,G,Ke,qe,O,re,R,L,Ge,Le,Be,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=l;return n})();var ui=()=>({width:"100%"}),Fi=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He,ut,bi){this.dialogRef=e,this.data=t,this.cs=r,this.spin=d,this.route=u,this.router=w,this.path=C,this.fb=K,this.service=Q,this.messageService=$,this.cas=He,this.auth=ut,this.subProductService=bi,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId],languageDescription:[],companyId:[this.auth.companyId],companyName:[],subProductId:[,N.required],subProductName:[],subProductValue:[],productId:[],productName:[,N.required],productValue:[],remark:[],statusId:["16"],statusDescription:[],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[]}),this.submitted=!1,this.subProductIdList=[],this.subProductValueList=[],this.status=[{value:"2",label:"Inactive"},{value:"1",label:"Active"}]}ngOnInit(){this.data.pageflow=="Edit"&&this.form.patchValue(this.data.code),this.subProductDropdown()}save(){this.submitted=!0,console.log(this.form.value),this.dialogRef.close(this.form.value)}subProductDropdown(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.subProductIdList=[],this.spin.show(),this.subProductService.search(e).subscribe({next:t=>{this.subProductIdList=this.cas.foreachlist(t,{key:"subProductId",value:"subProductName"}),this.subProductIdList=this.cs.removeDuplicatesFromArrayList(this.subProductIdList,"value"),this.data.pageflow=="Edit"&&(this.subProductValueList=this.cas.foreachlist(t,{key:"subProductValue",value:"subProductValue"})),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}subProductChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.subProductId=[this.form.controls.subProductId.value],this.subProductValueList=[],this.spin.show(),this.subProductService.search(e).subscribe({next:t=>{this.subProductValueList=this.cas.foreachlist(t,{key:"subProductValue",value:"referenceField1"}),this.form.patchValue(t[0]),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}subProductValueChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.subProductId=[this.form.controls.subProductId.value],e.subProductValue=[this.form.controls.subProductValue.value],this.spin.show(),this.subProductService.search(e).subscribe({next:t=>{this.form.patchValue(t[0]),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}};l.\u0275fac=function(t){return new(t||l)(m(Zt),m(Jt),m(H),m(W),m(ne),m(V),m(q),m(A),m(It),m(U),m(_e),m(E),m(Ct))},l.\u0275cmp=P({type:l,selectors:[["app-product-value"]],decls:25,vars:17,consts:[[1,"bgWhite","text-black","w-93","h-100","m-4","mt-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],[1,"mt-4"],[3,"formGroup"],[1,"d-flex-row"],[1,"row"],["id","subProductId",1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["placeholder","Select","filter","true","formControlName","subProductId","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],["id","subProductValue",1,"col-6","marginFieldNew","borderRadius12"],["placeholder","Select","filter","true","formControlName","subProductValue","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["maxlength","50","pInputText","","formControlName","referenceField1","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","float-right","py-2",2,"position","absolute","right","3.5%","bottom","7%"],["mat-dialog-close","",1,"buttom1","textBlack","mx-1"],["type","button",1,"buttom1","bgBlack","text-white","mx-1",3,"click"]],template:function(t,r){if(t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3,"Add Product"),i()(),o(4,"div",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"p",8),c(10,"Sub Product"),i(),o(11,"p-dropdown",9),g("onChange",function(){return r.subProductChanged()}),i()(),o(12,"div",10)(13,"p",8),c(14,"Sub Product Value"),i(),o(15,"p-dropdown",11),g("onChange",function(){return r.subProductValueChanged()}),i()(),o(16,"div",12)(17,"p",13),c(18,"Value Description"),i(),_(19,"input",14),i()(),o(20,"div",15)(21,"button",16),c(22,"Cancel"),i(),o(23,"button",17),g("click",function(){return r.save()}),c(24,"Save"),i()()()()()()),t&2){let d,u;s(5),p("formGroup",r.form),s(6),x(v(13,ui)),p("options",r.subProductIdList)("ngClass",(d=r.form.get("subProductId"))!=null&&d.invalid&&r.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",v(14,ui)),s(4),x(v(15,ui)),p("options",r.subProductValueList)("ngClass",(u=r.form.get("subProductValue"))!=null&&u.invalid&&r.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",v(16,ui))}},dependencies:[ue,De,G,O,re,R,L,Ge,Xt,j,B],styles:[".deleteBody[_ngcontent-%COMP%]{font-family:Nunito;font-size:14px;font-weight:400;line-height:20.8px;text-align:center;color:#fffc;padding-bottom:1rem}.deleteHeader[_ngcontent-%COMP%]{font-family:Nunito;font-size:22px;font-weight:700;line-height:31.2px;text-align:left;padding-bottom:1rem}.cancelButton[_ngcontent-%COMP%]{padding:7px 25px;gap:10px;border-radius:6px;border:1px 0px 0px 0px;opacity:0px;background-color:var(--white);color:var(--black)}.saveButton[_ngcontent-%COMP%]{padding:7px 35px;gap:10px;border-radius:6px;opacity:0px;background-color:var(--overcOrange);color:var(--black)}  .mat-mdc-dialog-container .mdc-dialog__surface{border-radius:12px!important}.deleteDialog[_ngcontent-%COMP%]{padding:2rem 1rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 35rem);overflow-y:scroll}.circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:1.5rem}.img-icon[_ngcontent-%COMP%]{gap:2rem}"]});let n=l;return n})();var qt=()=>({width:"100%"}),rc=()=>({width:"180"});function oc(n,l){if(n&1&&(o(0,"mat-error",28)(1,"small"),c(2),i()()),n&2){let a=y();s(2),T(a.getErrorMessage())}}function ac(n,l){if(n&1&&(o(0,"mat-error",28)(1,"small"),c(2),i()()),n&2){let a=y();s(2),T(a.getErrorMessage())}}function lc(n,l){if(n&1&&(o(0,"mat-error",28)(1,"small"),c(2),i()()),n&2){let a=y();s(2),T(a.getErrorMessage())}}function sc(n,l){n&1&&(o(0,"tr")(1,"th"),c(2,"Sub Product"),i(),o(3,"th"),c(4,"Sub Product Name"),i(),o(5,"th"),c(6,"Sub Product Value"),i(),o(7,"th"),c(8,"Sub Product Value Description"),i(),o(9,"th"),c(10,"Actions"),i()())}function cc(n,l){if(n&1){let a=I();o(0,"tr")(1,"td")(2,"p",29),c(3),i()(),o(4,"td")(5,"p",29),c(6),i()(),o(7,"td")(8,"p",29),c(9),i()(),o(10,"td")(11,"p",29),c(12),i()(),o(13,"td",30)(14,"img",31),g("click",function(t){h(a);let r=M(16);return f(r.toggle(t))}),i(),o(15,"p-overlayPanel",null,0)(17,"div",32)(18,"button",33),g("click",function(){let t=h(a).rowIndex,r=M(16);return y().editItem("Edit",t),f(r.hide())}),_(19,"img",34),c(20,"Edit"),i(),o(21,"button",33),g("click",function(){let t=h(a).rowIndex,r=y();return f(r.removeItem(t))}),_(22,"img",35),c(23,"Delete"),i()()()()()}if(n&2){let a=l.$implicit;s(3),S("",a.subProductId," "),s(3),S("",a.subProductName," "),s(3),S("",a.subProductValue," "),s(3),S("",a.referenceField1," "),s(3),x(v(6,rc))}}var wn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He,ut){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.numberRangeService=K,this.messageService=Q,this.cas=$,this.auth=He,this.dialog=ut,this.active=0,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId],languageDescription:[],companyId:[this.auth.companyId],companyName:[],subProductId:[],subProductName:[],subProductValue:[],productId:[],productName:[,N.required],productValue:[],remark:[],statusId:["16"],statusDescription:[],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[],this.companyIdList=[],this.productArray=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Product",this.pageToken.pageflow];this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"?(this.fill(this.pageToken.line),this.form.controls.subProductId.disable(),this.form.controls.productId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable()):this.checkNumberRange()}checkNumberRange(){this.spin.show();let e={};e.numberRangeObject=["PRODUCT"],this.numberRangeService.search(e).subscribe({next:t=>{t.length>0&&(this.nextNumber=Number(t[0].numberRangeCurrent)+1,this.form.controls.productId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.productId.disable()),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}add(){this.dialog.open(Fi,{disableClose:!0,width:"70%",height:"50%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:this.productArray.length+1}).afterClosed().subscribe(t=>{t&&(this.productArray.push(t),console.log(this.productArray))})}removeItem(e){this.productArray.splice(e,1)}save(){if(this.submitted=!0,this.productArray.length==0){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.productArray.forEach(e=>{e.languageId=this.auth.languageId,e.companyId=this.auth.companyId,e.productId=this.form.controls.productId.value,e.productName=this.form.controls.productName.value,e.statusId=this.form.controls.statusId.value,e.remark=this.form.controls.remark.value}),this.service.UpdateBulk(this.productArray).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e[0].productId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/product"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.productArray.forEach(e=>{e.languageId=this.auth.languageId,e.companyId=this.auth.companyId,e.productId=this.form.controls.productId.value,e.productName=this.form.controls.productName.value,e.statusId=this.form.controls.statusId.value,e.remark=this.form.controls.remark.value}),this.service.CreateBulk(this.productArray).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e[0].productId+" has been created successfully"}),this.router.navigate(["/main/idMaster/product"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}fill(e){this.form.patchValue(e),this.spin.show();let t={};t.languageId=[this.auth.languageId],t.companyId=[this.auth.companyId],t.productId=[e.productId],this.service.search(t).subscribe({next:r=>{console.log(r),this.productArray=r,this.spin.hide()},error:r=>{this.spin.hide(),this.cs.commonerrorNew(r)}}),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}editItem(e,t){this.dialog.open(Fi,{disableClose:!0,width:"70%",height:"50%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{pageflow:e,code:this.productArray[t]}}).afterClosed().subscribe(d=>{d&&(this.productArray.splice(t,0),this.productArray.splice(t,1,d),console.log(d),this.productArray=[...this.productArray])})}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(It),m(Qe),m(U),m(_e),m(E),m(ae))},l.\u0275cmp=P({type:l,selectors:[["app-product-new"]],decls:51,vars:27,consts:[["op",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"mx-auto","mt-4"],[3,"formGroup"],[1,"d-flex-row"],[1,"row","scrollNew"],[1,"col-4","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","productId","pInputText","","placeholder","Enter",1,"w-100"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","100","pInputText","","formControlName","productName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select ",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","justify-content-end","mb-3"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],["scrollHeight","calc(100vh - 31.8rem)",3,"scrollable","value"],["pTemplate","header"],["pTemplate","body"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/product",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"w-100","pl-2","ml-2"],["pFrozenColumn","","alignFrozen","right",2,"padding-left","1.5rem !important"],["type","button","src","./assets/common/actions.png","alt","","srcset","",2,"height","1.4rem",3,"click"],[1,"d-flex","flex-column"],["mat-menu-item","",1,"w-100",2,"width","8rem",3,"click"],["src","./assets/common/edit.png","srcset","",2,"padding-right","10px","width","2rem"],["src","./assets/common/deletetool.png","srcset","",2,"padding-right","10px","width","2rem"]],template:function(t,r){if(t&1&&(o(0,"div",1)(1,"div",2)(2,"p",3),c(3),i(),o(4,"div",2)(5,"button",4),c(6,"Transfer"),i()()(),o(7,"div",5)(8,"form",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"p",10),c(13,"Language"),i(),_(14,"p-dropdown",11),b(15,oc,3,1,"mat-error",12),i(),o(16,"div",9)(17,"p",10),c(18,"Company"),i(),_(19,"p-dropdown",13),b(20,ac,3,1,"mat-error",12),i(),o(21,"div",9)(22,"p",10),c(23,"Product ID"),i(),_(24,"input",14),i(),o(25,"div",9)(26,"p",15),c(27,"Product Name"),i(),_(28,"input",16),b(29,lc,3,1,"mat-error",12),i(),o(30,"div",9)(31,"p",10),c(32,"Status"),i(),_(33,"p-dropdown",17),i(),o(34,"div",9)(35,"p",10),c(36,"Remark"),i(),_(37,"input",18),i()(),o(38,"div",19)(39,"button",20),g("click",function(){return r.add()}),_(40,"i",21),c(41,"Add Values"),i()(),o(42,"div",7)(43,"p-table",22),b(44,sc,11,0,"ng-template",23)(45,cc,24,7,"ng-template",24),i()()(),o(46,"div",25)(47,"button",26),c(48,"Cancel"),i(),o(49,"button",27),g("click",function(){return r.save()}),c(50),i()()()()()),t&2){let d;s(3),S("Product - ",r.pageToken.pageflow,""),s(5),p("formGroup",r.form),s(6),x(v(22,qt)),p("options",r.languageIdList)("disabled",!0)("panelStyle",v(23,qt)),s(),p("ngIf",r.errorHandling("languageId")),s(4),x(v(24,qt)),p("options",r.companyIdList)("disabled",!0)("panelStyle",v(25,qt)),s(),p("ngIf",r.errorHandling("companyId")),s(8),p("ngClass",(d=r.form.get("productName"))!=null&&d.invalid&&r.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",r.errorHandling("productName")),s(4),x(v(26,qt)),p("options",r.status),s(10),p("scrollable",!0)("value",r.productArray),s(7),T(r.pageToken.pageflow!="New"?"Update":"Save")}},dependencies:[ue,z,ke,Y,X,Yt,De,G,O,re,R,L,Ge,Le,oe,Be,$e,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:1.5rem}.img-icon[_ngcontent-%COMP%]{gap:2rem}"]});let n=l;return n})();var dc=["product"],pc=()=>({width:"80vw"}),Et=()=>({width:"100%"}),mc=()=>({width:"100rem"});function uc(n,l){if(n&1&&(o(0,"th",38),c(1),_(2,"p-sortIcon",39),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function hc(n,l){if(n&1&&(o(0,"tr")(1,"th",35),_(2,"p-tableHeaderCheckbox",36),i(),b(3,uc,3,3,"th",37),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function fc(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function gc(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y().$implicit,e=y().$implicit;S(" ",te(1,1,e[a.field],"dd-MM-yyyy HH:mm")," ")}}function _c(n,l){if(n&1&&(o(0,"td"),b(1,fc,2,1,"ng-container",43)(2,gc,2,4,"ng-template",null,2,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function yc(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",40)(2,"p-checkbox",41),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedProduct,t)||(r.selectedProduct=t),f(t)}),i()(),b(3,_c,4,2,"td",42),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedProduct[0]===a),s(2),k("ngModel",t.selectedProduct),p("value",a),s(),p("ngForOf",e)}}function vc(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",44),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}var Cn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.fb=K,this.auth=Q,this.spin=$,this.productTable=[],this.selectedProduct=[],this.cols=[],this.target=[],this.searchform=this.fb.group({subProductId:[],subProductValue:[],productId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={subProductId:"Sub Product",subProductValue:"Sub Product Value",productId:"Product",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.subProductDropdown=[],this.subProductValueDropdown=[],this.productDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","Product"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"productId",header:"Product ID"},{field:"productName",header:"Product Name"},{field:"subProductName",header:"Sub Product"},{field:"remark",header:"Remarks"},{field:"statusDescription",header:"Status"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"LanguageId"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"CompanyId"},{field:"subProductId",header:"Sub Product Id"},{field:"statusId",header:"StatusId"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),t=this.cs.removeDuplicatesFromArrayList(t,"productId"),this.productTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},500)}onChange(){let e=this.selectedProduct[this.selectedProduct.length-1];this.selectedProduct.length=0,this.selectedProduct.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedProduct[0])})}openCrud(e="New",t=null){if(this.selectedProduct.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedProduct[0],pageflow:e});this.router.navigate(["/main/idMaster/product-new/"+r])}}deleteDialog(){if(this.selectedProduct.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedProduct,module:"Product",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{if(t){let r={};r.languageId=[this.auth.languageId],r.companyId=[this.auth.companyId],r.productId=[this.selectedProduct[0].productId],this.service.search(r).subscribe({next:d=>{console.log(d),this.deleterecord(d)},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}})}deleterecord(e){this.spin.show(),this.service.DeleteBulk(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e[0].productId+" Deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.productTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy"):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Product")}getSearchDropdown(){this.productTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.subProductId!=null&&(this.subProductDropdown.push({value:e.subProductId,label:e.subProductName}),this.subProductDropdown=this.cs.removeDuplicatesFromArrayList(this.subProductDropdown,"value")),e.subProductValue!=null&&(this.subProductValueDropdown.push({value:e.subProductValue,label:e.referenceField1}),this.subProductValueDropdown=this.cs.removeDuplicatesFromArrayList(this.subProductValueDropdown,"value")),e.productId!=null&&(this.productDropdown.push({value:e.productId,label:e.productName}),this.productDropdown=this.cs.removeDuplicatesFromArrayList(this.productDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.productTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({subProductId:[],subProductValue:[],productId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(It),m(ae),m(Z),m(A),m(E),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-product"]],viewQuery:function(t,r){if(t&1&&Te(dc,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:51,vars:40,consts:[["product",""],["productTag",""],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","productId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","subProductId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","subProductValue","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"]],template:function(t,r){if(t&1){let d=I();o(0,"div",3)(1,"div",4)(2,"p",5),c(3,"Product "),i(),o(4,"div",4)(5,"img",6),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",7),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",8),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",9),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",10),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",11),c(11," Add New"),i()()(),o(12,"div",12)(13,"p-iconField",13)(14,"p-inputIcon",14),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",15),g("input",function(w){h(d);let C=M(47);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",16,0)(18,"form",17)(19,"div",18)(20,"div",19)(21,"p",20),c(22,"Product"),i(),_(23,"p-multiSelect",21),i(),o(24,"div",19)(25,"p",20),c(26,"Sub Product"),i(),_(27,"p-multiSelect",22),i(),o(28,"div",19)(29,"p",20),c(30,"Sub Product Value"),i(),_(31,"p-multiSelect",23),i(),o(32,"div",19)(33,"p",20),c(34,"Status"),i(),_(35,"p-multiSelect",24),i()(),o(36,"div",25)(37,"div")(38,"img",26),g("click",function(){return h(d),f(r.reset())}),i()(),o(39,"div")(40,"button",27),g("click",function(){return h(d),f(r.closeOverLay())}),c(41,"Cancel"),i(),o(42,"button",28),g("click",function(){return h(d),f(r.search())}),c(43,"Apply"),i()()()()(),o(44,"p-chips",29),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(45,"div",30)(46,"p-table",31,1),b(48,hc,4,2,"ng-template",32)(49,yc,4,5,"ng-template",33)(50,vc,4,1,"ng-template",34),i()()()}t&2&&(s(16),x(v(30,pc)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(31,Et)),p("options",r.productDropdown)("panelStyle",v(32,Et)),s(4),x(v(33,Et)),p("options",r.subProductDropdown)("panelStyle",v(34,Et)),s(4),x(v(35,Et)),p("options",r.subProductValueDropdown)("panelStyle",v(36,Et)),s(4),x(v(37,Et)),p("options",r.statusDropdown)("panelStyle",v(38,Et)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.productTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(39,mc)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=l;return n})();var Kt=()=>({width:"100%"});function wc(n,l){n&1&&(o(0,"p",15),c(1,"1"),i())}function Cc(n,l){n&1&&_(0,"img",16)}function xc(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11),b(2,wc,2,0,"p",12)(3,Cc,1,0,"img",13),i(),o(4,"div")(5,"p",14),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function Ic(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Sc(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Tc(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Nc(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Ec(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Language"),i(),_(4,"p-dropdown",20),b(5,Ic,3,1,"mat-error",21),i(),o(6,"div",18)(7,"p",19),c(8,"Company"),i(),_(9,"p-dropdown",22),b(10,Sc,3,1,"mat-error",21),i(),o(11,"div",18)(12,"p",23),c(13,"Country ID"),i(),_(14,"input",24),b(15,Tc,3,1,"mat-error",21),i(),o(16,"div",18)(17,"p",23),c(18,"Country Name"),i(),_(19,"input",25),b(20,Nc,3,1,"mat-error",21),i(),o(21,"div",18)(22,"p",19),c(23,"Status"),i(),_(24,"p-dropdown",26),i(),o(25,"div",18)(26,"p",19),c(27,"Remark"),i(),_(28,"input",27),i()(),o(29,"div",28)(30,"button",29),c(31,"Cancel"),i(),o(32,"button",30),g("click",function(){h(a);let t=y();return f(t.save())}),c(33),i()()}if(n&2){let a,e,t=y();s(4),x(v(20,Kt)),p("options",t.languageIdList)("disabled",!0)("panelStyle",v(21,Kt)),s(),p("ngIf",t.errorHandling("languageId")),s(4),x(v(22,Kt)),p("options",t.companyIdList)("disabled",!0)("panelStyle",v(23,Kt)),s(),p("ngIf",t.errorHandling("companyId")),s(4),p("ngClass",(a=t.form.get("countryId"))!=null&&a.invalid&&t.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",t.errorHandling("countryId")),s(4),p("ngClass",(e=t.form.get("countryName"))!=null&&e.invalid&&t.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",t.errorHandling("countryName")),s(4),x(v(24,Kt)),p("options",t.status),s(9),T(t.pageToken.pageflow!="New"?"Update":"Save")}}function kc(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11)(2,"p",32),c(3," 2"),i()(),o(4,"div")(5,"p",33),c(6," Admin"),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function Fc(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Created By"),i(),_(4,"input",34),i(),o(5,"div",18)(6,"p",19),c(7,"Created On"),i(),_(8,"input",35),i(),o(9,"div",18)(10,"p",19),c(11,"Updated By"),i(),_(12,"input",36),i(),o(13,"div",18)(14,"p",19),c(15,"Updated On"),i(),_(16,"input",37),i()(),o(17,"div",28)(18,"button",38),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19,"Back"),i(),o(20,"button",30),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(21),T(a.pageToken.pageflow!="New"?"Update":"Save")}}function Dc(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,kc,7,2,"ng-template",7)(2,Fc,22,1,"ng-template",8),i())}var xn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.numberRangeService=K,this.messageService=Q,this.auth=$,this.cas=He,this.active=0,this.status=[],this.form=this.fb.group({countryId:[,N.required],countryName:[,N.required],languageId:[this.auth.languageId,N.required],languageDescription:[],companyId:[this.auth.companyId,N.required],companyName:[],remark:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""],statusId:["16"],statusDescription:[]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[],this.companyIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Country",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.countryId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let r={};r.numberRangeObject=["COUNTRY"],this.numberRangeService.search(r).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.countryId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.countryId.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.countryId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/country"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.countryId+" has been created successfully"}),this.router.navigate(["/main/idMaster/country"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(ii),m(Qe),m(U),m(E),m(_e))},l.\u0275cmp=P({type:l,selectors:[["app-country-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","countryId","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","formControlName","countryName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/country",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i(),o(4,"div",1)(5,"button",3),c(6,"Transfer"),i()()(),o(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(10,"p-stepperPanel"),b(11,xc,7,2,"ng-template",7)(12,Ec,34,25,"ng-template",8),i(),b(13,Dc,3,0,"p-stepperPanel",9),i()()()()),t&2&&(s(3),S("Country - ",r.pageToken.pageflow,""),s(5),p("formGroup",r.form),s(),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,z,ke,Y,De,G,Ke,qe,O,re,R,L,Ge,Le,Be,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}"]});let n=l;return n})();var Mc=["country"],Pc=()=>({width:"80vw"}),hi=()=>({width:"100%"}),Vc=()=>({width:"100rem"});function Rc(n,l){if(n&1&&(o(0,"th",39),c(1),_(2,"p-sortIcon",40),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function Lc(n,l){if(n&1&&(o(0,"tr")(1,"th",36),_(2,"p-tableHeaderCheckbox",37),i(),b(3,Rc,3,3,"th",38),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function Oc(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function jc(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Bc(n,l){if(n&1&&(o(0,"td"),b(1,Oc,2,1,"ng-container",44)(2,jc,2,4,"ng-template",null,3,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function Ac(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",41)(2,"p-checkbox",42),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedCountry,t)||(r.selectedCountry=t),f(t)}),i()(),b(3,Bc,4,2,"td",43),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedCountry[0]===a),s(2),k("ngModel",t.selectedCountry),p("value",a),s(),p("ngForOf",e)}}function Uc(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",45),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}function Wc(n,l){n&1&&(o(0,"button",46),c(1,"Edit"),i(),o(2,"button",46),c(3,"Confirm"),i())}var In=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.auth=K,this.fb=Q,this.spin=$,this.countryTable=[],this.selectedCountry=[],this.cols=[],this.target=[],this.searchform=this.fb.group({countryId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={countryId:"Country",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.countryDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","Country"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"countryId",header:"Country ID"},{field:"countryName",header:"Country Name"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remark"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{this.countryTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},500)}onChange(){let e=this.selectedCountry[this.selectedCountry.length-1];this.selectedCountry.length=0,this.selectedCountry.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedCountry[0])})}openCrud(e="New",t=null){if(this.selectedCountry.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedCountry[0],pageflow:e});this.router.navigate(["/main/idMaster/country-new/"+r])}}deleteDialog(){if(this.selectedCountry.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedCountry,module:"Country",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedCountry[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e.countryId).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.countryId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.countryTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy"):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Country")}getSearchDropdown(){this.countryTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.countryId!=null&&(this.countryDropdown.push({value:e.countryId,label:e.countryName}),this.countryDropdown=this.cs.removeDuplicatesFromArrayList(this.countryDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.countryTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({countryId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(ii),m(ae),m(Z),m(E),m(A),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-country"]],viewQuery:function(t,r){if(t&1&&Te(Mc,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:46,vars:28,consts:[["country",""],["CountryTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","countryId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,r){if(t&1){let d=I();o(0,"div",4)(1,"div",5)(2,"p",6),c(3,"Country "),i(),o(4,"div",5)(5,"img",7),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",8),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",9),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",10),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",11),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",12),c(11," Add New"),i()()(),o(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",16),g("input",function(w){h(d);let C=M(39);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),c(22,"Country"),i(),_(23,"p-multiSelect",22),i(),o(24,"div",20)(25,"p",21),c(26,"Status"),i(),_(27,"p-multiSelect",23),i()(),o(28,"div",24)(29,"div")(30,"img",25),g("click",function(){return h(d),f(r.reset())}),i()(),o(31,"div")(32,"button",26),g("click",function(){return h(d),f(r.closeOverLay())}),c(33,"Cancel"),i(),o(34,"button",27),g("click",function(){return h(d),f(r.search())}),c(35,"Apply"),i()()()()(),o(36,"p-chips",28),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(37,"div",29)(38,"p-table",30,1),b(40,Lc,4,2,"ng-template",31)(41,Ac,4,5,"ng-template",32)(42,Uc,4,1,"ng-template",33),i()()(),o(43,"mat-menu",34,2),b(45,Wc,4,0,"ng-template",35),i()}t&2&&(s(16),x(v(22,Pc)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(23,hi)),p("options",r.countryDropdown)("panelStyle",v(24,hi)),s(4),x(v(25,hi)),p("options",r.statusDropdown)("panelStyle",v(26,hi)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.countryTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(27,Vc)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,Ye,$e,ze,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=l;return n})();var fi=(()=>{let l=class l{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/notification/"+e)}Create(e){return this.http.post("/overc-idmaster-service/notification",e)}Update(e){return this.http.patch("/overc-idmaster-service/notification/"+e.notificationId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/notification/"+e+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId)}search(e){return this.http.post("/overc-idmaster-service/notification/find",e)}};l.\u0275fac=function(t){return new(t||l)(ye(Je),ye(E))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:"root"});let n=l;return n})();var _t=()=>({width:"100%"});function Hc(n,l){n&1&&(o(0,"p",15),c(1,"1"),i())}function Gc(n,l){n&1&&_(0,"img",16)}function qc(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11),b(2,Hc,2,0,"p",12)(3,Gc,1,0,"img",13),i(),o(4,"div")(5,"p",14),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function Kc(n,l){if(n&1&&(o(0,"mat-error",35)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Qc(n,l){if(n&1&&(o(0,"mat-error",35)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function $c(n,l){if(n&1&&(o(0,"mat-error",35)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function zc(n,l){if(n&1&&(o(0,"mat-error",35)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Yc(n,l){if(n&1&&(o(0,"mat-error",35)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Zc(n,l){if(n&1&&(o(0,"mat-error",35)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Jc(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Language "),i(),_(4,"p-dropdown",20),b(5,Kc,3,1,"mat-error",21),i(),o(6,"div",18)(7,"p",19),c(8,"Company "),i(),_(9,"p-dropdown",22),b(10,Qc,3,1,"mat-error",21),i(),o(11,"div",18)(12,"p",19),c(13,"Notification ID"),i(),_(14,"input",23),b(15,$c,3,1,"mat-error",21),i(),o(16,"div",18)(17,"p",24),c(18,"Description"),i(),_(19,"input",25),i(),o(20,"div",18)(21,"p",19),c(22,"Product"),i(),o(23,"p-dropdown",26),g("onChange",function(){h(a);let t=y();return f(t.notificationChanged())}),i(),b(24,zc,3,1,"mat-error",21),i(),o(25,"div",18)(26,"p",19),c(27,"Sub Product"),i(),_(28,"p-dropdown",27),b(29,Yc,3,1,"mat-error",21),i(),o(30,"div",18)(31,"p",19),c(32,"Service Type"),i(),_(33,"p-dropdown",28),b(34,Zc,3,1,"mat-error",21),i(),o(35,"div",18)(36,"p",19),c(37,"User Role"),i(),_(38,"input",29),i(),o(39,"div",18)(40,"p",19),c(41,"User Name"),i(),_(42,"input",30),i(),o(43,"div",18)(44,"p",19),c(45,"Status"),i(),_(46,"p-dropdown",31),i()(),o(47,"div",32)(48,"button",33),c(49,"Cancel"),i(),o(50,"button",34),g("click",function(){h(a);let t=y();return f(t.save())}),c(51),i()()}if(n&2){let a,e=y();s(4),x(v(36,_t)),p("options",e.languageIdList)("disabled",!0)("panelStyle",v(37,_t)),s(),p("ngIf",e.errorHandling("languageId")),s(4),x(v(38,_t)),p("options",e.companyIdList)("disabled",!0)("panelStyle",v(39,_t)),s(),p("ngIf",e.errorHandling("companyId")),s(5),p("ngIf",e.errorHandling("notificationId")),s(4),p("ngClass",(a=e.form.get("notificationText"))!=null&&a.invalid&&e.submitted?"ng-invalid ng-dirty":""),s(4),x(v(40,_t)),p("options",e.productIdList)("disabled",!1)("panelStyle",v(41,_t)),s(),p("ngIf",e.errorHandling("productId")),s(4),x(v(42,_t)),p("options",e.subProductIdList)("disabled",!1)("panelStyle",v(43,_t)),s(),p("ngIf",e.errorHandling("subProductId")),s(4),x(v(44,_t)),p("options",e.serviceTypeIdList)("disabled",!1)("panelStyle",v(45,_t)),s(),p("ngIf",e.errorHandling("serviceTypeId")),s(12),x(v(46,_t)),p("options",e.status),s(5),T(e.pageToken.pageflow!="New"?"Update":"Save")}}function Xc(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11)(2,"p",36),c(3," 2"),i()(),o(4,"div")(5,"p",37),c(6," Admin"),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function ed(n,l){if(n&1){let a=I();o(0,"div",38)(1,"div",18)(2,"p",19),c(3,"Created By"),i(),_(4,"input",39),i(),o(5,"div",18)(6,"p",19),c(7,"Created On"),i(),_(8,"input",40),i(),o(9,"div",18)(10,"p",19),c(11,"Updated By"),i(),_(12,"input",41),i(),o(13,"div",18)(14,"p",19),c(15,"Updated On"),i(),_(16,"input",42),i()(),o(17,"div",32)(18,"button",43),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19,"Back"),i(),o(20,"button",34),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(21),T(a.pageToken.pageflow!="New"?"Update":"Save")}}function td(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,Xc,7,2,"ng-template",7)(2,ed,22,1,"ng-template",8),i())}var Tn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He,ut){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.numberRangeService=C,this.service=K,this.productService=Q,this.messageService=$,this.auth=He,this.cas=ut,this.active=0,this.status=[],this.form=this.fb.group({notificationId:[],notificationText:[,N.required],languageId:[this.auth.languageId,N.required],languageDescription:[],companyId:[this.auth.companyId,N.required],companyName:[],subProductId:[],subProductName:[],productId:[],productName:[],serviceTypeId:[],serviceTypeText:[],statusDescription:[],userRole:[],userName:[],remark:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""],statusId:["16"]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[],this.companyIdList=[],this.subProductIdList=[],this.productIdList=[],this.serviceTypeIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Notification",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.notificationId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let r={};r.numberRangeObject=["NOTIFICATION"],this.numberRangeService.search(r).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.notificationId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.notificationId.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.serviceType.url,this.cas.dropdownlist.setup.product.url,this.cas.dropdownlist.setup.subProduct.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.serviceTypeIdList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.serviceType.key),this.productIdList=this.cas.forLanguageFilter(e[3],this.cas.dropdownlist.setup.product.key),this.subProductIdList=this.cas.forLanguageFilterWithoutKey(e[4],this.cas.dropdownlist.setup.subProduct.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.notificationId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/notification"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.notificationId+" has been created successfully"}),this.router.navigate(["/main/idMaster/notification"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}notificationChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.productId=[this.form.controls.productId.value],this.subProductIdList=[],this.spin.show(),this.productService.search(e).subscribe({next:t=>{this.subProductIdList=this.cas.foreachlist(t,{key:"subProductId",value:"subProductName"}),this.subProductIdList=this.cs.removeDuplicatesFromArrayList(this.subProductIdList,"value"),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(Qe),m(fi),m(It),m(U),m(E),m(_e))},l.\u0275cmp=P({type:l,selectors:[["app-notification-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","notificationId","pInputText","","placeholder","Enter",1,"w-100"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","100","formControlName","notificationText","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["placeholder","Select","filter","true","formControlName","productId","appendTo","body",3,"onChange","options","disabled","panelStyle"],["placeholder","Select","filter","true","formControlName","subProductId","appendTo","body",3,"options","disabled","panelStyle"],["placeholder","Select","filter","true","formControlName","serviceTypeId","appendTo","body",3,"options","disabled","panelStyle"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","userRole","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","100","pInputText","","formControlName","userName","pInputText","","placeholder","Enter",1,"w-100"],["appendTo","body","formControlName","statusId","placeholder","Select\xA0",3,"options"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/notification",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i(),o(4,"div",1)(5,"button",3),c(6,"Transfer"),i()()(),o(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(10,"p-stepperPanel"),b(11,qc,7,2,"ng-template",7)(12,Jc,52,47,"ng-template",8),i(),b(13,td,3,0,"p-stepperPanel",9),i()()()()),t&2&&(s(3),S("Notification - ",r.pageToken.pageflow,""),s(5),p("formGroup",r.form),s(),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,z,ke,Y,De,G,Ke,qe,O,re,R,L,Ge,Le,Be,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=l;return n})();var id=["notification"],nd=()=>({width:"80vw"}),bt=()=>({width:"100%"}),rd=()=>({width:"100rem"});function od(n,l){if(n&1&&(o(0,"th",42),c(1),_(2,"p-sortIcon",43),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function ad(n,l){if(n&1&&(o(0,"tr")(1,"th",39),_(2,"p-tableHeaderCheckbox",40),i(),b(3,od,3,3,"th",41),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function ld(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function sd(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function cd(n,l){if(n&1&&(o(0,"td"),b(1,ld,2,1,"ng-container",47)(2,sd,2,4,"ng-template",null,3,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function dd(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",44)(2,"p-checkbox",45),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedNotification,t)||(r.selectedNotification=t),f(t)}),i()(),b(3,cd,4,2,"td",46),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedNotification[0]===a),s(2),k("ngModel",t.selectedNotification),p("value",a),s(),p("ngForOf",e)}}function pd(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",48),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}function md(n,l){n&1&&(o(0,"button",49),c(1,"Edit"),i(),o(2,"button",49),c(3,"Confirm"),i())}var Nn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.auth=K,this.fb=Q,this.spin=$,this.notificationTable=[],this.selectedNotification=[],this.cols=[],this.target=[],this.searchform=this.fb.group({subProductId:[],productId:[],serviceTypeId:[],notificationId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={subProductId:"Sub Product",productId:"Product",serviceTypeId:"Service Type",notificationId:"Notification",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.subProductDropdown=[],this.productDropdown=[],this.serviceTypeDropdown=[],this.notificationDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","Notification"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"notificationId",header:"Notification ID"},{field:"notificationText",header:"Description"},{field:"productName",header:"Product"},{field:"subProductName",header:"Sub Product"},{field:"serviceTypeText",header:"Service Type"},{field:"userRole",header:"User Role"},{field:"userName",header:"User Name"},{field:"statusDescription",header:"Status"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"statusId",header:"Status ID"},{field:"productId",header:"Product ID"},{field:"subProductId",header:"SubProduct ID"},{field:"serviceTypeId",header:"ServiceType ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.notificationTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedNotification[this.selectedNotification.length-1];this.selectedNotification.length=0,this.selectedNotification.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedNotification[0])})}openCrud(e="New",t=null){if(this.selectedNotification.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedNotification[0],pageflow:e});this.router.navigate(["/main/idMaster/notification-new/"+r])}}deleteDialog(){if(this.selectedNotification.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedNotification,module:"Notification",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedNotification[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e.notificationId).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.notificationId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.notificationTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?(console.log(3),r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Notification")}getSearchDropdown(){this.notificationTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.subProductId!=null&&(this.subProductDropdown.push({value:e.subProductId,label:e.subProductName}),this.subProductDropdown=this.cs.removeDuplicatesFromArrayList(this.subProductDropdown,"value")),e.productId!=null&&(this.productDropdown.push({value:e.productId,label:e.productName}),this.productDropdown=this.cs.removeDuplicatesFromArrayList(this.productDropdown,"value")),e.serviceTypeId!=null&&(this.serviceTypeDropdown.push({value:e.serviceTypeId,label:e.serviceTypeText}),this.serviceTypeDropdown=this.cs.removeDuplicatesFromArrayList(this.serviceTypeDropdown,"value")),e.notificationId!=null&&(this.notificationDropdown.push({value:e.notificationId,label:e.notificationText}),this.notificationDropdown=this.cs.removeDuplicatesFromArrayList(this.notificationDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.notificationTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({subProductId:[],productId:[],serviceTypeId:[],notificationId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(fi),m(ae),m(Z),m(E),m(A),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-notification"]],viewQuery:function(t,r){if(t&1&&Te(id,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:58,vars:46,consts:[["notification",""],["NotificationTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","notificationId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","serviceTypeId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","productId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","subProductId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,r){if(t&1){let d=I();o(0,"div",4)(1,"div",5)(2,"p",6),c(3,"Notification "),i(),o(4,"div",5)(5,"img",7),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",8),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",9),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",10),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",11),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",12),c(11," Add New"),i()()(),o(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",16),g("input",function(w){h(d);let C=M(51);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),c(22,"Notification"),i(),_(23,"p-multiSelect",22),i(),o(24,"div",20)(25,"p",21),c(26,"Service Type"),i(),_(27,"p-multiSelect",23),i(),o(28,"div",20)(29,"p",21),c(30,"Product"),i(),_(31,"p-multiSelect",24),i(),o(32,"div",20)(33,"p",21),c(34,"Sub Product"),i(),_(35,"p-multiSelect",25),i(),o(36,"div",20)(37,"p",21),c(38,"Status"),i(),_(39,"p-multiSelect",26),i()(),o(40,"div",27)(41,"div")(42,"img",28),g("click",function(){return h(d),f(r.reset())}),i()(),o(43,"div")(44,"button",29),g("click",function(){return h(d),f(r.closeOverLay())}),c(45,"Cancel"),i(),o(46,"button",30),g("click",function(){return h(d),f(r.search())}),c(47,"Apply"),i()()()()(),o(48,"p-chips",31),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(49,"div",32)(50,"p-table",33,1),b(52,ad,4,2,"ng-template",34)(53,dd,4,5,"ng-template",35)(54,pd,4,1,"ng-template",36),i()()(),o(55,"mat-menu",37,2),b(57,md,4,0,"ng-template",38),i()}t&2&&(s(16),x(v(34,nd)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(35,bt)),p("options",r.notificationDropdown)("panelStyle",v(36,bt)),s(4),x(v(37,bt)),p("options",r.serviceTypeDropdown)("panelStyle",v(38,bt)),s(4),x(v(39,bt)),p("options",r.productDropdown)("panelStyle",v(40,bt)),s(4),x(v(41,bt)),p("options",r.subProductDropdown)("panelStyle",v(42,bt)),s(4),x(v(43,bt)),p("options",r.statusDropdown)("panelStyle",v(44,bt)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.notificationTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(45,rd)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,Ye,$e,ze,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=l;return n})();var gi=(()=>{let l=class l{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/usermanagement"+e.userId+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId)}Create(e){return this.http.post("/overc-idmaster-service/usermanagement",e)}Update(e){return this.http.patch("/overc-idmaster-service/usermanagement/"+e.userId+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/usermanagement/"+e.userId+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId)}search(e){return this.http.post("/overc-idmaster-service/usermanagement/find",e)}};l.\u0275fac=function(t){return new(t||l)(ye(Je),ye(E))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:"root"});let n=l;return n})();var Pt=()=>({width:"100%"});function ud(n,l){n&1&&(o(0,"p",15),c(1,"1"),i())}function hd(n,l){n&1&&_(0,"img",16)}function fd(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11),b(2,ud,2,0,"p",12)(3,hd,1,0,"img",13),i(),o(4,"div")(5,"p",14),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function gd(n,l){if(n&1&&(o(0,"mat-error",36)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function _d(n,l){if(n&1&&(o(0,"mat-error",36)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function yd(n,l){if(n&1&&(o(0,"mat-error",36)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function vd(n,l){if(n&1&&(o(0,"mat-error",36)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function bd(n,l){if(n&1&&(o(0,"mat-error",36)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function wd(n,l){if(n&1&&(o(0,"mat-error",36)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Cd(n,l){if(n&1&&(o(0,"mat-error",36)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function xd(n,l){if(n&1&&(o(0,"mat-error",36)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Id(n,l){if(n&1&&(o(0,"mat-error",36)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Sd(n,l){if(n&1&&(o(0,"mat-error",36)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Td(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Language"),i(),_(4,"p-dropdown",20),b(5,gd,3,1,"mat-error",21),i(),o(6,"div",18)(7,"p",19),c(8,"Company"),i(),_(9,"p-dropdown",22),b(10,_d,3,1,"mat-error",21),i(),o(11,"div",18)(12,"p",23),c(13,"User ID"),i(),_(14,"input",24),b(15,yd,3,1,"mat-error",21),i(),o(16,"div",18)(17,"p",23),c(18,"User Role ID"),i(),_(19,"input",25),b(20,vd,3,1,"mat-error",21),i(),o(21,"div",18)(22,"p",23),c(23,"User Type ID"),i(),_(24,"p-dropdown",26),b(25,bd,3,1,"mat-error",21),i(),o(26,"div",18)(27,"p",23),c(28,"Password"),i(),_(29,"input",27),b(30,wd,3,1,"mat-error",21),i(),o(31,"div",18)(32,"p",23),c(33,"User Name"),i(),_(34,"input",28),b(35,Cd,3,1,"mat-error",21),i(),o(36,"div",18)(37,"p",23),c(38,"First Name"),i(),_(39,"input",29),b(40,xd,3,1,"mat-error",21),i(),o(41,"div",18)(42,"p",19),c(43,"Last Name"),i(),_(44,"input",30),b(45,Id,3,1,"mat-error",21),i(),o(46,"div",18)(47,"p",19),c(48,"Email ID"),i(),_(49,"input",31),b(50,Sd,3,1,"mat-error",21),i(),o(51,"div",18)(52,"p",19),c(53,"Status"),i(),_(54,"p-dropdown",32),i()(),o(55,"div",33)(56,"button",34),c(57,"Cancel"),i(),o(58,"button",35),g("click",function(){h(a);let t=y();return f(t.save())}),c(59),i()()}if(n&2){let a,e,t,r,d,u,w,C=y();s(4),x(v(38,Pt)),p("options",C.languageIdList)("disabled",!0)("panelStyle",v(39,Pt)),s(),p("ngIf",C.errorHandling("languageId")),s(4),x(v(40,Pt)),p("options",C.companyIdList)("disabled",!0)("panelStyle",v(41,Pt)),s(),p("ngIf",C.errorHandling("companyId")),s(4),p("ngClass",(a=C.form.get("userId"))!=null&&a.invalid&&((a=C.form.get("userId"))!=null&&a.dirty)?"invalid":""),s(),p("ngIf",C.errorHandling("userId")),s(4),p("ngClass",(e=C.form.get("userRoleId"))!=null&&e.invalid&&((e=C.form.get("userRoleId"))!=null&&e.dirty)?"invalid":""),s(),p("ngIf",C.errorHandling("userRoleId")),s(4),x(v(42,Pt)),p("options",C.userType)("disabled",!0)("panelStyle",v(43,Pt)),s(),p("ngIf",C.errorHandling("userTypeIdAndDescription")),s(4),p("ngClass",(t=C.form.get("password"))!=null&&t.invalid&&((t=C.form.get("password"))!=null&&t.dirty)?"invalid":""),s(),p("ngIf",C.errorHandling("password")),s(4),p("ngClass",(r=C.form.get("userName"))!=null&&r.invalid&&((r=C.form.get("userName"))!=null&&r.dirty)?"invalid":""),s(),p("ngIf",C.errorHandling("userName")),s(4),p("ngClass",(d=C.form.get("firstName"))!=null&&d.invalid&&((d=C.form.get("firstName"))!=null&&d.dirty)?"invalid":""),s(),p("ngIf",C.errorHandling("firstName")),s(4),p("ngClass",(u=C.form.get("lastName"))!=null&&u.invalid&&((u=C.form.get("lastName"))!=null&&u.dirty)?"invalid":""),s(),p("ngIf",C.errorHandling("lastName")),s(4),p("ngClass",(w=C.form.get("emailId"))!=null&&w.invalid&&((w=C.form.get("emailId"))!=null&&w.dirty)?"invalid":""),s(),p("ngIf",C.errorHandling("emailId")),s(4),x(v(44,Pt)),p("options",C.status),s(4),p("disabled",C.form.invalid)("ngClass",C.form.invalid?"disabledButton":""),s(),T(C.pageToken.pageflow!="New"?"Update":"Save")}}function Nd(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11)(2,"p",37),c(3," 2"),i()(),o(4,"div")(5,"p",38),c(6," Admin"),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function Ed(n,l){if(n&1){let a=I();o(0,"div",39)(1,"div",18)(2,"p",19),c(3,"Created By"),i(),_(4,"input",40),i(),o(5,"div",18)(6,"p",19),c(7,"Created On"),i(),_(8,"input",41),i(),o(9,"div",18)(10,"p",19),c(11,"Updated By"),i(),_(12,"input",42),i(),o(13,"div",18)(14,"p",19),c(15,"Updated On"),i(),_(16,"input",43),i()(),o(17,"div",33)(18,"button",44),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19,"Back"),i(),o(20,"button",35),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(20),p("disabled",a.form.invalid)("ngClass",a.form.invalid?"disabledButton":""),s(),T(a.pageToken.pageflow!="New"?"Update":"Save")}}function kd(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,Nd,7,2,"ng-template",7)(2,Ed,22,3,"ng-template",8),i())}var kn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.messageService=K,this.cas=Q,this.auth=$,this.active=0,this.userType=[],this.status=[],this.flag=[],this.form=this.fb.group({languageId:[this.auth.languageId,N.required],languageIDAndDescription:[],companyId:[this.auth.companyId,N.required],companyIdAndDescription:[],userId:[],userRoleId:[],userRoleIdAndDescription:[],userTypeIdAndDescription:[],userTypeId:[],password:[],userName:[],firstName:[],lastName:[],statusId:["16"],dateFormatId:[],currencyDecimal:[0],createHhtUser:[!1],timeZone:[],portalLoggedIn:[!1],hhtLoggedIn:[!1],resetPassword:[!1],emailId:[],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[],createdBy:[],updatedBy:[],updatedOn:[]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[],this.companyIdList=[],this.userType=[{value:1,label:"Portal"},{value:2,label:"Customer"},{value:3,label:"App"}],this.status=[{value:17,label:"Inactive"},{value:16,label:"Active"}],this.flag=[{value:"0",label:"False"},{value:"1",label:"True"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Users",this.pageToken.pageflow];this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"&&(this.fill(this.pageToken.line),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.form.controls.userId.disable(),this.form.controls.userRoleId.disable(),this.form.controls.userTypeId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable())}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e)}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.userId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/users"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.userId+" has been created successfully"}),this.router.navigate(["/main/idMaster/users"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(gi),m(U),m(_e),m(E))},l.\u0275cmp=P({type:l,selectors:[["app-users-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body","placeholder","Select","filter","true",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body","placeholder","Select","filter","true",3,"options","disabled","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["formControlName","userId","pInputText","","pKeyFilter","alphanum","placeholder","Enter",1,"w-100",3,"ngClass"],["formControlName","userRoleId","pInputText","","pKeyFilter","num","placeholder","Enter",1,"w-100",3,"ngClass"],["placeholder","Select","filter","true","formControlName","userTypeIdAndDescription","appendTo","body",3,"options","disabled","panelStyle"],["formControlName","password","pInputText","","pKeyFilter","alphanum","placeholder","Enter",1,"w-100",3,"ngClass"],["formControlName","userName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["formControlName","firstName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["formControlName","lastName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["formControlName","emailId","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select ",3,"options"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/users",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click","disabled","ngClass"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i(),o(4,"div",1)(5,"button",3),c(6,"Transfer"),i()()(),o(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(10,"p-stepperPanel"),b(11,fd,7,2,"ng-template",7)(12,Td,60,45,"ng-template",8),i(),b(13,kd,3,0,"p-stepperPanel",9),i()()()()),t&2&&(s(3),S("Users - ",r.pageToken.pageflow,""),s(5),p("formGroup",r.form),s(),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,z,ke,Y,De,G,Ke,qe,O,re,R,L,Le,Be,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=l;return n})();var Fd=["user"],Dd=()=>({width:"80vw"}),kt=()=>({width:"100%"}),Md=()=>({width:"100rem"});function Pd(n,l){if(n&1&&(o(0,"th",41),c(1),_(2,"p-sortIcon",42),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function Vd(n,l){if(n&1&&(o(0,"tr")(1,"th",38),_(2,"p-tableHeaderCheckbox",39),i(),b(3,Pd,3,3,"th",40),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function Rd(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function Ld(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Od(n,l){if(n&1&&(o(0,"td"),b(1,Rd,2,1,"ng-container",46)(2,Ld,2,4,"ng-template",null,3,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function jd(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",43)(2,"p-checkbox",44),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedUser,t)||(r.selectedUser=t),f(t)}),i()(),b(3,Od,4,2,"td",45),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedUser[0]===a),s(2),k("ngModel",t.selectedUser),p("value",a),s(),p("ngForOf",e)}}function Bd(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",47),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}function Ad(n,l){n&1&&(o(0,"button",48),c(1,"Edit"),i(),o(2,"button",48),c(3,"Confirm"),i())}var Fn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.fb=K,this.auth=Q,this.spin=$,this.userTable=[],this.selectedUser=[],this.cols=[],this.target=[],this.searchform=this.fb.group({userId:[],userRoleId:[],userTypeId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={userId:"User",userRoleId:"User Role",userTypeId:"User Type",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.userDropdown=[],this.userRoleDropdown=[],this.userTypeDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","Users"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyIdAndDescription",header:"Company"},{field:"userRoleId",header:"User Role"},{field:"userName",header:"User Name"},{field:"emailId",header:"Email Id"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"userTypeIdAndDescription",header:"User Type"},{field:"languageId",header:"Language ID"},{field:"languageIdAndDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"userId",header:"User ID"},{field:"userRoleId",header:"User Role ID"},{field:"userTypeId",header:"User Type ID"},{field:"password",header:"Password"},{field:"firstName",header:"First Name"},{field:"lastName",header:"Last Name"},{field:"timeZone",header:"Time Zone"},{field:"dateFormatId",header:"Date Format ID"},{field:"currencyDecimal",header:"Currency Decimal"},{field:"portalLoggedIn",header:"Portal Logged In"},{field:"hhtLoggedIn",header:"HHT Logged In"},{field:"resetPassword",header:"Reset Password"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.userTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedUser[this.selectedUser.length-1];this.selectedUser.length=0,this.selectedUser.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedUser[0])})}openCrud(e="New",t=null){if(this.selectedUser.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedUser[0],pageflow:e});this.router.navigate(["/main/idMaster/users-new/"+r])}}deleteDialog(){if(this.selectedUser.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedUser,module:"Users",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedUser[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.userId+e.companyId+e.languageId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.userTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="data"?(console.log(3),r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Users")}getSearchDropdown(){this.userTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.userId!=null&&(this.userDropdown.push({value:e.userId,label:e.userName}),this.userDropdown=this.cs.removeDuplicatesFromArrayList(this.userDropdown,"value")),e.userRoleId!=null&&(this.userRoleDropdown.push({value:e.userRoleId,label:e.userRoleIdAndDescription}),this.userRoleDropdown=this.cs.removeDuplicatesFromArrayList(this.userRoleDropdown,"value")),e.userTypeId!=null&&(this.userTypeDropdown.push({value:e.userTypeId,label:e.userTypeIdAndDescription}),this.userTypeDropdown=this.cs.removeDuplicatesFromArrayList(this.userTypeDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.userTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({userId:[],userRoleId:[],userTypeId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(gi),m(ae),m(Z),m(A),m(E),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-users"]],viewQuery:function(t,r){if(t&1&&Te(Fd,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:54,vars:40,consts:[["user",""],["userTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","userId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","userRoleId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","userTypeId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,r){if(t&1){let d=I();o(0,"div",4)(1,"div",5)(2,"p",6),c(3,"Users "),i(),o(4,"div",5)(5,"img",7),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",8),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",9),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",10),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",11),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",12),c(11," Add New"),i()()(),o(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",16),g("input",function(w){h(d);let C=M(47);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),c(22,"User"),i(),_(23,"p-multiSelect",22),i(),o(24,"div",20)(25,"p",21),c(26,"User Role"),i(),_(27,"p-multiSelect",23),i(),o(28,"div",20)(29,"p",21),c(30,"User Type"),i(),_(31,"p-multiSelect",24),i(),o(32,"div",20)(33,"p",21),c(34,"Status"),i(),_(35,"p-multiSelect",25),i()(),o(36,"div",26)(37,"div")(38,"img",27),g("click",function(){return h(d),f(r.reset())}),i()(),o(39,"div")(40,"button",28),g("click",function(){return h(d),f(r.closeOverLay())}),c(41,"Cancel"),i(),o(42,"button",29),g("click",function(){return h(d),f(r.search())}),c(43,"Apply"),i()()()()(),o(44,"p-chips",30),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(45,"div",31)(46,"p-table",32,1),b(48,Vd,4,2,"ng-template",33)(49,jd,4,5,"ng-template",34)(50,Bd,4,1,"ng-template",35),i()()(),o(51,"mat-menu",36,2),b(53,Ad,4,0,"ng-template",37),i()}t&2&&(s(16),x(v(30,Dd)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(31,kt)),p("options",r.userDropdown)("panelStyle",v(32,kt)),s(4),x(v(33,kt)),p("options",r.userRoleDropdown)("panelStyle",v(34,kt)),s(4),x(v(35,kt)),p("options",r.userTypeDropdown)("panelStyle",v(36,kt)),s(4),x(v(37,kt)),p("options",r.statusDropdown)("panelStyle",v(38,kt)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.userTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(39,Md)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,Ye,$e,ze,j,B,Z],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=l;return n})();var _i=(()=>{let l=class l{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/rateParameter/"+e+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId)}Create(e){return this.http.post("/overc-idmaster-service/rateParameter",e)}Update(e){return this.http.patch("/overc-idmaster-service/rateParameter/"+e.rateParameterId+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/rateParameter/"+e+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId)}search(e){return this.http.post("/overc-idmaster-service/rateParameter/find",e)}};l.\u0275fac=function(t){return new(t||l)(ye(Je),ye(E))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:"root"});let n=l;return n})();var Qt=()=>({width:"100%"});function Ud(n,l){n&1&&(o(0,"p",15),c(1,"1"),i())}function Wd(n,l){n&1&&_(0,"img",16)}function Hd(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11),b(2,Ud,2,0,"p",12)(3,Wd,1,0,"img",13),i(),o(4,"div")(5,"p",14),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function Gd(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function qd(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Kd(n,l){if(n&1&&(o(0,"mat-error",31)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Qd(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Language"),i(),_(4,"p-dropdown",20),b(5,Gd,3,1,"mat-error",21),i(),o(6,"div",18)(7,"p",19),c(8,"Company"),i(),_(9,"p-dropdown",22),b(10,qd,3,1,"mat-error",21),i(),o(11,"div",18)(12,"p",19),c(13,"Rate Parameter ID"),i(),_(14,"input",23),i(),o(15,"div",18)(16,"p",24),c(17,"Rate Parameter Name"),i(),_(18,"input",25),b(19,Kd,3,1,"mat-error",21),i(),o(20,"div",18)(21,"p",19),c(22,"Status"),i(),_(23,"p-dropdown",26),i(),o(24,"div",18)(25,"p",19),c(26,"Remarks"),i(),_(27,"input",27),i()(),o(28,"div",28)(29,"button",29),c(30,"Cancel"),i(),o(31,"button",30),g("click",function(){h(a);let t=y();return f(t.save())}),c(32),i()()}if(n&2){let a,e,t=y();s(4),x(v(19,Qt)),p("options",t.languageIdList)("disabled",!0)("panelStyle",v(20,Qt)),s(),p("ngIf",t.errorHandling("languageId")),s(4),x(v(21,Qt)),p("options",t.companyIdList)("disabled",!0)("panelStyle",v(22,Qt)),s(),p("ngIf",t.errorHandling("companyId")),s(4),p("ngClass",(a=t.form.get("rateParameterId"))!=null&&a.invalid&&((a=t.form.get("rateParameterId"))!=null&&a.dirty)?"invalid":""),s(4),p("ngClass",(e=t.form.get("rateParameterDescription"))!=null&&e.invalid&&t.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",t.errorHandling("rateParameterDescription")),s(4),x(v(23,Qt)),p("options",t.status),s(9),T(t.pageToken.pageflow!="New"?"Update":"Save")}}function $d(n,l){if(n&1){let a=I();o(0,"div",10),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",11)(2,"p",32),c(3," 2"),i()(),o(4,"div")(5,"p",33),c(6," Admin"),i()()()}if(n&2){let a=y(2);s(2),p("ngClass",a.active==2?"borderCircle":"disabled text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function zd(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Created By"),i(),_(4,"input",34),i(),o(5,"div",18)(6,"p",19),c(7,"Created On"),i(),_(8,"input",35),i(),o(9,"div",18)(10,"p",19),c(11,"Updated By"),i(),_(12,"input",36),i(),o(13,"div",18)(14,"p",19),c(15,"Updated On"),i(),_(16,"input",37),i()(),o(17,"div",28)(18,"button",38),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19,"Back"),i(),o(20,"button",30),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(21),T(a.pageToken.pageflow!="New"?"Update":"Save")}}function Yd(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,$d,7,2,"ng-template",7)(2,zd,22,1,"ng-template",8),i())}var Mn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.messageService=K,this.numberRangeService=Q,this.cas=$,this.auth=He,this.active=0,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId],languageDescription:[],companyId:[this.auth.companyId],companyName:[],rateParameterId:[],rateParameterDescription:[,N.required],remark:[],statusId:["16"],statusDescription:[],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[]}),this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.languageIdList=[],this.companyIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Setup","Rate Parameter",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.rateParameterId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let r={};r.numberRangeObject=["RATEPARAMETER"],this.numberRangeService.search(r).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.rateParameterId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.rateParameterId.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.rateParameterId+" has been updated successfully"}),this.router.navigate(["/main/idMaster/rateParameter"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.rateParameterId+" has been created successfully"}),this.router.navigate(["/main/idMaster/rateParameter"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(_i),m(U),m(Qe),m(_e),m(E))},l.\u0275cmp=P({type:l,selectors:[["app-rate-parameter-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","rateParameterId","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","rateParameterDescription","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select ",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/rateParameter",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i(),o(4,"div",1)(5,"button",3),c(6,"Transfer"),i()()(),o(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(10,"p-stepperPanel"),b(11,Hd,7,2,"ng-template",7)(12,Qd,33,24,"ng-template",8),i(),b(13,Yd,3,0,"p-stepperPanel",9),i()()()()),t&2&&(s(3),S("Rate Parameter - ",r.pageToken.pageflow,""),s(5),p("formGroup",r.form),s(),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,z,ke,Y,De,G,Ke,qe,O,re,R,L,Ge,Le,Be,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}"]});let n=l;return n})();var Zd=["rateParameter"],Jd=()=>({width:"80vw"}),yi=()=>({width:"100%"}),Xd=()=>({width:"100rem"});function ep(n,l){if(n&1&&(o(0,"th",36),c(1),_(2,"p-sortIcon",37),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function tp(n,l){if(n&1&&(o(0,"tr")(1,"th",33),_(2,"p-tableHeaderCheckbox",34),i(),b(3,ep,3,3,"th",35),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function ip(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function np(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y().$implicit,e=y().$implicit;S(" ",te(1,1,e[a.field],"dd-MM-yyyy")," ")}}function rp(n,l){if(n&1&&(o(0,"td"),b(1,ip,2,1,"ng-container",41)(2,np,2,4,"ng-template",null,2,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function op(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",38)(2,"p-checkbox",39),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedRateParameter,t)||(r.selectedRateParameter=t),f(t)}),i()(),b(3,rp,4,2,"td",40),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedRateParameter[0]===a),s(2),k("ngModel",t.selectedRateParameter),p("value",a),s(),p("ngForOf",e)}}function ap(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",42),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}var Pn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.auth=K,this.fb=Q,this.spin=$,this.rateParameterTable=[],this.selectedRateParameter=[],this.cols=[],this.target=[],this.searchform=this.fb.group({rateParameterId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={rateParameterId:"Rate Parameter",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.rateParameterDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","Rate Parameter"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"rateParameterId",header:"Rate Parameter ID"},{field:"rateParameterDescription",header:"Rate Parameter Name"},{field:"remark",header:"Remarks"},{field:"statusDescription",header:"Status"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.rateParameterTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedRateParameter[this.selectedRateParameter.length-1];this.selectedRateParameter.length=0,this.selectedRateParameter.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedRateParameter[0])})}openCrud(e="New",t=null){if(this.selectedRateParameter.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedRateParameter[0],pageflow:e});this.router.navigate(["/main/idMaster/rateParameter-new/"+r])}}deleteDialog(){if(this.selectedRateParameter.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedRateParameter,module:"Rate Parameter",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedRateParameter[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e.rateParameterId).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.rateParameterId+" Deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.rateParameterTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="date"?(console.log(3),r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"Rate Parameter")}getSearchDropdown(){this.rateParameterTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.rateParameterId!=null&&(this.rateParameterDropdown.push({value:e.rateParameterId,label:e.rateParameterDescription}),this.rateParameterDropdown=this.cs.removeDuplicatesFromArrayList(this.rateParameterDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.rateParameterTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({rateParameterId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(_i),m(ae),m(Z),m(E),m(A),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-rate-parameter"]],viewQuery:function(t,r){if(t&1&&Te(Zd,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:43,vars:28,consts:[["rateParameter",""],["rateParameterTag",""],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","rateParameterId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"]],template:function(t,r){if(t&1){let d=I();o(0,"div",3)(1,"div",4)(2,"p",5),c(3,"Rate Parameter "),i(),o(4,"div",4)(5,"img",6),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",7),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",8),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",9),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",10),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",11),c(11," Add New"),i()()(),o(12,"div",12)(13,"p-iconField",13)(14,"p-inputIcon",14),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",15),g("input",function(w){h(d);let C=M(39);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",16,0)(18,"form",17)(19,"div",18)(20,"div",19)(21,"p",20),c(22,"Rate Parameter"),i(),_(23,"p-multiSelect",21),i(),o(24,"div",19)(25,"p",20),c(26,"Status"),i(),_(27,"p-multiSelect",22),i()(),o(28,"div",23)(29,"div")(30,"img",24),g("click",function(){return h(d),f(r.reset())}),i()(),o(31,"div")(32,"button",25),g("click",function(){return h(d),f(r.closeOverLay())}),c(33,"Cancel"),i(),o(34,"button",26),g("click",function(){return h(d),f(r.search())}),c(35,"Apply"),i()()()()(),o(36,"p-chips",27),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(37,"div",28)(38,"p-table",29,1),b(40,tp,4,2,"ng-template",30)(41,op,4,5,"ng-template",31)(42,ap,4,1,"ng-template",32),i()()()}t&2&&(s(16),x(v(22,Jd)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(23,yi)),p("options",r.rateParameterDropdown)("panelStyle",v(24,yi)),s(4),x(v(25,yi)),p("options",r.statusDropdown)("panelStyle",v(26,yi)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.rateParameterTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(27,Xd)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,j,B,Z],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=l;return n})();var vi=(()=>{let l=class l{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/roleAccess/"+e+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId+"&menuId="+e.menuId+"&subMenuId="+e.subMenuId)}GetNew(e,t,r,d,u){return this.http.get("/overc-idmaster-service/roleAccess/"+e+"?companyId="+t+"&languageId="+r+"&menuId="+d+"&subMenuId="+u)}Create(e){return this.http.post("/overc-idmaster-service/roleAccess",e)}Update(e){return this.http.patch("/overc-idmaster-service/roleAccess/"+e.roleId+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId,e+"&menuId="+e.menuId+"&subMenuId="+e.subMenuId)}Delete(e){return this.http.delete("/overc-idmaster-service/roleAccess/"+e.roleId+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId+"&menuId="+e.menuId+"&subMenuId="+e.subMenuId)}search(e){return this.http.post("/overc-idmaster-service/roleAccess/find",e)}searchModule(e){}};l.\u0275fac=function(t){return new(t||l)(ye(Je),ye(E))},l.\u0275prov=Ze({token:l,factory:l.\u0275fac,providedIn:"root"});let n=l;return n})();var lp=["userRole"],sp=()=>({width:"80vw"}),Ft=()=>({width:"100%"}),cp=()=>({width:"100rem"});function dp(n,l){if(n&1&&(o(0,"th",41),c(1),_(2,"p-sortIcon",42),i()),n&2){let a=l.$implicit;p("pSortableColumn",a.field),s(),S(" ",a.header," "),s(),p("field",a.field)}}function pp(n,l){if(n&1&&(o(0,"tr")(1,"th",38),_(2,"p-tableHeaderCheckbox",39),i(),b(3,dp,3,3,"th",40),i()),n&2){let a=l.$implicit;s(2),p("disabled",!0),s(),p("ngForOf",a)}}function mp(n,l){if(n&1&&(de(0),c(1),pe()),n&2){let a=y().$implicit,e=y().$implicit;s(),S(" ",e[a.field]," ")}}function up(n,l){if(n&1&&(c(0),ee(1,"date")),n&2){let a=y(2).$implicit;S(" ",te(1,1,a.createdOn,"dd-MM-yyyy")," ")}}function hp(n,l){if(n&1&&(o(0,"td"),b(1,mp,2,1,"ng-container",46)(2,up,2,4,"ng-template",null,3,me),i()),n&2){let a=l.$implicit,e=M(3);s(),p("ngIf",a.format!=="date")("ngIfElse",e)}}function fp(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",43)(2,"p-checkbox",44),g("onChange",function(){h(a);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){h(a);let r=y();return F(r.selectedUserRole,t)||(r.selectedUserRole=t),f(t)}),i()(),b(3,hp,4,2,"td",45),i()}if(n&2){let a=l.$implicit,e=l.columns,t=y();ce("selectedRow",t.selectedUserRole[0]===a),s(2),k("ngModel",t.selectedUserRole),p("value",a),s(),p("ngForOf",e)}}function gp(n,l){n&1&&(o(0,"tr")(1,"td")(2,"p",47),c(3,"No records found"),i()()()),n&2&&(s(),se("colspan",4))}function _p(n,l){n&1&&(o(0,"button",48),c(1,"Edit"),i(),o(2,"button",48),c(3,"Confirm"),i())}var Rn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$){this.messageService=e,this.cs=t,this.router=r,this.path=d,this.service=u,this.dialog=w,this.datePipe=C,this.fb=K,this.auth=Q,this.spin=$,this.userRoleTable=[],this.selectedUserRole=[],this.cols=[],this.target=[],this.searchform=this.fb.group({menuId:[],subMenuId:[],roleId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={menuId:"Menu",subMenuId:"Sub Menu",roleId:"Role ID",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.menuDropdown=[],this.subMenuDropdown=[],this.roleDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Setup","User Role"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyIdAndDescription",header:"Company"},{field:"roleId",header:"Role ID"},{field:"userRoleName",header:"User Role"},{field:"menuName",header:"Menu"},{field:"subMenuName",header:"Sub Menu"},{field:"description",header:"Role Description"},{field:"authorizationObjectValue",header:"Authorization Object Value"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageIdAndDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"userRoleId",header:"UserRole ID"},{field:"menuId",header:"Menu ID"},{field:"subMenuId",header:"Sub Menu ID"},{field:"moduleId",header:"Module ID"},{field:"statusId",header:"Status ID"},{field:"authorizationObjectId",header:"Authorization Object ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.userRoleTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedUserRole[this.selectedUserRole.length-1];this.selectedUserRole.length=0,this.selectedUserRole.push(e)}customTable(){this.dialog.open(Ue,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedUserRole[0])})}openCrud(e="New",t=null){if(this.selectedUserRole.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let r=this.cs.encrypt({line:t??this.selectedUserRole[0],pageflow:e});this.router.navigate(["/main/idMaster/userrole-new/"+r])}}deleteDialog(){if(this.selectedUserRole.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(Ae,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedUserRole,module:"User Role",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedUserRole[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.roleId+e.companyId+e.languageId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.userRoleTable.map(t=>{let r={};return this.cols.forEach(d=>{d.format=="data"?(console.log(3),r[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):r[d.field]=t[d.field]}),r});this.cs.exportAsExcel(e,"UserRole")}getSearchDropdown(){this.userRoleTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.menuId!=null&&(this.menuDropdown.push({value:e.menuId,label:e.menuName}),this.menuDropdown=this.cs.removeDuplicatesFromArrayList(this.menuDropdown,"value")),e.subMenuId!=null&&(this.subMenuDropdown.push({value:e.subMenuId,label:e.subMenuName}),this.subMenuDropdown=this.cs.removeDuplicatesFromArrayList(this.subMenuDropdown,"value")),e.roleId!=null&&(this.roleDropdown.push({value:e.roleId,label:e.roleId}),this.roleDropdown=this.cs.removeDuplicatesFromArrayList(this.roleDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.userRoleTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({menuId:[],subMenuId:[],roleId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(r=>this.fieldDisplayNames[r]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};l.\u0275fac=function(t){return new(t||l)(m(U),m(H),m(V),m(q),m(vi),m(ae),m(Z),m(A),m(E),m(W))},l.\u0275cmp=P({type:l,selectors:[["app-user-role"]],viewQuery:function(t,r){if(t&1&&Te(lp,5),t&2){let d;Ne(d=Ee())&&(r.overlayPanel=d.first)}},decls:54,vars:40,consts:[["userRole",""],["userRoleTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","roleId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","menuId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","subMenuId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,r){if(t&1){let d=I();o(0,"div",4)(1,"div",5)(2,"p",6),c(3,"User Role "),i(),o(4,"div",5)(5,"img",7),g("click",function(){return h(d),f(r.openCrud("Edit"))}),i(),o(6,"img",8),g("click",function(){return h(d),f(r.downloadExcel())}),i(),o(7,"img",9),g("click",function(){return h(d),f(r.deleteDialog())}),i(),o(8,"img",10),g("click",function(){return h(d),f(r.customTable())}),i(),o(9,"button",11),g("click",function(){return h(d),f(r.openCrud("New"))}),_(10,"i",12),c(11," Add New"),i()()(),o(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),g("click",function(w){h(d);let C=M(17);return f(C.toggle(w))}),i(),o(15,"input",16),g("input",function(w){h(d);let C=M(47);return f(C.filterGlobal(w.target.value,"contains"))}),i()(),o(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),c(22,"Role ID"),i(),_(23,"p-multiSelect",22),i(),o(24,"div",20)(25,"p",21),c(26,"Menu"),i(),_(27,"p-multiSelect",23),i(),o(28,"div",20)(29,"p",21),c(30,"Sub Menu"),i(),_(31,"p-multiSelect",24),i(),o(32,"div",20)(33,"p",21),c(34,"Status"),i(),_(35,"p-multiSelect",25),i()(),o(36,"div",26)(37,"div")(38,"img",27),g("click",function(){return h(d),f(r.reset())}),i()(),o(39,"div")(40,"button",28),g("click",function(){return h(d),f(r.closeOverLay())}),c(41,"Cancel"),i(),o(42,"button",29),g("click",function(){return h(d),f(r.search())}),c(43,"Apply"),i()()()()(),o(44,"p-chips",30),g("onRemove",function(w){return h(d),f(r.chipClear(w))}),D("ngModelChange",function(w){return h(d),F(r.fieldsWithValue,w)||(r.fieldsWithValue=w),f(w)}),i()(),o(45,"div",31)(46,"p-table",32,1),b(48,pp,4,2,"ng-template",33)(49,fp,4,5,"ng-template",34)(50,gp,4,1,"ng-template",35),i()()(),o(51,"mat-menu",36,2),b(53,_p,4,0,"ng-template",37),i()}t&2&&(s(16),x(v(30,sp)),p("dismissable",!1)("styleClass","custom-overlay-panel"),s(2),p("formGroup",r.searchform),s(5),x(v(31,Ft)),p("options",r.roleDropdown)("panelStyle",v(32,Ft)),s(4),x(v(33,Ft)),p("options",r.menuDropdown)("panelStyle",v(34,Ft)),s(4),x(v(35,Ft)),p("options",r.subMenuDropdown)("panelStyle",v(36,Ft)),s(4),x(v(37,Ft)),p("options",r.statusDropdown)("panelStyle",v(38,Ft)),s(9),k("ngModel",r.fieldsWithValue),s(2),p("columns",r.cols)("value",r.userRoleTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",v(39,cp)))},dependencies:[ie,z,Y,X,Me,Pe,fe,Re,Ve,G,ge,O,R,L,he,Oe,oe,je,Ye,$e,ze,j,B,Z],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=l;return n})();var Ln=()=>({width:"100%","margin-top":"0.3rem","margin-bottom":"0.3rem"}),On=()=>({width:"20%"}),yp=()=>({width:"100%"});function vp(n,l){n&1&&(o(0,"p",14),c(1,"1"),i())}function bp(n,l){n&1&&_(0,"img",15)}function wp(n,l){if(n&1){let a=I();o(0,"div",9),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",10),b(2,vp,2,0,"p",11)(3,bp,1,0,"img",12),i(),o(4,"div")(5,"p",13),c(6,"General"),i()()()}if(n&2){let a=y();s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function Cp(n,l){if(n&1&&(o(0,"mat-error"),c(1),i()),n&2){let a=y(2);s(),T(a.getErrorMessage())}}function xp(n,l){if(n&1&&(o(0,"mat-error"),c(1),i()),n&2){let a=y(2);s(),T(a.getErrorMessage())}}function Ip(n,l){if(n&1&&(o(0,"mat-error",30)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Sp(n,l){if(n&1&&(o(0,"mat-error",30)(1,"small"),c(2),i()()),n&2){let a=y(2);s(2),T(a.getErrorMessage())}}function Tp(n,l){if(n&1){let a=I();o(0,"form",16)(1,"div",17)(2,"div",18)(3,"p",19),c(4,"Language"),i(),o(5,"p-dropdown",20),g("onChange",function(t){h(a);let r=y();return f(r.onLanguageChange(t))}),i(),b(6,Cp,2,1,"mat-error",8),i(),o(7,"div",18)(8,"p",19),c(9,"Company"),i(),o(10,"p-dropdown",21),g("onChange",function(t){h(a);let r=y();return f(r.onCompanyChange(t))}),i(),b(11,xp,2,1,"mat-error",8),i(),o(12,"div",18)(13,"p",22),c(14,"Role ID"),i(),_(15,"input",23),b(16,Ip,3,1,"mat-error",24),i(),o(17,"div",18)(18,"p",22),c(19,"Role Name"),i(),_(20,"input",25),b(21,Sp,3,1,"mat-error",24),i(),o(22,"div",18)(23,"p",19),c(24,"Status"),i(),_(25,"p-dropdown",26),i()()(),o(26,"div",27)(27,"button",28),c(28," Cancel "),i(),o(29,"button",29),g("click",function(){let t=h(a).nextCallback;return f(t.emit())}),c(30," Next "),i()()}if(n&2){let a,e,t=y();p("formGroup",t.form),s(5),x(v(20,Ln)),p("filter",!0)("options",t.languageIdList)("panelStyle",v(21,On)),s(),p("ngIf",t.errorHandling("languageId")),s(4),x(v(22,Ln)),p("filter",!0)("options",t.companyIdList)("panelStyle",v(23,On)),s(),p("ngIf",t.errorHandling("companyId")),s(4),p("ngClass",(a=t.form.get("roleId"))!=null&&a.invalid&&((a=t.form.get("roleId"))!=null&&a.dirty)?"invalid":""),s(),p("ngIf",t.errorHandling("roleId")),s(4),p("ngClass",(e=t.form.get("userRoleName"))!=null&&e.invalid&&t.submitted?"ng-invalid ng-dirty":""),s(),p("ngIf",t.errorHandling("userRoleName")),s(4),x(v(24,yp)),p("options",t.status)}}function Np(n,l){n&1&&(o(0,"p",14),c(1,"2"),i())}function Ep(n,l){n&1&&_(0,"img",15)}function kp(n,l){if(n&1){let a=I();o(0,"div",9),g("click",function(){let t=h(a).onClick;return f(t.emit())}),o(1,"div",10),b(2,Np,2,0,"p",11)(3,Ep,1,0,"img",12),i(),o(4,"div")(5,"p",13),c(6,"Screens"),i()()()}if(n&2){let a=y(2);s(2),p("ngIf",a.active==0),s(),p("ngIf",a.active!=0)}}function Fp(n,l){if(n&1&&(o(0,"ul",42)(1,"li",43)(2,"p",44),c(3),i()()()),n&2){let a=y().$implicit;s(3),S(" ",a.mainMenu," ")}}function Dp(n,l){n&1&&(o(0,"tr")(1,"th",45),c(2,"S.No"),i(),o(3,"th",45),c(4,"Menu"),i(),o(5,"th",45),c(6,"Select All"),i(),o(7,"th",45),c(8,"Create / Modify"),i(),o(9,"th",45),c(10,"Display"),i(),o(11,"th",45),c(12,"Delete"),i()())}function Mp(n,l){if(n&1){let a=I();o(0,"tr")(1,"td",45),c(2),i(),o(3,"td",45),c(4),i(),o(5,"td",45)(6,"p-checkbox",46),g("onChange",function(t){let r=h(a).$implicit,d=y(4);return f(d.onChange(r,t))}),i()(),o(7,"td",45)(8,"p-checkbox",47),D("ngModelChange",function(t){let r=h(a).$implicit;return F(r.createUpdate,t)||(r.createUpdate=t),f(t)}),i()(),o(9,"td",45)(10,"p-checkbox",47),D("ngModelChange",function(t){let r=h(a).$implicit;return F(r.view,t)||(r.view=t),f(t)}),i()(),o(11,"td",45)(12,"p-checkbox",47),D("ngModelChange",function(t){let r=h(a).$implicit;return F(r.delete,t)||(r.delete=t),f(t)}),i()()()}if(n&2){let a=l.$implicit,e=l.rowIndex;s(2),T(e+1),s(2),T(a.subMenuName),s(2),p("binary",!0)("ngModel",a.createUpdate&&a.view&&a.delete),s(2),p("binary",!0),k("ngModel",a.createUpdate),s(2),p("binary",!0),k("ngModel",a.view),s(2),p("binary",!0),k("ngModel",a.delete)}}function Pp(n,l){if(n&1){let a=I();o(0,"mat-tab"),b(1,Fp,4,1,"ng-template",35),o(2,"div",36)(3,"div",37)(4,"p-checkbox",38),g("onChange",function(t){let r=h(a).$implicit,d=y(3);return f(d.checkUncheckAll(r.mainMenu,t))}),i(),c(5," Select All "),i(),o(6,"div",39)(7,"p-table",40),b(8,Dp,13,0,"ng-template",6)(9,Mp,13,10,"ng-template",41),i()()()()}if(n&2){let a=l.$implicit;s(4),p("binary",!0),s(3),p("value",a.Menu)("scrollable",!0)}}function Vp(n,l){if(n&1){let a=I();o(0,"div",31)(1,"mat-tab-group",32),b(2,Pp,10,3,"mat-tab",33),i()(),o(3,"div",27)(4,"button",34),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(5,"Back"),i(),o(6,"button",29),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(7),i()()}if(n&2){let a=y(2);s(2),p("ngForOf",a.menuList),s(5),T(a.pageToken.pageflow!="New"?"Update":"Save")}}function Rp(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,kp,7,2,"ng-template",6)(2,Vp,8,2,"ng-template",7),i())}function Lp(n,l){if(n&1&&(o(0,"div",48)(1,"p",49),c(2,"2"),i()(),o(3,"div")(4,"p",50),c(5,"Admin "),i()()),n&2){let a=y(2);s(),p("ngClass",a.active==2?"borderCircle":"disable text-muted"),s(3),p("ngClass",a.active==2?"textBlack f600":"text-muted")}}function Op(n,l){if(n&1){let a=I();o(0,"div",17)(1,"div",18)(2,"p",19),c(3,"Created By"),i(),_(4,"input",51),i(),o(5,"div",18)(6,"p",19),c(7,"Created On"),i(),_(8,"input",52),i(),o(9,"div",18)(10,"p",19),c(11,"Updated By"),i(),_(12,"input",53),i(),o(13,"div",18)(14,"p",19),c(15,"Updated On"),i(),_(16,"input",54),i()(),o(17,"div",27)(18,"button",34),g("click",function(){let t=h(a).prevCallback;return f(t.emit())}),c(19,"Back"),i(),o(20,"button",29),g("click",function(){h(a);let t=y(2);return f(t.save())}),c(21),i()()}if(n&2){let a=y(2);s(21),T(a.pageToken.pageflow!="New"?"Update":"Save")}}function jp(n,l){n&1&&(o(0,"p-stepperPanel"),b(1,Lp,6,2,"ng-template",6)(2,Op,22,1,"ng-template",7),i())}var jn=(()=>{let l=class l{constructor(e,t,r,d,u,w,C,K,Q,$,He){this.cs=e,this.spin=t,this.route=r,this.router=d,this.path=u,this.fb=w,this.service=C,this.moduleService=K,this.messageService=Q,this.cas=$,this.auth=He,this.userRoleTable=[],this.selectedUserRole=[],this.cols=[],this.target=[],this.active=0,this.status=[],this.disabled=!1,this.step=0,this.submitted=!1,this.email=new Fe("",[N.required,N.email]),this.sub=new Di,this.languageIdList=[],this.companyIdList=[],this.isbtntext=!0,this.btntext="Save",this.menuList=[],this.menuListRaw=[],this.moduleResult=[],this.menuListraw=[{mainMenu:"Shortcuts",Menu:[{menuId:1,subMenuId:1e3,referenceField2:"Setup",referenceField1:"Company",createUpdate:!0,delete:!0,view:!0},{menuId:1,subMenuId:1001,referenceField2:"Setup",referenceField1:"Language",createUpdate:!0,delete:!0,view:!0}]}],this.form=this.fb.group({statusId:["16",[N.required]],roleId:[,],userRoleName:[,[N.required]],languageId:[,[N.required]],companyId:[,[N.required]]}),this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}errorHandling(e,t="required"){let r=this.form.get(e);return r&&r.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t={};t.companyId=this.auth.companyId,t.languageId=this.auth.languageId;let r=["Setup","User Role",this.pageToken.pageflow];this.path.setData(r),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"&&(this.fill(this.pageToken.line),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.form.controls.roleId.disable()),this.pageToken.pageflow=="New"&&(this.form.controls.languageId.patchValue(this.auth.languageId),this.form.controls.companyId.patchValue(this.auth.companyId),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.getModuleId())}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){e.pageflow!="New"&&(this.btntext="Updated",e.pageflow=="Display"&&(this.form.disable(),this.isbtntext=!1),this.spin.show(),console.log(e),this.moduleService.search({languageId:[this.auth.languageId],companyId:[this.auth.companyId]}).subscribe(t=>{this.sub.add(this.service.GetNew(e.roleId,this.auth.companyId,this.auth.languageId,e.menuId,e.subMenuId).subscribe(r=>{console.log(r),this.form.patchValue(r[0]);let d=this.cs.removeDuplicateObj(r,t);this.menuList=[],this.menuList.push({mainMenu:"Setup",Menu:d.filter(u=>u.moduleId==2e3)}),this.menuList.push({mainMenu:"Masters",Menu:d.filter(u=>u.moduleId==3e3)}),this.menuList.push({mainMenu:"Airport",Menu:d.filter(u=>u.moduleId==5e3)}),this.menuList.push({mainMenu:"Customer Service",Menu:d.filter(u=>u.moduleId==4e3)}),this.menuList.push({mainMenu:"Operations",Menu:d.filter(u=>u.moduleId==6e3)}),this.menuList.push({mainMenu:"Billings",Menu:d.filter(u=>u.moduleId==7e3)}),this.menuList.push({mainMenu:"Integrations",Menu:d.filter(u=>u.moduleId==8e3)}),this.menuList.push({mainMenu:"Reports",Menu:d.filter(u=>u.moduleId==9e3)}),this.spin.hide()},r=>{this.cs.commonerrorNew(r),this.spin.hide()}))}))}reset(){this.menuList=this.menuListRaw}resetAll(){this.menuList.forEach(e=>{e.Menu.forEach(t=>{t.createUpdate=!1,t.delete=!1,t.view=!1})})}addScreens(){let e="";e=this.cs.encrypt({lines:this.menuList}),this.router.navigate(["/main/idMaster/userrole-new/"+e])}checkUncheckAll(e,t){t.checked?this.menuList.find(r=>r.mainMenu==e).Menu.forEach(r=>{r.createUpdate=!0,r.delete=!0,r.view=!0}):this.menuList.find(r=>r.mainMenu==e).Menu.forEach(r=>{})}onChange(e,t){e.view=t.checked,e.createUpdate=t.checked,e.delete=t.checked}onLanguageChange(e){this.moduleService.search({languageId:[e.value]}).subscribe(t=>{this.companyIdList=[],t.forEach(r=>{this.companyIdList.push({value:r.companyId,lable:r.companyId+"-"+r.description})})}),this.moduleService.search({companyId:[this.auth.companyId],languageId:[this.auth.languageId]}).subscribe(t=>{this.moduleResult=[],this.moduleResult.push(t),this.menuList=[],this.menuList.push({mainMenu:"Setup",Menu:t.filter(r=>r.module==2e3)}),this.menuList.push({mainMenu:"Master",Menu:t.filter(r=>r.module==3e3)}),this.menuList.push({mainMenu:"Airport",Menu:t.filter(r=>r.moduleId==5e3)}),this.menuList.push({mainMenu:"Customer Service",Menu:t.filter(r=>r.moduleId==4e3)}),this.menuList.push({mainMenu:"Operations",Menu:t.filter(r=>r.moduleId==6e3)}),this.menuList.push({mainMenu:"Billings",Menu:t.filter(r=>r.moduleId==7e3)}),this.menuList.push({mainMenu:"Integrations",Menu:t.filter(r=>r.moduleId==8e3)}),this.menuList.push({mainMenu:"Reports",Menu:t.filter(r=>r.moduleId==9e3)})})}onCompanyChange(e){this.moduleService.search({companyId:[e.value],languageId:[this.auth.languageId]}).subscribe(t=>{this.moduleResult=[],this.moduleResult.push(t),this.menuList=[],this.menuList.push({mainMenu:"Setup",Menu:t.filter(r=>r.moduleId==2e3)}),this.menuList.push({mainMenu:"Masters",Menu:t.filter(r=>r.moduleId==3e3)}),this.menuList.push({mainMenu:"Airport",Menu:t.filter(r=>r.moduleId==5e3)}),this.menuList.push({mainMenu:"Customer Service",Menu:t.filter(r=>r.moduleId==4e3)}),this.menuList.push({mainMenu:"Operations",Menu:t.filter(r=>r.moduleId==6e3)}),this.menuList.push({mainMenu:"Billings",Menu:t.filter(r=>r.moduleId==7e3)}),this.menuList.push({mainMenu:"Integrations",Menu:t.filter(r=>r.moduleId==8e3)}),this.menuList.push({mainMenu:"Reports",Menu:t.filter(r=>r.moduleId==9e3)})})}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"warn",summary:"Error",key:"br",detail:"Please fill the required fields to continue"});return}this.form.updateValueAndValidity;let e=[];this.menuList.forEach(t=>{t.Menu.forEach(r=>{r.languageId=this.form.controls.languageId.value,r.companyId=this.form.controls.companyId.value,r.statusId=this.form.controls.statusId.value,r.edit=!0,e.push(r)})}),this.spin.show(),this.pageToken.pageflow!="New"?this.service.Update(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:t[0].roleId.value+"has been updated successfully"}),this.router.navigate(["/main/idMaster/userrole"]),this.spin.hide()},error:t=>{this.form.controls.statusId.patchValue(this.form.controls.statusId.value?"Active":"Inactive"),this.cs.commonerrorNew(t),this.spin.hide()}}):this.service.Create(e).subscribe({next:t=>{t&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:t[0].roleId.value+"has been created successfully"}),this.router.navigate(["/main/idMaster/userrole"]),this.spin.hide())},error:t=>{this.form.controls.statusId.patchValue(this.form.controls.statusId.value?"Active":"InActive"),this.cs.commonerrorNew(t),this.spin.hide()}})}getModuleId(){this.moduleService.search({companyId:[this.auth.companyId],languageId:[this.auth.languageId]}).subscribe(e=>{this.moduleResult=[],this.moduleResult=e,this.menuList=[],this.menuList.push({mainMenu:"Setup",Menu:this.moduleResult.filter(t=>t.moduleId==2e3)}),this.menuList.push({mainMenu:"Masters",Menu:this.moduleResult.filter(t=>t.moduleId==3e3)}),this.menuList.push({mainMenu:"Airport",Menu:this.moduleResult.filter(t=>t.moduleId==5e3)}),this.menuList.push({mainMenu:"Customer Service",Menu:this.moduleResult.filter(t=>t.moduleId==4e3)}),this.menuList.push({mainMenu:"Operations",Menu:this.moduleResult.filter(t=>t.moduleId==6e3)}),this.menuList.push({mainMenu:"Billings",Menu:this.moduleResult.filter(t=>t.moduleId==7e3)}),this.menuList.push({mainMenu:"Integrations",Menu:this.moduleResult.filter(t=>t.moduleId==8e3)}),this.menuList.push({mainMenu:"Reports",Menu:this.moduleResult.filter(t=>t.moduleId==9e3)})})}getModuleIDSuperAdmin(){this.moduleService.search({companyId:[this.form.controls.companyId.value],languageId:this.form.controls.languageId.value}).subscribe(e=>{this.moduleResult=[],this.moduleResult.push(e),this.menuList=[],this.menuList.push({mainMenu:"Setup",Menu:e.filter(t=>t.moduleId==2e3)}),this.menuList.push({mainMenu:"Masters",Menu:e.filter(t=>t.moduleId==3e3)}),this.menuList.push({mainMenu:"Airport",Menu:e.filter(t=>t.moduleId==5e3)}),this.menuList.push({mainMenu:"Customer Service",Menu:e.filter(t=>t.moduleId==4e3)}),this.menuList.push({mainMenu:"Operations",Menu:e.filter(t=>t.moduleId==6e3)}),this.menuList.push({mainMenu:"Billings",Menu:e.filter(t=>t.moduleId==7e3)}),this.menuList.push({mainMenu:"Integrations",Menu:e.filter(t=>t.moduleId==8e3)}),this.menuList.push({mainMenu:"Reports",Menu:e.filter(t=>t.moduleId==9e3)})})}};l.\u0275fac=function(t){return new(t||l)(m(H),m(W),m(ne),m(V),m(q),m(A),m(vi),m(Ot),m(U),m(_e),m(E))},l.\u0275cmp=P({type:l,selectors:[["app-user-role-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[3,"formGroup"],[1,"row"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","languageId","appendTo","body",1,"w-100",3,"onChange","filter","options","panelStyle"],["placeholder","Select","filter","true","formControlName","companyId","appendTo","body",1,"w-100",3,"onChange","filter","options","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["formControlName","roleId","pInputText","","pKeyFilter","num","placeholder","Enter",1,"w-100",3,"ngClass"],["class","text-danger",4,"ngIf"],["formControlName","userRoleName","pInputText","","pKeyFilter","alphanum","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select ",3,"options"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/idMaster/userrole",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"row","d-flex","justify-content"],[1,"mx-8"],[4,"ngFor","ngForOf"],[1,"buttom1","textBlack","mx-1",3,"click"],["mat-tab-label",""],[1,"scrolltable","mr-1"],[1,"col-12","col-sm-12","col-md-4","col-lg-4","pt-3","pb-3"],[3,"onChange","binary"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(78vh - 19.8rem)","styleClass","p-datatable-sm",1,"custom-table",3,"value","scrollable"],["pTemplate","body"],[1,"nav"],[1,"nav-item"],["href","",1,"nav-link"],[2,"text-align","center"],[3,"onChange","binary","ngModel"],[3,"ngModelChange","binary","ngModel"],[1,"d-flex","flex-column","align-items-center"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"p",2),c(3),i(),o(4,"div",1)(5,"button",3),c(6,"Transfer"),i()()(),o(7,"div",4)(8,"p-stepper",5),D("activeStepChange",function(u){return F(r.active,u)||(r.active=u),u}),o(9,"p-stepperPanel"),b(10,wp,7,2,"ng-template",6)(11,Tp,31,25,"ng-template",7),i(),b(12,Rp,3,0,"p-stepperPanel",8)(13,jp,3,0,"p-stepperPanel",8),i()()()),t&2&&(s(3),S("User Role - ",r.pageToken.pageflow,""),s(5),k("activeStep",r.active),s(4),p("ngIf",r.pageToken.pageflow=="New"),s(),p("ngIf",r.pageToken.pageflow!="New"))},dependencies:[ue,ie,z,ke,Y,X,De,G,ge,Ke,qe,O,re,R,L,he,Le,Be,Vi,Ri,Li,j,B],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}.mat-mdc-tab-group[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{--mdc-tab-indicator-active-indicator-color: #fb4;--mat-tab-header-disabled-ripple-color: black;--mat-tab-header-pagination-icon-color: #000;--mat-tab-header-inactive-label-text-color: black;--mat-tab-header-active-label-text-color: #fb4;--mat-tab-header-active-ripple-color: #fb4;--mat-tab-header-inactive-ripple-color: #fb4;--mat-tab-header-inactive-focus-label-text-color: black;--mat-tab-header-inactive-hover-label-text-color: black;--mat-tab-header-active-focus-label-text-color: #fb4;--mat-tab-header-active-hover-label-text-color: #fb4;--mat-tab-header-active-focus-indicator-color: #fb4;--mat-tab-header-active-hover-indicator-color: #fb4}"]});let n=l;return n})();var Bp=[{path:"company",component:Bi,data:{title:"Setup",module:"Company"}},{path:"company-new/:code",component:nn,data:{title:"Setup",module:"Company - Add New"}},{path:"language",component:Wi,data:{title:"Setup",module:"Language"}},{path:"language-new/:code",component:Hi,data:{title:"Setup",module:"Language - Add New"}},{path:"consignmentType",component:qi,data:{title:"Setup",module:"ConsignmentType"}},{path:"consignmentType-new/:code",component:Ki,data:{title:"Setup",module:"ConsignmentType - Add New"}},{path:"serviceType",component:pn,data:{title:"Setup",module:"ServiceType"}},{path:"serviceType-new/:code",component:mn,data:{title:"Setup",module:"ServiceType - Add New"}},{path:"menu",component:Qi,data:{title:"Setup",module:"Menu"}},{path:"menu-new/:code",component:$i,data:{title:"Setup",module:"Menu - Add New"}},{path:"status",component:Xi,data:{title:"Setup",module:"Status"}},{path:"status-new/:code",component:Zi,data:{title:"Setup",module:"Status - Add New"}},{path:"currency",component:tn,data:{title:"Setup",module:"Currency"}},{path:"currency-new/:code",component:en,data:{title:"Setup",module:"Currency - Add New"}},{path:"loadType",component:ln,data:{title:"Setup",module:"LoadType"}},{path:"loadType-new/:code",component:cn,data:{title:"Setup",module:"LoadType - Add New"}},{path:"subProduct",component:rn,data:{title:"Setup",module:"Sub Product"}},{path:"subProduct-new/:code",component:on,data:{title:"Setup",module:"Sub Product - Add New"}},{path:"module",component:un,data:{title:"Setup",module:"Module"}},{path:"module-new/:code",component:hn,data:{title:"Setup",module:"Module - Add New"}},{path:"province",component:fn,data:{title:"Setup",module:"Province"}},{path:"province-new/:code",component:gn,data:{title:"Setup",module:"Province - Add New"}},{path:"district",component:_n,data:{title:"Setup",module:"District"}},{path:"district-new/:code",component:yn,data:{title:"Setup",module:"District - Add New"}},{path:"city",component:vn,data:{title:"Setup",module:"City"}},{path:"city-new/:code",component:bn,data:{title:"Setup",module:"City - Add New"}},{path:"product",component:Cn,data:{title:"Setup",module:"Product"}},{path:"product-new/:code",component:wn,data:{title:"Setup",module:"Product - Add New"}},{path:"country",component:In,data:{title:"Setup",module:"Country"}},{path:"country-new/:code",component:xn,data:{title:"Setup",module:"Country - Add New"}},{path:"notification",component:Nn,data:{title:"Setup",module:"Notification"}},{path:"notification-new/:code",component:Tn,data:{title:"Setup",module:"Notification - Add New"}},{path:"users",component:Fn,data:{title:"Master",module:"Users"}},{path:"users-new/:code",component:kn,data:{title:"Master",module:"Users - Add New"}},{path:"rateParameter",component:Pn,data:{title:"Setup",module:"Rate Parameter"}},{path:"rateParameter-new/:code",component:Mn,data:{title:"Setup",module:"Rate Parameter - Add New"}},{path:"userrole",component:Rn,data:{title:"Master",module:"UserRole"}},{path:"userrole-new/:code",component:jn,data:{title:"Master",module:"UserRole - Add New"}}],Bn=(()=>{let l=class l{};l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=zt({type:l}),l.\u0275inj=$t({imports:[wi.forChild(Bp),wi]});let n=l;return n})();var ef=(()=>{let l=class l{};l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=zt({type:l}),l.\u0275inj=$t({imports:[Mi,Bn,Oi]});let n=l;return n})();export{ef as IdMastersModule};
