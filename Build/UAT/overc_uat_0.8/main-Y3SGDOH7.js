import{a as _}from"./chunk-GFJV3LPZ.js";import"./chunk-JKZWSLYV.js";import{Aa as y,E as T,F as w,G as d,Pa as B,R as k,Sb as U,Xa as A,Ya as H,_a as g,bb as z,ca as F,d as Z,da as M,g as x,i as r,ia as E,ka as j,l as b,m as N,ma as m,n as h,na as R,o as l,oa as C,p as u,pa as S,q as I,qa as D,r as c,ra as O,sb as V,wa as L,xa as P,y as f}from"./chunk-OEJ43FKK.js";var q=[{path:"",loadChildren:()=>import("./chunk-DQF6FEGN.js").then(i=>i.LoginModule)},{path:"main",loadChildren:()=>import("./chunk-K2FQTGPL.js").then(i=>i.MainModule)}],Q=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=c({type:t}),t.\u0275inj=l({imports:[y.forRoot(q),y]});let i=t;return i})();var $=(()=>{let t=class t{constructor(e,o){this.http=e,this.router=o,this.title="angular17.0"}ngOnInit(){}};t.\u0275fac=function(o){return new(o||t)(f(R),f(P))},t.\u0275cmp=I({type:t,selectors:[["app-root"]],decls:5,vars:0,consts:[["position","bottom-center","key","br"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","line-spin-clockwise-fade"],[2,"font-size","20px","color","white"]],template:function(o,n){o&1&&(d(0,"p-toast",0),T(1,"ngx-spinner",1)(2,"p",2),k(3,"Loading..."),w()(),d(4,"router-outlet"))},dependencies:[L,V,A]});let i=t;return i})();var G={production:!1,title:"OVERC360",apiURL:"https://overc360.com:9296/d-overc",OAUTH_CLIENT:"pixeltrice",OAUTH_SECRET:"pixeltrice-secret-key",name:"development"};var J=(()=>{let t=class t{constructor(e){this.auth=e}intercept(e,o){let n,v=G.apiURL,s=this.auth.getToken(e.url.split("/")[1]);return s?n=e.clone({url:`${v}${e.url}`,params:new m().set("authToken",s).set("loginUserID",this.auth.userID)}):n=e.clone({url:`${v}${e.url}`}),o.handle(n)}};t.\u0275fac=function(o){return new(o||t)(u(g))},t.\u0275prov=h({token:t,factory:t.\u0275fac});let i=t;return i})();var K=(()=>{let t=class t{constructor(e){this.auth=e,this.isRefreshing=!1,this.refreshTokenSubject=new x(null)}intercept(e,o){return o.handle(e).pipe(b(n=>n.status===401||n.status===400?e.url.includes("/doc-storage/multiUpload")?r(n):e.url.includes("/consignment/upload/v2")?r(n):e.url.includes("/pdf/extract")?r(n):e.url.includes("pdf/merge")?r(n):this.handle401Error(e,o,n):r(n)))}handle401Error(e,o,n){this.isRefreshing=!0,this.refreshTokenSubject.next(null);let v=this.auth.token,s="";return s=e.url.split("/")[4],this.auth.refreshToken(s).pipe(N(a=>(this.auth.saveToken(a.access_token,s),this.refreshTokenSubject.next(a.access_token),o.handle(this.addTokenHeader(e,a.access_token)))),b(a=>(a.statusc==401&&this.auth.logout(),r(a))))}addTokenHeader(e,o){return e.url.includes("wms-idmaster-service/login")||e.url.includes("wms-idmaster-service/docchecklist/findDocCheckList")?e.clone({params:new m().append("authToken",o)}):e.clone({params:new m().append("authToken",o).append("loginUserID",this.auth.userID)})}};t.\u0275fac=function(o){return new(o||t)(u(g))},t.\u0275prov=h({token:t,factory:t.\u0275fac});let i=t;return i})();var W=[{provide:C,useClass:J,multi:!0},{provide:C,useClass:K,multi:!0}];var tt=Z(_(),1);var X=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=c({type:t}),t.\u0275inj=l({});let i=t;return i})();var Y=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=c({type:t,bootstrap:[$]}),t.\u0275inj=l({providers:[B,E,j,{provide:F,useClass:M},W],imports:[O,Q,U,z,S,X,H.forRoot({type:"line-spin-clockwise-fade"})]});let i=t;return i})();D().bootstrapModule(Y).catch(i=>console.error(i));
