import{a as St,b as Di,c as Pi,d as Vi}from"./chunk-VYWKJKFA.js";import{a as ni}from"./chunk-SJOIZFOC.js";import{a as ze}from"./chunk-WSSFXFTH.js";import{a as Et}from"./chunk-JINQHUE7.js";import{a as _t,b as Bt}from"./chunk-J5Y7PI5O.js";import{a as pe}from"./chunk-M25YEJQX.js";import{a as He,b as We}from"./chunk-JKZWSLYV.js";import{a as Q}from"./chunk-VUSORBJH.js";import{$ as Ee,$a as K,A as ve,Aa as Ii,Ab as Be,B as c,Ba as ne,C as ye,Ca as S,Cb as $e,D as w,Da as A,Db as Ye,E as r,Ea as j,Eb as Je,F as i,G as h,Ga as Fe,H as Ce,Ha as Me,I as be,Ia as L,J as E,Ja as B,K as v,L as y,La as H,N as we,Na as re,O as xe,Oa as W,Ob as ei,P as Ie,Pa as q,Pb as ti,Q as V,Qa as X,Qb as se,R as p,Rb as ii,S as x,Sb as Mi,T,U as F,V as M,W as D,Wa as G,X as C,Z as Se,Za as U,_a as k,aa as Te,ea as te,fa as Ne,fb as ae,ga as z,gb as oe,hb as Zt,ia as Y,ib as De,jb as Pe,la as Fi,mb as Ve,n as Ke,na as Qe,nb as Re,o as Yt,ob as Oe,p as ee,pb as Ae,q as R,qb as Ge,r as Jt,rb as Ue,s as g,t as f,tb as qe,va as ie,x as l,xa as O,xb as je,y as u,ya as ke,yb as le,z as b,zb as Le}from"./chunk-OEJ43FKK.js";var ri=(()=>{let s=class s{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/hub/"+e+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId)}Create(e){return this.http.post("/overc-idmaster-service/hub",e)}Update(e){return this.http.patch("/overc-idmaster-service/hub/"+e.hubCode+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/hub/"+e+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId)}search(e){return this.http.post("/overc-idmaster-service/hub/find",e)}};s.\u0275fac=function(t){return new(t||s)(ee(Qe),ee(k))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var gt=()=>({width:"100%"});function Dn(n,s){n&1&&(r(0,"p",15),p(1,"1"),i())}function Pn(n,s){n&1&&h(0,"img",16)}function Vn(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11),b(2,Dn,2,0,"p",12)(3,Pn,1,0,"img",13),i(),r(4,"div")(5,"p",14),p(6,"General"),i()()()}if(n&2){let o=y();l(2),c("ngIf",o.active==0),l(),c("ngIf",o.active!=0)}}function Rn(n,s){if(n&1&&(r(0,"mat-error",41)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function On(n,s){if(n&1&&(r(0,"mat-error",41)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function An(n,s){if(n&1&&(r(0,"mat-error",41)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function jn(n,s){if(n&1&&(r(0,"mat-error",41)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Ln(n,s){if(n&1&&(r(0,"mat-error",41)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Bn(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Language"),i(),h(4,"p-dropdown",20),b(5,Rn,3,1,"mat-error",21),i(),r(6,"div",18)(7,"p",19),p(8,"Company"),i(),h(9,"p-dropdown",22),b(10,On,3,1,"mat-error",21),i(),r(11,"div",18)(12,"p",23),p(13,"Hub Code"),i(),h(14,"input",24),i(),r(15,"div",18)(16,"p",23),p(17,"Hub Name"),i(),h(18,"input",25),i(),r(19,"div",18)(20,"p",19),p(21,"Hub Category"),i(),h(22,"input",26),i(),r(23,"div",18)(24,"p",23),p(25,"Country"),i(),r(26,"p-dropdown",27),v("onChange",function(){g(o);let t=y();return f(t.countryChanged())}),i(),b(27,An,3,1,"mat-error",21),i(),r(28,"div",18)(29,"p",23),p(30,"Province"),i(),r(31,"p-dropdown",28),v("onChange",function(){g(o);let t=y();return f(t.provinceChanged())}),i(),b(32,jn,3,1,"mat-error",21),i(),r(33,"div",18)(34,"p",23),p(35,"City"),i(),r(36,"p-dropdown",29),v("onChange",function(){g(o);let t=y();return f(t.cityChanged())}),i(),b(37,Ln,3,1,"mat-error",21),i(),r(38,"div",18)(39,"p",19),p(40,"Longitude"),i(),h(41,"input",30),i(),r(42,"div",18)(43,"p",19),p(44,"Latitude"),i(),h(45,"input",31),i(),r(46,"div",18)(47,"p",19),p(48,"Address Line 1"),i(),h(49,"input",32),i(),r(50,"div",18)(51,"p",19),p(52,"Address Line 2"),i(),h(53,"input",33),i(),r(54,"div",18)(55,"p",19),p(56,"Address Line 3"),i(),h(57,"input",34),i(),r(58,"div",18)(59,"p",19),p(60,"Address Line 4"),i(),h(61,"input",35),i(),r(62,"div",18)(63,"p",19),p(64,"Status"),i(),h(65,"p-dropdown",36),i(),r(66,"div",18)(67,"p",19),p(68,"Remarks"),i(),h(69,"input",37),i()(),r(70,"div",38)(71,"button",39),p(72,"Cancel"),i(),r(73,"button",40),v("click",function(){g(o);let t=y();return f(t.save())}),p(74),i()()}if(n&2){let o,e,t,a,d,m=y();l(4),w(C(39,gt)),c("options",m.languageIdList)("disabled",!0)("panelStyle",C(40,gt)),l(),c("ngIf",m.errorHandling("languageId")),l(4),w(C(41,gt)),c("options",m.companyIdList)("disabled",!0)("panelStyle",C(42,gt)),l(),c("ngIf",m.errorHandling("companyId")),l(4),c("ngClass",(o=m.form.get("hubCode"))!=null&&o.invalid&&m.submitted?"ng-invalid ng-dirty":""),l(4),c("ngClass",(e=m.form.get("hubName"))!=null&&e.invalid&&m.submitted?"ng-invalid ng-dirty":""),l(8),w(C(43,gt)),c("options",m.countryIdList)("disabled",!0)("ngClass",(t=m.form.get("countryId"))!=null&&t.invalid&&m.submitted?"ng-invalid ng-dirty":"")("panelStyle",C(44,gt)),l(),c("ngIf",m.errorHandling("countryId")),l(4),w(C(45,gt)),c("options",m.provinceIdList)("ngClass",(a=m.form.get("provinceId"))!=null&&a.invalid&&m.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",C(46,gt)),l(),c("ngIf",m.errorHandling("provinceId")),l(4),w(C(47,gt)),c("options",m.cityIdList)("ngClass",(d=m.form.get("cityId"))!=null&&d.invalid&&m.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",C(48,gt)),l(),c("ngIf",m.errorHandling("cityId")),l(28),w(C(49,gt)),c("options",m.status),l(9),x(m.pageToken.pageflow!="New"?"Update":"Save")}}function Hn(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11)(2,"p",42),p(3," 2"),i()(),r(4,"div")(5,"p",43),p(6," Admin"),i()()()}if(n&2){let o=y(2);l(2),c("ngClass",o.active==2?"borderCircle":"disabled text-muted"),l(3),c("ngClass",o.active==2?"textBlack f600":"text-muted")}}function Wn(n,s){if(n&1){let o=E();r(0,"div",44)(1,"div",18)(2,"p",19),p(3,"Created By"),i(),h(4,"input",45),i(),r(5,"div",18)(6,"p",19),p(7,"Created On"),i(),h(8,"input",46),i(),r(9,"div",18)(10,"p",19),p(11,"Updated By"),i(),h(12,"input",47),i(),r(13,"div",18)(14,"p",19),p(15,"Updated On"),i(),h(16,"input",48),i()(),r(17,"div",38)(18,"button",49),v("click",function(){let t=g(o).prevCallback;return f(t.emit())}),p(19,"Back"),i(),r(20,"button",40),v("click",function(){g(o);let t=y(2);return f(t.save())}),p(21),i()()}if(n&2){let o=y(2);l(21),x(o.pageToken.pageflow!="New"?"Update":"Save")}}function qn(n,s){n&1&&(r(0,"p-stepperPanel"),b(1,Hn,7,2,"ng-template",7)(2,Wn,22,1,"ng-template",8),i())}var Oi=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$,Xe,Ct,bt,wt){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.countryService=P,this.provinceService=N,this.cityService=$,this.numberRangeService=Xe,this.messageService=Ct,this.cas=bt,this.auth=wt,this.active=0,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId],languageDescription:[],companyId:[this.auth.companyId],companyName:[],hubCode:[],hubName:[,S.required],hubCategory:[],countryId:[],countryName:[],provinceId:[],provinceName:[],cityId:[],cityName:[],addressLine1:[],addressLine2:[],addressLine3:[],addressLine4:[],latitude:[],longitude:[],statusId:["16"],statusDescription:[],remark:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[],this.countryIdList=[],this.provinceIdList=[],this.cityIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","Hub",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.hubCode.disable(),this.form.controls.countryId.disable(),this.form.controls.provinceId.disable(),this.form.controls.cityId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let a={};a.numberRangeObject=["HUB"],this.numberRangeService.search(a).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.hubCode.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.hubCode.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.country.url,this.cas.dropdownlist.setup.province.url,this.cas.dropdownlist.setup.city.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.countryIdList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.country.key),this.provinceIdList=this.cas.forLanguageFilter(e[3],this.cas.dropdownlist.setup.province.key),this.cityIdList=this.cas.forLanguageFilter(e[4],this.cas.dropdownlist.setup.city.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.hubCode+" has been updated successfully"}),this.router.navigate(["/main/master/hub"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.hubCode+" has been created successfully"}),this.router.navigate(["/main/master/hub"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}countryChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.countryId=[this.form.controls.countryId.value],this.countryIdList=[],this.spin.show(),this.countryService.search(e).subscribe({next:t=>{this.countryIdList=this.cas.foreachlist(t,{key:"countryId",value:"countryName"}),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}provinceChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.provinceId=[this.form.controls.provinceId.value],this.provinceIdList=[],this.spin.show(),this.provinceService.search(e).subscribe({next:t=>{this.provinceIdList=this.cas.foreachlist(t,{key:"provinceId",value:"provinceName"}),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}cityChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.cityId=[this.form.controls.cityId.value],this.countryIdList=[],this.spin.show(),this.cityService.search(e).subscribe({next:t=>{this.cityIdList=this.cas.foreachlist(t,{key:"cityId",value:"cityName"}),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(ri),u(Vi),u(Di),u(Pi),u(ze),u(q),u(pe),u(k))},s.\u0275cmp=R({type:s,selectors:[["app-hub-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","hubCode","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","formControlName","hubName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","hubCategory","pInputText","","placeholder","Enter",1,"w-100"],["placeholder","Select","filter","true","formControlName","countryId","appendTo","body",3,"onChange","options","disabled","ngClass","panelStyle"],["placeholder","Select","filter","true","formControlName","provinceId","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],["placeholder","Select","filter","true","formControlName","cityId","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","longitude","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","latitude","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","2000","pInputText","","formControlName","addressLine1","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","2000","pInputText","","formControlName","addressLine2","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","2000","pInputText","","formControlName","addressLine3","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","2000","pInputText","","formControlName","addressLine4","pInputText","","placeholder","Enter",1,"w-100"],["appendTo","body","formControlName","statusId","placeholder","Select","filter","true",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/hub",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3),i(),r(4,"div",1)(5,"button",3),p(6,"Transfer"),i()()(),r(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(m){return M(a.active,m)||(a.active=m),m}),r(10,"p-stepperPanel"),b(11,Vn,7,2,"ng-template",7)(12,Bn,75,50,"ng-template",8),i(),b(13,qn,3,0,"p-stepperPanel",9),i()()()()),t&2&&(l(3),T("Hub - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(),F("activeStep",a.active),l(4),c("ngIf",a.pageToken.pageflow!="New"))},dependencies:[te,z,ke,X,ae,K,Ue,Ge,L,ne,A,j,re,qe,Be,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var Gn=["hub"],Un=()=>({width:"80vw"}),Ht=()=>({width:"100%"}),Kn=()=>({width:"140rem"});function Qn(n,s){if(n&1&&(r(0,"th",37),p(1),h(2,"p-sortIcon",38),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function $n(n,s){if(n&1&&(r(0,"tr")(1,"th",34),h(2,"p-tableHeaderCheckbox",35),i(),b(3,Qn,3,3,"th",36),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function zn(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function Xn(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y().$implicit,e=y().$implicit;T(" ",Ee(1,1,e[o.field],"dd-MM-yyyy HH:mm")," ")}}function Yn(n,s){if(n&1&&(r(0,"td"),b(1,zn,2,1,"ng-container",42)(2,Xn,2,4,"ng-template",null,2,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function Jn(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",39)(2,"p-checkbox",40),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedHub,t)||(a.selectedHub=t),f(t)}),i()(),b(3,Yn,4,2,"td",41),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedHub[0]===o),l(2),F("ngModel",t.selectedHub),c("value",o),l(),c("ngForOf",e)}}function Zn(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",43),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}var Ai=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.fb=P,this.auth=N,this.spin=$,this.hubTable=[],this.selectedHub=[],this.cols=[],this.target=[],this.searchform=this.fb.group({hubCode:[],hubCategory:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={hubCode:"Hub",hubCategory:"Hub Category",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.hubCodeDropdown=[],this.hubCategoryDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Master","Hub"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"hubCode",header:"Hub Code"},{field:"hubName",header:"Hub Name"},{field:"hubCategory",header:"Hub Category"},{field:"countryName",header:"Country"},{field:"provinceName",header:"Province"},{field:"cityName",header:"City"},{field:"latitude",header:"Latitude"},{field:"longitude",header:"Longitude"},{field:"addressLine1",header:"Address Line 1"},{field:"addressLine2",header:"Address Line 2"},{field:"addressLine3",header:"Address Line 3"},{field:"addressLine4",header:"Address Line 4"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remarks"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"countryId",header:"Country ID"},{field:"provinceId",header:"Province ID"},{field:"cityId",header:"City ID"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.hubTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedHub[this.selectedHub.length-1];this.selectedHub.length=0,this.selectedHub.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedHub[0])})}openCrud(e="New",t=null){if(this.selectedHub.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedHub[0],pageflow:e});this.router.navigate(["/main/master/hub-new/"+a])}}deleteDialog(){if(this.selectedHub.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedHub,module:"Hub",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedHub[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e.hubCode).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.hubCode+" Deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.hubTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="date"?(console.log(3),a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"Hub")}getSearchDropdown(){this.hubTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.hubCode!=null&&(this.hubCodeDropdown.push({value:e.hubCode,label:e.hubName}),this.hubCodeDropdown=this.cs.removeDuplicatesFromArrayList(this.hubCodeDropdown,"value")),e.hubCategory!=null&&(this.hubCategoryDropdown.push({value:e.hubCategory,label:e.hubCategory}),this.hubCategoryDropdown=this.cs.removeDuplicatesFromArrayList(this.hubCategoryDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.hubTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({hubCode:[],hubCategory:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(ri),u(se),u(Y),u(W),u(k),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-hub"]],viewQuery:function(t,a){if(t&1&&we(Gn,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:47,vars:34,consts:[["hub",""],["hubTag",""],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","hubCode","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","hubCategory","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"]],template:function(t,a){if(t&1){let d=E();r(0,"div",3)(1,"div",4)(2,"p",5),p(3,"Hub "),i(),r(4,"div",4)(5,"img",6),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",7),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",8),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",9),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",10),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",11),p(11," Add New"),i()()(),r(12,"div",12)(13,"p-iconField",13)(14,"p-inputIcon",14),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",15),v("input",function(_){g(d);let I=V(43);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",16,0)(18,"form",17)(19,"div",18)(20,"div",19)(21,"p",20),p(22,"Hub"),i(),h(23,"p-multiSelect",21),i(),r(24,"div",19)(25,"p",20),p(26,"Hub Category"),i(),h(27,"p-multiSelect",22),i(),r(28,"div",19)(29,"p",20),p(30,"Status"),i(),h(31,"p-multiSelect",23),i()(),r(32,"div",24)(33,"div")(34,"img",25),v("click",function(){return g(d),f(a.reset())}),i()(),r(35,"div")(36,"button",26),v("click",function(){return g(d),f(a.closeOverLay())}),p(37,"Cancel"),i(),r(38,"button",27),v("click",function(){return g(d),f(a.search())}),p(39,"Apply"),i()()()()(),r(40,"p-chips",28),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(41,"div",29)(42,"p-table",30,1),b(44,$n,4,2,"ng-template",31)(45,Jn,4,5,"ng-template",32)(46,Zn,4,1,"ng-template",33),i()()()}t&2&&(l(16),w(C(26,Un)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(27,Ht)),c("options",a.hubCodeDropdown)("panelStyle",C(28,Ht)),l(4),w(C(29,Ht)),c("options",a.hubCategoryDropdown)("panelStyle",C(30,Ht)),l(4),w(C(31,Ht)),c("options",a.statusDropdown)("panelStyle",C(32,Ht)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.hubTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(33,Kn)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,B,H,Y],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=s;return n})();var ai=(()=>{let s=class s{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/countryMapping/"+e)}Create(e){return this.http.post("/overc-idmaster-service/countryMapping",e)}Update(e){return this.http.patch("/overc-idmaster-service/countryMapping/"+e.partnerId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId+"&countryId="+e.countryId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/countryMapping/"+e.partnerId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId+"&countryId="+e.countryId)}search(e){return this.http.post("/overc-idmaster-service/countryMapping/find",e)}};s.\u0275fac=function(t){return new(t||s)(ee(Qe),ee(k))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var Dt=()=>({width:"100%"});function er(n,s){n&1&&(r(0,"p",15),p(1,"1"),i())}function tr(n,s){n&1&&h(0,"img",16)}function ir(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11),b(2,er,2,0,"p",12)(3,tr,1,0,"img",13),i(),r(4,"div")(5,"p",14),p(6,"General"),i()()()}if(n&2){let o=y();l(2),c("ngIf",o.active==0),l(),c("ngIf",o.active!=0)}}function nr(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function rr(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function ar(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function or(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function lr(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function sr(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function pr(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function dr(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function cr(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Language"),i(),h(4,"p-dropdown",20),b(5,nr,3,1,"mat-error",21),i(),r(6,"div",18)(7,"p",19),p(8,"Company"),i(),h(9,"p-dropdown",22),b(10,rr,3,1,"mat-error",21),i(),r(11,"div",18)(12,"p",23),p(13,"Country"),i(),h(14,"p-dropdown",24),b(15,ar,3,1,"mat-error",21),i(),r(16,"div",18)(17,"p",23),p(18," Partner ID"),i(),h(19,"input",25),b(20,or,3,1,"mat-error",21),i(),r(21,"div",18)(22,"p",23),p(23,"Partner Name"),i(),h(24,"input",26),b(25,lr,3,1,"mat-error",21),i(),r(26,"div",18)(27,"p",23),p(28,"Partner Type"),i(),h(29,"input",27),b(30,sr,3,1,"mat-error",21),i(),r(31,"div",18)(32,"p",19),p(33," Partner Country ID"),i(),h(34,"input",28),b(35,pr,3,1,"mat-error",21),i(),r(36,"div",18)(37,"p",19),p(38," Partner Country"),i(),h(39,"input",29),b(40,dr,3,1,"mat-error",21),i(),r(41,"div",18)(42,"p",19),p(43,"Status"),i(),h(44,"p-dropdown",30),i(),r(45,"div",18)(46,"p",19),p(47,"Remark"),i(),h(48,"input",31),i()(),r(49,"div",32)(50,"button",33),p(51,"Cancel"),i(),r(52,"button",34),v("click",function(){g(o);let t=y();return f(t.save())}),p(53),i()()}if(n&2){let o,e,t,a,d,m=y();l(4),w(C(32,Dt)),c("options",m.languageIdList)("disabled",!0)("panelStyle",C(33,Dt)),l(),c("ngIf",m.errorHandling("languageId")),l(4),w(C(34,Dt)),c("options",m.companyIdList)("disabled",!0)("panelStyle",C(35,Dt)),l(),c("ngIf",m.errorHandling("companyId")),l(4),w(C(36,Dt)),c("options",m.countryIdList)("ngClass",(o=m.form.get("countryId"))!=null&&o.invalid&&m.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",C(37,Dt)),l(),c("ngIf",m.errorHandling("countryId")),l(4),c("ngClass",(e=m.form.get("partnerId"))!=null&&e.invalid&&m.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",m.errorHandling("partnerId")),l(4),c("ngClass",(t=m.form.get("partnerName"))!=null&&t.invalid&&m.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",m.errorHandling("partnerName")),l(4),c("ngClass",(a=m.form.get("partnerType"))!=null&&a.invalid&&m.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",m.errorHandling("partnerType")),l(4),c("ngClass",(d=m.form.get("partnerCountryId"))!=null&&d.invalid&&((d=m.form.get("partnerCountryId"))!=null&&d.dirty)?"invalid":""),l(),c("ngIf",m.errorHandling("partnerCountryId")),l(5),c("ngIf",m.errorHandling("partnerCountryName")),l(4),w(C(38,Dt)),c("options",m.status),l(9),x(m.pageToken.pageflow!="New"?"Update":"Save")}}function mr(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11)(2,"p",36),p(3," 2"),i()(),r(4,"div")(5,"p",37),p(6," Admin"),i()()()}if(n&2){let o=y(2);l(2),c("ngClass",o.active==2?"borderCircle":"disabled text-muted"),l(3),c("ngClass",o.active==2?"textBlack f600":"text-muted")}}function ur(n,s){if(n&1){let o=E();r(0,"div",38)(1,"div",18)(2,"p",19),p(3,"Created By"),i(),h(4,"input",39),i(),r(5,"div",18)(6,"p",19),p(7,"Created On"),i(),h(8,"input",40),i(),r(9,"div",18)(10,"p",19),p(11,"Updated By"),i(),h(12,"input",41),i(),r(13,"div",18)(14,"p",19),p(15,"Updated On"),i(),h(16,"input",42),i()(),r(17,"div",32)(18,"button",43),v("click",function(){let t=g(o).prevCallback;return f(t.emit())}),p(19,"Back"),i(),r(20,"button",34),v("click",function(){g(o);let t=y(2);return f(t.save())}),p(21),i()()}if(n&2){let o=y(2);l(21),x(o.pageToken.pageflow!="New"?"Update":"Save")}}function hr(n,s){n&1&&(r(0,"p-stepperPanel"),b(1,mr,7,2,"ng-template",7)(2,ur,22,1,"ng-template",8),i())}var Li=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.messageService=P,this.auth=N,this.cas=$,this.active=0,this.status=[],this.form=this.fb.group({partnerId:[,S.required],partnerType:[,S.required],partnerName:[,S.required],countryId:[,S.required],countryName:[],languageId:[this.auth.languageId,S.required],languageDescription:[],companyId:[this.auth.companyId,S.required],companyName:[],partnerCountryId:[],partnerCountryName:[],statusId:["16"],statusDescription:[],remark:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[],this.countryIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","Country Mapping",this.pageToken.pageflow];this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"&&(this.fill(this.pageToken.line),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.form.controls.countryId.disable(),this.form.controls.partnerId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable())}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.country.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.countryIdList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.country.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.partnerId+" has been updated successfully"}),this.router.navigate(["/main/master/countryMapping"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.partnerId+" has been created successfully"}),this.router.navigate(["/main/master/countryMapping"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(ai),u(q),u(k),u(pe))},s.\u0275cmp=R({type:s,selectors:[["app-country-mapping-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["placeholder","Select","filter","true","formControlName","countryId","appendTo","body","placeholder","Select","filter","true",3,"options","ngClass","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","partnerId","pInputText","","placeholder","Enter",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","partnerName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","partnerType","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","partnerCountryId","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","formControlName","partnerCountryName","pInputText","","placeholder","Enter",1,"w-100"],["appendTo","body","formControlName","statusId","placeholder","Select","filter","true",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/countryMapping",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3),i(),r(4,"div",1)(5,"button",3),p(6,"Transfer"),i()()(),r(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(m){return M(a.active,m)||(a.active=m),m}),r(10,"p-stepperPanel"),b(11,ir,7,2,"ng-template",7)(12,cr,54,39,"ng-template",8),i(),b(13,hr,3,0,"p-stepperPanel",9),i()()()()),t&2&&(l(3),T("Country Mapping - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(),F("activeStep",a.active),l(4),c("ngIf",a.pageToken.pageflow!="New"))},dependencies:[te,z,ke,X,ae,K,Ue,Ge,L,ne,A,j,re,qe,Be,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var gr=["countryMapping"],fr=()=>({width:"80vw"}),Tt=()=>({width:"100%"}),_r=()=>({width:"100rem"});function vr(n,s){if(n&1&&(r(0,"th",41),p(1),h(2,"p-sortIcon",42),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function yr(n,s){if(n&1&&(r(0,"tr")(1,"th",38),h(2,"p-tableHeaderCheckbox",39),i(),b(3,vr,3,3,"th",40),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function Cr(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function br(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y(2).$implicit;T(" ",Ee(1,1,o.createdOn,"dd-MM-yyyy HH:mm")," ")}}function wr(n,s){if(n&1&&(r(0,"td"),b(1,Cr,2,1,"ng-container",46)(2,br,2,4,"ng-template",null,3,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function xr(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",43)(2,"p-checkbox",44),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedCountryMapping,t)||(a.selectedCountryMapping=t),f(t)}),i()(),b(3,wr,4,2,"td",45),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedCountryMapping[0]===o),l(2),F("ngModel",t.selectedCountryMapping),c("value",o),l(),c("ngForOf",e)}}function Ir(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",47),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}function Sr(n,s){n&1&&(r(0,"button",48),p(1,"Edit"),i(),r(2,"button",48),p(3,"Confirm"),i())}var Bi=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.auth=P,this.fb=N,this.spin=$,this.countryMappingTable=[],this.selectedCountryMapping=[],this.cols=[],this.target=[],this.searchform=this.fb.group({partnerId:[],partnerType:[],countryId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={countryId:"Country",partnerId:"Partner",partnerType:"Partner Type",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.countryDropdown=[],this.partnerIdDropdown=[],this.partnerTypeDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Master","Country Mapping"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"partnerId",header:"Partner ID"},{field:"partnerType",header:"Partner Type"},{field:"partnerName",header:"Partner Name"},{field:"partnerCountryName",header:"Partner Country"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remark"},{field:"countryName",header:"Country"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"countryId",header:"Country ID"},{field:"partnerCountryId",header:"Partner Country ID"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.countryMappingTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedCountryMapping[this.selectedCountryMapping.length-1];this.selectedCountryMapping.length=0,this.selectedCountryMapping.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedCountryMapping[0])})}openCrud(e="New",t=null){if(this.selectedCountryMapping.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedCountryMapping[0],pageflow:e});this.router.navigate(["/main/master/countryMapping-new/"+a])}}deleteDialog(){if(this.selectedCountryMapping.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedCountryMapping,module:"Country Mapping",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedCountryMapping[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.partnerId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.countryMappingTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="date"?(console.log(3),a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"Country Mapping")}getSearchDropdown(){this.countryMappingTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.countryId!=null&&(this.countryDropdown.push({value:e.countryId,label:e.countryName}),this.countryDropdown=this.cs.removeDuplicatesFromArrayList(this.countryDropdown,"value")),e.partnerId!=null&&(this.partnerIdDropdown.push({value:e.partnerId,label:e.partnerName}),this.partnerIdDropdown=this.cs.removeDuplicatesFromArrayList(this.partnerIdDropdown,"value")),e.partnerType!=null&&(this.partnerTypeDropdown.push({value:e.partnerType,label:e.partnerType}),this.partnerTypeDropdown=this.cs.removeDuplicatesFromArrayList(this.partnerTypeDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.countryMappingTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({countryId:[],partnerId:[],partnerType:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(ai),u(se),u(Y),u(k),u(W),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-country-mapping"]],viewQuery:function(t,a){if(t&1&&we(gr,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:54,vars:40,consts:[["countryMapping",""],["CountryMappingTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","partnerId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","partnerType","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","countryId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,a){if(t&1){let d=E();r(0,"div",4)(1,"div",5)(2,"p",6),p(3,"Country Mapping "),i(),r(4,"div",5)(5,"img",7),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",8),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",9),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",10),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",11),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",12),p(11," Add New"),i()()(),r(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",16),v("input",function(_){g(d);let I=V(47);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),p(22,"Partner"),i(),h(23,"p-multiSelect",22),i(),r(24,"div",20)(25,"p",21),p(26,"Partner Type"),i(),h(27,"p-multiSelect",23),i(),r(28,"div",20)(29,"p",21),p(30,"Country"),i(),h(31,"p-multiSelect",24),i(),r(32,"div",20)(33,"p",21),p(34,"Status"),i(),h(35,"p-multiSelect",25),i()(),r(36,"div",26)(37,"div")(38,"img",27),v("click",function(){return g(d),f(a.reset())}),i()(),r(39,"div")(40,"button",28),v("click",function(){return g(d),f(a.closeOverLay())}),p(41,"Cancel"),i(),r(42,"button",29),v("click",function(){return g(d),f(a.search())}),p(43,"Apply"),i()()()()(),r(44,"p-chips",30),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(45,"div",31)(46,"p-table",32,1),b(48,yr,4,2,"ng-template",33)(49,xr,4,5,"ng-template",34)(50,Ir,4,1,"ng-template",35),i()()(),r(51,"mat-menu",36,2),b(53,Sr,4,0,"ng-template",37),i()}t&2&&(l(16),w(C(30,fr)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(31,Tt)),c("options",a.partnerIdDropdown)("panelStyle",C(32,Tt)),l(4),w(C(33,Tt)),c("options",a.partnerTypeDropdown)("panelStyle",C(34,Tt)),l(4),w(C(35,Tt)),c("options",a.countryDropdown)("panelStyle",C(36,Tt)),l(4),w(C(37,Tt)),c("options",a.statusDropdown)("panelStyle",C(38,Tt)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.countryMappingTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(39,_r)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,Je,$e,Ye,B,H,Y],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=s;return n})();var oi=(()=>{let s=class s{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/districtMapping/"+e)}Create(e){return this.http.post("/overc-idmaster-service/districtMapping",e)}Update(e){return this.http.patch("/overc-idmaster-service/districtMapping/"+e.partnerId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId+"&districtId="+e.districtId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/districtMapping/"+e.partnerId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId+"&districtId="+e.districtId)}search(e){return this.http.post("/overc-idmaster-service/districtMapping/find",e)}};s.\u0275fac=function(t){return new(t||s)(ee(Qe),ee(k))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var Pt=()=>({width:"100%"});function Er(n,s){n&1&&(r(0,"p",15),p(1,"1"),i())}function Tr(n,s){n&1&&h(0,"img",16)}function Nr(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11),b(2,Er,2,0,"p",12)(3,Tr,1,0,"img",13),i(),r(4,"div")(5,"p",14),p(6,"General"),i()()()}if(n&2){let o=y();l(2),c("ngIf",o.active==0),l(),c("ngIf",o.active!=0)}}function kr(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Fr(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Mr(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Dr(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Pr(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Vr(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Rr(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Or(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Ar(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Language"),i(),h(4,"p-dropdown",20),b(5,kr,3,1,"mat-error",21),i(),r(6,"div",18)(7,"p",19),p(8,"Company"),i(),h(9,"p-dropdown",22),b(10,Fr,3,1,"mat-error",21),i(),r(11,"div",18)(12,"p",23),p(13,"District"),i(),h(14,"p-dropdown",24),b(15,Mr,3,1,"mat-error",21),i(),r(16,"div",18)(17,"p",23),p(18,"Partner ID"),i(),h(19,"input",25),b(20,Dr,3,1,"mat-error",21),i(),r(21,"div",18)(22,"p",23),p(23,"Partner Name"),i(),h(24,"input",26),b(25,Pr,3,1,"mat-error",21),i(),r(26,"div",18)(27,"p",23),p(28,"Partner Type"),i(),h(29,"input",27),b(30,Vr,3,1,"mat-error",21),i(),r(31,"div",18)(32,"p",19),p(33,"Partner District ID"),i(),h(34,"input",28),b(35,Rr,3,1,"mat-error",21),i(),r(36,"div",18)(37,"p",19),p(38,"Partner District"),i(),h(39,"input",29),b(40,Or,3,1,"mat-error",21),i(),r(41,"div",18)(42,"p",19),p(43,"Status"),i(),h(44,"p-dropdown",30),i(),r(45,"div",18)(46,"p",19),p(47,"Remark"),i(),h(48,"input",31),i()(),r(49,"div",32)(50,"button",33),p(51,"Cancel"),i(),r(52,"button",34),v("click",function(){g(o);let t=y();return f(t.save())}),p(53),i()()}if(n&2){let o,e,t,a,d,m,_=y();l(4),w(C(33,Pt)),c("options",_.languageIdList)("disabled",!0)("panelStyle",C(34,Pt)),l(),c("ngIf",_.errorHandling("languageId")),l(4),w(C(35,Pt)),c("options",_.companyIdList)("disabled",!0)("panelStyle",C(36,Pt)),l(),c("ngIf",_.errorHandling("companyId")),l(4),w(C(37,Pt)),c("options",_.districtIdList)("disabled",!0)("panelStyle",C(38,Pt))("ngClass",(o=_.form.get("districtId"))!=null&&o.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("districtId")),l(4),c("ngClass",(e=_.form.get("partnerId"))!=null&&e.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("partnerId")),l(4),c("ngClass",(t=_.form.get("partnerName"))!=null&&t.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("partnerName")),l(4),c("ngClass",(a=_.form.get("partnerType"))!=null&&a.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("partnerType")),l(4),c("ngClass",(d=_.form.get("partnerDistrictId"))!=null&&d.invalid&&((d=_.form.get("partnerDistrictId"))!=null&&d.dirty)?"invalid":""),l(),c("ngIf",_.errorHandling("partnerDistrictId")),l(4),c("ngClass",(m=_.form.get("partnerDistrictName"))!=null&&m.invalid&&((m=_.form.get("partnerDistrictName"))!=null&&m.dirty)?"invalid":""),l(),c("ngIf",_.errorHandling("partnerDistrictName")),l(4),w(C(39,Pt)),c("options",_.status),l(9),x(_.pageToken.pageflow!="New"?"Update":"Save")}}function jr(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11)(2,"p",36),p(3," 2"),i()(),r(4,"div")(5,"p",37),p(6," Admin"),i()()()}if(n&2){let o=y(2);l(2),c("ngClass",o.active==2?"borderCircle":"disabled text-muted"),l(3),c("ngClass",o.active==2?"textBlack f600":"text-muted")}}function Lr(n,s){if(n&1){let o=E();r(0,"div",38)(1,"div",18)(2,"p",19),p(3,"Created By"),i(),h(4,"input",39),i(),r(5,"div",18)(6,"p",19),p(7,"Created On"),i(),h(8,"input",40),i(),r(9,"div",18)(10,"p",19),p(11,"Updated By"),i(),h(12,"input",41),i(),r(13,"div",18)(14,"p",19),p(15,"Updated On"),i(),h(16,"input",42),i()(),r(17,"div",32)(18,"button",43),v("click",function(){let t=g(o).prevCallback;return f(t.emit())}),p(19,"Back"),i(),r(20,"button",34),v("click",function(){g(o);let t=y(2);return f(t.save())}),p(21),i()()}if(n&2){let o=y(2);l(21),x(o.pageToken.pageflow!="New"?"Update":"Save")}}function Br(n,s){n&1&&(r(0,"p-stepperPanel"),b(1,jr,7,2,"ng-template",7)(2,Lr,22,1,"ng-template",8),i())}var Wi=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.messageService=P,this.cas=N,this.auth=$,this.active=0,this.status=[],this.form=this.fb.group({districtId:[,S.required],districtName:[],partnerDistrictId:[],partnerDistrictName:[],partnerId:[,S.required],languageId:[this.auth.languageId,S.required],languageDescription:[],companyId:[this.auth.companyId,S.required],companyName:[],partnerType:[,S.required],partnerName:[,S.required],statusId:["16"],statusDescription:[],remark:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[],this.districtIdList=[]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","District Mapping",this.pageToken.pageflow];this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"&&(this.fill(this.pageToken.line),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.form.controls.districtId.disable(),this.form.controls.partnerId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable())}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.district.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.districtIdList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.district.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.partnerId+"has been updated successfully"}),this.router.navigate(["/main/master/districtMapping"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.partnerId+"has been created successfully"}),this.router.navigate(["/main/master/districtMapping"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(oi),u(q),u(pe),u(k))},s.\u0275cmp=R({type:s,selectors:[["app-district-mapping-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["formControlName","districtId","appendTo","body","placeholder","Select","filter","true",3,"options","disabled","panelStyle","ngClass"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","partnerId","pInputText","","placeholder","Enter",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","partnerName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","partnerType","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","partnerDistrictId","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","formControlName","partnerDistrictName","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select","filter","true",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/districtMapping",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3),i(),r(4,"div",1)(5,"button",3),p(6,"Transfer"),i()()(),r(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(m){return M(a.active,m)||(a.active=m),m}),r(10,"p-stepperPanel"),b(11,Nr,7,2,"ng-template",7)(12,Ar,54,40,"ng-template",8),i(),b(13,Br,3,0,"p-stepperPanel",9),i()()()()),t&2&&(l(3),T("District Mapping - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(),F("activeStep",a.active),l(4),c("ngIf",a.pageToken.pageflow!="New"))},dependencies:[te,z,ke,X,ae,K,Ue,Ge,L,ne,A,j,re,qe,Be,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var Hr=["districtMapping"],Wr=()=>({width:"80vw"}),Nt=()=>({width:"100%"}),qr=()=>({width:"100rem"});function Gr(n,s){if(n&1&&(r(0,"th",41),p(1),h(2,"p-sortIcon",42),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function Ur(n,s){if(n&1&&(r(0,"tr")(1,"th",38),h(2,"p-tableHeaderCheckbox",39),i(),b(3,Gr,3,3,"th",40),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function Kr(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function Qr(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y(2).$implicit;T(" ",Ee(1,1,o.createdOn,"dd-MM-yyyy HH:mm")," ")}}function $r(n,s){if(n&1&&(r(0,"td"),b(1,Kr,2,1,"ng-container",46)(2,Qr,2,4,"ng-template",null,3,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function zr(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",43)(2,"p-checkbox",44),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedDistrictMapping,t)||(a.selectedDistrictMapping=t),f(t)}),i()(),b(3,$r,4,2,"td",45),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedDistrictMapping[0]===o),l(2),F("ngModel",t.selectedDistrictMapping),c("value",o),l(),c("ngForOf",e)}}function Xr(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",47),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}function Yr(n,s){n&1&&(r(0,"button",48),p(1,"Edit"),i(),r(2,"button",48),p(3,"Confirm"),i())}var qi=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.auth=P,this.fb=N,this.spin=$,this.districtMappingTable=[],this.selectedDistrictMapping=[],this.cols=[],this.target=[],this.searchform=this.fb.group({partnerId:[],partnerType:[],districtId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={districtId:"District",partnerId:"Partner",partnerType:"Partner Type",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.districtDropdown=[],this.partnerIdDropdown=[],this.partnerTypeDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Master","District Mapping"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"districtName",header:"District"},{field:"partnerId",header:"Partner ID"},{field:"partnerName",header:"Partner Name"},{field:"partnerType",header:"Partner Type"},{field:"partnerDistrictName",header:"Partner District"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remark"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageDescription",header:"Language"},{field:"partnerDistrictId",header:"Partner District ID"},{field:"districtId",header:"District ID"},{field:"languageId",header:"Language ID"},{field:"companyId",header:"Company ID"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.districtMappingTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedDistrictMapping[this.selectedDistrictMapping.length-1];this.selectedDistrictMapping.length=0,this.selectedDistrictMapping.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedDistrictMapping[0])})}openCrud(e="New",t=null){if(this.selectedDistrictMapping.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedDistrictMapping[0],pageflow:e});this.router.navigate(["/main/master/districtMapping-new/"+a])}}deleteDialog(){if(this.selectedDistrictMapping.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedDistrictMapping,module:"District Mapping",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedDistrictMapping[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:" District Mapping deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.districtMappingTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="date"?a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy"):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"District Mapping")}getSearchDropdown(){this.districtMappingTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.districtId!=null&&(this.districtDropdown.push({value:e.districtId,label:e.districtName}),this.districtDropdown=this.cs.removeDuplicatesFromArrayList(this.districtDropdown,"value")),e.partnerId!=null&&(this.partnerIdDropdown.push({value:e.partnerId,label:e.partnerName}),this.partnerIdDropdown=this.cs.removeDuplicatesFromArrayList(this.partnerIdDropdown,"value")),e.partnerType!=null&&(this.partnerTypeDropdown.push({value:e.partnerType,label:e.partnerType}),this.partnerTypeDropdown=this.cs.removeDuplicatesFromArrayList(this.partnerTypeDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.districtMappingTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({districtId:[],partnerId:[],partnerType:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(oi),u(se),u(Y),u(k),u(W),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-district-mapping"]],viewQuery:function(t,a){if(t&1&&we(Hr,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:54,vars:40,consts:[["districtMapping",""],["districtMappingTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","partnerId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","partnerType","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","districtId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,a){if(t&1){let d=E();r(0,"div",4)(1,"div",5)(2,"p",6),p(3,"District Mapping "),i(),r(4,"div",5)(5,"img",7),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",8),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",9),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",10),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",11),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",12),p(11," Add New"),i()()(),r(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",16),v("input",function(_){g(d);let I=V(47);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),p(22,"Partner"),i(),h(23,"p-multiSelect",22),i(),r(24,"div",20)(25,"p",21),p(26,"Partner Type"),i(),h(27,"p-multiSelect",23),i(),r(28,"div",20)(29,"p",21),p(30,"District"),i(),h(31,"p-multiSelect",24),i(),r(32,"div",20)(33,"p",21),p(34,"Status"),i(),h(35,"p-multiSelect",25),i()(),r(36,"div",26)(37,"div")(38,"img",27),v("click",function(){return g(d),f(a.reset())}),i()(),r(39,"div")(40,"button",28),v("click",function(){return g(d),f(a.closeOverLay())}),p(41,"Cancel"),i(),r(42,"button",29),v("click",function(){return g(d),f(a.search())}),p(43,"Apply"),i()()()()(),r(44,"p-chips",30),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(45,"div",31)(46,"p-table",32,1),b(48,Ur,4,2,"ng-template",33)(49,zr,4,5,"ng-template",34)(50,Xr,4,1,"ng-template",35),i()()(),r(51,"mat-menu",36,2),b(53,Yr,4,0,"ng-template",37),i()}t&2&&(l(16),w(C(30,Wr)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(31,Nt)),c("options",a.partnerIdDropdown)("panelStyle",C(32,Nt)),l(4),w(C(33,Nt)),c("options",a.partnerTypeDropdown)("panelStyle",C(34,Nt)),l(4),w(C(35,Nt)),c("options",a.districtDropdown)("panelStyle",C(36,Nt)),l(4),w(C(37,Nt)),c("options",a.statusDropdown)("panelStyle",C(38,Nt)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.districtMappingTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(39,qr)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,Je,$e,Ye,B,H,Y],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=s;return n})();var li=(()=>{let s=class s{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/provinceMapping/"+e)}Create(e){return this.http.post("/overc-idmaster-service/provinceMapping",e)}Update(e){return this.http.patch("/overc-idmaster-service/provinceMapping/"+e.partnerId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId+"&provinceId="+e.provinceId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/provinceMapping/"+e.partnerId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId+"&provinceId="+e.provinceId)}search(e){return this.http.post("/overc-idmaster-service/provinceMapping/find",e)}};s.\u0275fac=function(t){return new(t||s)(ee(Qe),ee(k))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var Vt=()=>({width:"100%"});function Jr(n,s){n&1&&(r(0,"p",15),p(1,"1"),i())}function Zr(n,s){n&1&&h(0,"img",16)}function ea(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11),b(2,Jr,2,0,"p",12)(3,Zr,1,0,"img",13),i(),r(4,"div")(5,"p",14),p(6,"General"),i()()()}if(n&2){let o=y();l(2),c("ngIf",o.active==0),l(),c("ngIf",o.active!=0)}}function ta(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function ia(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function na(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function ra(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function aa(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function oa(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function la(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function sa(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function pa(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Language"),i(),h(4,"p-dropdown",20),b(5,ta,3,1,"mat-error",21),i(),r(6,"div",18)(7,"p",19),p(8,"Company"),i(),h(9,"p-dropdown",22),b(10,ia,3,1,"mat-error",21),i(),r(11,"div",18)(12,"p",23),p(13,"Province"),i(),h(14,"p-dropdown",24),b(15,na,3,1,"mat-error",21),i(),r(16,"div",18)(17,"p",23),p(18,"Partner ID"),i(),h(19,"input",25),b(20,ra,3,1,"mat-error",21),i(),r(21,"div",18)(22,"p",23),p(23,"Partner Name"),i(),h(24,"input",26),b(25,aa,3,1,"mat-error",21),i(),r(26,"div",18)(27,"p",23),p(28,"Partner Type"),i(),h(29,"input",27),b(30,oa,3,1,"mat-error",21),i(),r(31,"div",18)(32,"p",19),p(33,"Partner Province ID"),i(),h(34,"input",28),b(35,la,3,1,"mat-error",21),i(),r(36,"div",18)(37,"p",19),p(38,"Partner Province"),i(),h(39,"input",29),b(40,sa,3,1,"mat-error",21),i(),r(41,"div",18)(42,"p",19),p(43,"Status"),i(),h(44,"p-dropdown",30),i(),r(45,"div",18)(46,"p",19),p(47,"Remark"),i(),h(48,"input",31),i()(),r(49,"div",32)(50,"button",33),p(51,"Cancel"),i(),r(52,"button",34),v("click",function(){g(o);let t=y();return f(t.save())}),p(53),i()()}if(n&2){let o,e,t,a,d,m,_=y();l(4),w(C(33,Vt)),c("options",_.languageIdList)("disabled",!0)("panelStyle",C(34,Vt)),l(),c("ngIf",_.errorHandling("languageId")),l(4),w(C(35,Vt)),c("options",_.companyIdList)("disabled",!0)("panelStyle",C(36,Vt)),l(),c("ngIf",_.errorHandling("companyId")),l(4),w(C(37,Vt)),c("options",_.provinceIdList)("ngClass",(o=_.form.get("provinceId"))!=null&&o.invalid&&_.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",C(38,Vt)),l(),c("ngIf",_.errorHandling("provinceId")),l(4),c("ngClass",(e=_.form.get("partnerId"))!=null&&e.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("partnerId")),l(4),c("ngClass",(t=_.form.get("partnerName"))!=null&&t.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("partnerName")),l(4),c("ngClass",(a=_.form.get("partnerType"))!=null&&a.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("partnerType")),l(4),c("ngClass",(d=_.form.get("partnerProvinceId"))!=null&&d.invalid&&((d=_.form.get("partnerProvinceId"))!=null&&d.dirty)?"invalid":""),l(),c("ngIf",_.errorHandling("partnerProvinceId")),l(4),c("ngClass",(m=_.form.get("partnerProvinceName"))!=null&&m.invalid&&((m=_.form.get("partnerProvinceName"))!=null&&m.dirty)?"invalid":""),l(),c("ngIf",_.errorHandling("partnerProvinceName")),l(4),w(C(39,Vt)),c("options",_.status),l(9),x(_.pageToken.pageflow!="New"?"Update":"Save")}}function da(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11)(2,"p",36),p(3," 2"),i()(),r(4,"div")(5,"p",37),p(6," Admin"),i()()()}if(n&2){let o=y(2);l(2),c("ngClass",o.active==2?"borderCircle":"disabled text-muted"),l(3),c("ngClass",o.active==2?"textBlack f600":"text-muted")}}function ca(n,s){if(n&1){let o=E();r(0,"div",38)(1,"div",18)(2,"p",19),p(3,"Created By"),i(),h(4,"input",39),i(),r(5,"div",18)(6,"p",19),p(7,"Created On"),i(),h(8,"input",40),i(),r(9,"div",18)(10,"p",19),p(11,"Updated By"),i(),h(12,"input",41),i(),r(13,"div",18)(14,"p",19),p(15,"Updated On"),i(),h(16,"input",42),i()(),r(17,"div",32)(18,"button",43),v("click",function(){let t=g(o).prevCallback;return f(t.emit())}),p(19,"Back"),i(),r(20,"button",34),v("click",function(){g(o);let t=y(2);return f(t.save())}),p(21),i()()}if(n&2){let o=y(2);l(21),x(o.pageToken.pageflow!="New"?"Update":"Save")}}function ma(n,s){n&1&&(r(0,"p-stepperPanel"),b(1,da,7,2,"ng-template",7)(2,ca,22,1,"ng-template",8),i())}var Ui=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.messageService=P,this.cas=N,this.auth=$,this.active=0,this.status=[],this.form=this.fb.group({provinceId:[,S.required],provinceName:[],partnerProvinceId:[],partnerProvinceName:[],partnerId:[,S.required],languageId:[this.auth.languageId,S.required],languageDescription:[],companyId:[this.auth.companyId,S.required],companyName:[],partnerType:[,S.required],partnerName:[,S.required],statusId:["16"],statusDescription:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],remark:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[],this.provinceIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","Province Mapping",this.pageToken.pageflow];this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"&&(this.fill(this.pageToken.line),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.form.controls.provinceId.disable(),this.form.controls.partnerId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable())}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.province.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.provinceIdList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.province.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.partnerId+"has been updated successfully"}),this.router.navigate(["/main/master/provinceMapping"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.partnerId+"has been created successfully"}),this.router.navigate(["/main/master/provinceMapping"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(li),u(q),u(pe),u(k))},s.\u0275cmp=R({type:s,selectors:[["app-province-mapping-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["formControlName","provinceId","appendTo","body","placeholder","Select","filter","true",3,"options","ngClass","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","partnerId","pInputText","","placeholder","Enter",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","partnerName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","partnerType","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","partnerProvinceId","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","formControlName","partnerProvinceName","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select","filter","true",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/provinceMapping",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3),i(),r(4,"div",1)(5,"button",3),p(6,"Transfer"),i()()(),r(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(m){return M(a.active,m)||(a.active=m),m}),r(10,"p-stepperPanel"),b(11,ea,7,2,"ng-template",7)(12,pa,54,40,"ng-template",8),i(),b(13,ma,3,0,"p-stepperPanel",9),i()()()()),t&2&&(l(3),T("Province Mapping - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(),F("activeStep",a.active),l(4),c("ngIf",a.pageToken.pageflow!="New"))},dependencies:[te,z,ke,X,ae,K,Ue,Ge,L,ne,A,j,re,qe,Be,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var ua=["provinceMapping"],ha=()=>({width:"80vw"}),kt=()=>({width:"100%"}),ga=()=>({width:"100rem"});function fa(n,s){if(n&1&&(r(0,"th",41),p(1),h(2,"p-sortIcon",42),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function _a(n,s){if(n&1&&(r(0,"tr")(1,"th",38),h(2,"p-tableHeaderCheckbox",39),i(),b(3,fa,3,3,"th",40),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function va(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function ya(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y(2).$implicit;T(" ",Ee(1,1,o.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Ca(n,s){if(n&1&&(r(0,"td"),b(1,va,2,1,"ng-container",46)(2,ya,2,4,"ng-template",null,3,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function ba(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",43)(2,"p-checkbox",44),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedProvinceMapping,t)||(a.selectedProvinceMapping=t),f(t)}),i()(),b(3,Ca,4,2,"td",45),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedProvinceMapping[0]===o),l(2),F("ngModel",t.selectedProvinceMapping),c("value",o),l(),c("ngForOf",e)}}function wa(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",47),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}function xa(n,s){n&1&&(r(0,"button",48),p(1,"Edit"),i(),r(2,"button",48),p(3,"Confirm"),i())}var Ki=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.auth=P,this.fb=N,this.spin=$,this.provinceMappingTable=[],this.selectedProvinceMapping=[],this.cols=[],this.target=[],this.searchform=this.fb.group({partnerId:[],partnerType:[],provinceId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={provinceId:"Province",partnerId:"Partner",partnerType:"Partner Type",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.provinceDropdown=[],this.partnerIdDropdown=[],this.partnerTypeDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Master","Province Mapping"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"provinceName",header:"Province"},{field:"partnerId",header:"Partner ID"},{field:"partnerName",header:"Partner Name"},{field:"partnerType",header:"Partner Type"},{field:"partnerProvinceName",header:"Partner Province"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remark"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageDescription",header:"Language"},{field:"partnerProvinceId",header:"Partner Province ID"},{field:"provinceId",header:"Province ID"},{field:"languageId",header:"Language ID"},{field:"companyId",header:"Company ID"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.provinceMappingTable=t,this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedProvinceMapping[this.selectedProvinceMapping.length-1];this.selectedProvinceMapping.length=0,this.selectedProvinceMapping.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedProvinceMapping[0])})}openCrud(e="New",t=null){if(this.selectedProvinceMapping.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedProvinceMapping[0],pageflow:e});this.router.navigate(["/main/master/provinceMapping-new/"+a])}}deleteDialog(){if(this.selectedProvinceMapping.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedProvinceMapping,module:"Province Mapping",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedProvinceMapping[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:" Province Mapping deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.provinceMappingTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="date"?a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy"):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"Province Mapping")}getSearchDropdown(){this.provinceMappingTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.provinceId!=null&&(this.provinceDropdown.push({value:e.provinceId,label:e.provinceName}),this.provinceDropdown=this.cs.removeDuplicatesFromArrayList(this.provinceDropdown,"value")),e.partnerId!=null&&(this.partnerIdDropdown.push({value:e.partnerId,label:e.partnerName}),this.partnerIdDropdown=this.cs.removeDuplicatesFromArrayList(this.partnerIdDropdown,"value")),e.partnerType!=null&&(this.partnerTypeDropdown.push({value:e.partnerType,label:e.partnerType}),this.partnerTypeDropdown=this.cs.removeDuplicatesFromArrayList(this.partnerTypeDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.provinceMappingTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({partnerId:[],partnerType:[],provinceId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(li),u(se),u(Y),u(k),u(W),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-province-mapping"]],viewQuery:function(t,a){if(t&1&&we(ua,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:54,vars:40,consts:[["provinceMapping",""],["provinceMappingTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","partnerId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","partnerType","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","provinceId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,a){if(t&1){let d=E();r(0,"div",4)(1,"div",5)(2,"p",6),p(3,"Province Mapping "),i(),r(4,"div",5)(5,"img",7),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",8),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",9),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",10),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",11),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",12),p(11," Add New"),i()()(),r(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",16),v("input",function(_){g(d);let I=V(47);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),p(22,"Partner"),i(),h(23,"p-multiSelect",22),i(),r(24,"div",20)(25,"p",21),p(26,"Partner Type"),i(),h(27,"p-multiSelect",23),i(),r(28,"div",20)(29,"p",21),p(30,"Province"),i(),h(31,"p-multiSelect",24),i(),r(32,"div",20)(33,"p",21),p(34,"Status"),i(),h(35,"p-multiSelect",25),i()(),r(36,"div",26)(37,"div")(38,"img",27),v("click",function(){return g(d),f(a.reset())}),i()(),r(39,"div")(40,"button",28),v("click",function(){return g(d),f(a.closeOverLay())}),p(41,"Cancel"),i(),r(42,"button",29),v("click",function(){return g(d),f(a.search())}),p(43,"Apply"),i()()()()(),r(44,"p-chips",30),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(45,"div",31)(46,"p-table",32,1),b(48,_a,4,2,"ng-template",33)(49,ba,4,5,"ng-template",34)(50,wa,4,1,"ng-template",35),i()()(),r(51,"mat-menu",36,2),b(53,xa,4,0,"ng-template",37),i()}t&2&&(l(16),w(C(30,ha)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(31,kt)),c("options",a.partnerIdDropdown)("panelStyle",C(32,kt)),l(4),w(C(33,kt)),c("options",a.partnerTypeDropdown)("panelStyle",C(34,kt)),l(4),w(C(35,kt)),c("options",a.provinceDropdown)("panelStyle",C(36,kt)),l(4),w(C(37,kt)),c("options",a.statusDropdown)("panelStyle",C(38,kt)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.provinceMappingTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(39,ga)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,Je,$e,Ye,B,H,Y],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=s;return n})();var si=(()=>{let s=class s{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/cityMapping/"+e)}Create(e){return this.http.post("/overc-idmaster-service/cityMapping",e)}Update(e){return this.http.patch("/overc-idmaster-service/cityMapping/"+e.partnerId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId+"&cityId="+e.cityId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/cityMapping/"+e.partnerId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId+"&cityId="+e.cityId)}search(e){return this.http.post("/overc-idmaster-service/cityMapping/find",e)}};s.\u0275fac=function(t){return new(t||s)(ee(Qe),ee(k))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var Rt=()=>({width:"100%"});function Ia(n,s){n&1&&(r(0,"p",15),p(1,"1"),i())}function Sa(n,s){n&1&&h(0,"img",16)}function Ea(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11),b(2,Ia,2,0,"p",12)(3,Sa,1,0,"img",13),i(),r(4,"div")(5,"p",14),p(6,"General"),i()()()}if(n&2){let o=y();l(2),c("ngIf",o.active==0),l(),c("ngIf",o.active!=0)}}function Ta(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Na(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function ka(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Fa(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Ma(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Da(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Pa(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Va(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Ra(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Language"),i(),h(4,"p-dropdown",20),b(5,Ta,3,1,"mat-error",21),i(),r(6,"div",18)(7,"p",19),p(8,"Company"),i(),h(9,"p-dropdown",22),b(10,Na,3,1,"mat-error",21),i(),r(11,"div",18)(12,"p",23),p(13,"City"),i(),h(14,"p-dropdown",24),b(15,ka,3,1,"mat-error",21),i(),r(16,"div",18)(17,"p",23),p(18," Partner ID"),i(),h(19,"input",25),b(20,Fa,3,1,"mat-error",21),i(),r(21,"div",18)(22,"p",23),p(23,"Partner Name"),i(),h(24,"input",26),b(25,Ma,3,1,"mat-error",21),i(),r(26,"div",18)(27,"p",23),p(28,"Partner Type"),i(),h(29,"input",27),b(30,Da,3,1,"mat-error",21),i(),r(31,"div",18)(32,"p",19),p(33," Partner City ID"),i(),h(34,"input",28),b(35,Pa,3,1,"mat-error",21),i(),r(36,"div",18)(37,"p",19),p(38,"Partner City"),i(),h(39,"input",29),b(40,Va,3,1,"mat-error",21),i(),r(41,"div",18)(42,"p",19),p(43,"Status"),i(),h(44,"p-dropdown",30),i(),r(45,"div",18)(46,"p",19),p(47,"Remark"),i(),h(48,"input",31),i()(),r(49,"div",32)(50,"button",33),p(51,"Cancel"),i(),r(52,"button",34),v("click",function(){g(o);let t=y();return f(t.save())}),p(53),i()()}if(n&2){let o,e,t,a,d=y();l(4),w(C(31,Rt)),c("options",d.languageIdList)("disabled",!0)("panelStyle",C(32,Rt)),l(),c("ngIf",d.errorHandling("languageId")),l(4),w(C(33,Rt)),c("options",d.companyIdList)("disabled",!0)("panelStyle",C(34,Rt)),l(),c("ngIf",d.errorHandling("companyId")),l(4),w(C(35,Rt)),c("options",d.cityIdList)("disabled",!0)("panelStyle",C(36,Rt))("ngClass",(o=d.form.get("cityId"))!=null&&o.invalid&&d.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",d.errorHandling("cityId")),l(4),c("ngClass",(e=d.form.get("partnerId"))!=null&&e.invalid&&d.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",d.errorHandling("partnerId")),l(4),c("ngClass",(t=d.form.get("partnerName"))!=null&&t.invalid&&d.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",d.errorHandling("partnerName")),l(4),c("ngClass",(a=d.form.get("partnerType"))!=null&&a.invalid&&d.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",d.errorHandling("partnerType")),l(5),c("ngIf",d.errorHandling("partnerCityId")),l(5),c("ngIf",d.errorHandling("partnerCityName")),l(4),w(C(37,Rt)),c("options",d.status),l(9),x(d.pageToken.pageflow!="New"?"Update":"Save")}}function Oa(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11)(2,"p",36),p(3," 2"),i()(),r(4,"div")(5,"p",37),p(6," Admin"),i()()()}if(n&2){let o=y(2);l(2),c("ngClass",o.active==2?"borderCircle":"disabled text-muted"),l(3),c("ngClass",o.active==2?"textBlack f600":"text-muted")}}function Aa(n,s){if(n&1){let o=E();r(0,"div",38)(1,"div",18)(2,"p",19),p(3,"Created By"),i(),h(4,"input",39),i(),r(5,"div",18)(6,"p",19),p(7,"Created On"),i(),h(8,"input",40),i(),r(9,"div",18)(10,"p",19),p(11,"Updated By"),i(),h(12,"input",41),i(),r(13,"div",18)(14,"p",19),p(15,"Updated On"),i(),h(16,"input",42),i()(),r(17,"div",32)(18,"button",43),v("click",function(){let t=g(o).prevCallback;return f(t.emit())}),p(19,"Back"),i(),r(20,"button",34),v("click",function(){g(o);let t=y(2);return f(t.save())}),p(21),i()()}if(n&2){let o=y(2);l(21),x(o.pageToken.pageflow!="New"?"Update":"Save")}}function ja(n,s){n&1&&(r(0,"p-stepperPanel"),b(1,Oa,7,2,"ng-template",7)(2,Aa,22,1,"ng-template",8),i())}var $i=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.messageService=P,this.auth=N,this.cas=$,this.active=0,this.status=[],this.form=this.fb.group({partnerId:[,S.required],partnerType:[,S.required],partnerName:[,S.required],cityId:[,S.required],cityName:[],languageId:[this.auth.languageId,S.required],languageDescription:[],companyId:[this.auth.companyId,S.required],companyName:[],partnerCityId:[],partnerCityName:[],statusId:["16"],statusDescription:[],remark:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[],this.cityIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","City Mapping",this.pageToken.pageflow];this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"&&(this.fill(this.pageToken.line),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.form.controls.cityId.disable(),this.form.controls.partnerId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable())}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.city.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.cityIdList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.city.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.partnerId+" has been updated successfully"}),this.router.navigate(["/main/master/cityMapping"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.partnerId+" has been created successfully"}),this.router.navigate(["/main/master/cityMapping"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(si),u(q),u(k),u(pe))},s.\u0275cmp=R({type:s,selectors:[["app-city-mapping-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["placeholder","Select","filter","true","formControlName","cityId","appendTo","body","placeholder","Select","filter","true",3,"options","disabled","panelStyle","ngClass"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","partnerId","pInputText","","placeholder","Enter",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","partnerName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","partnerType","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","partnerCityId","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","partnerCityName","pInputText","","placeholder","Enter",1,"w-100"],["appendTo","body","formControlName","statusId","placeholder","Select","filter","true",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/cityMapping",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3),i(),r(4,"div",1)(5,"button",3),p(6,"Transfer"),i()()(),r(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(m){return M(a.active,m)||(a.active=m),m}),r(10,"p-stepperPanel"),b(11,Ea,7,2,"ng-template",7)(12,Ra,54,38,"ng-template",8),i(),b(13,ja,3,0,"p-stepperPanel",9),i()()()()),t&2&&(l(3),T("City Mapping - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(),F("activeStep",a.active),l(4),c("ngIf",a.pageToken.pageflow!="New"))},dependencies:[te,z,ke,X,ae,K,Ue,Ge,L,ne,A,j,re,qe,Be,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var La=["cityMapping"],Ba=()=>({width:"80vw"}),Ft=()=>({width:"100%"}),Ha=()=>({width:"100rem"});function Wa(n,s){if(n&1&&(r(0,"th",41),p(1),h(2,"p-sortIcon",42),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function qa(n,s){if(n&1&&(r(0,"tr")(1,"th",38),h(2,"p-tableHeaderCheckbox",39),i(),b(3,Wa,3,3,"th",40),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function Ga(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function Ua(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y(2).$implicit;T(" ",Ee(1,1,o.createdOn,"dd-MM-yyyy")," ")}}function Ka(n,s){if(n&1&&(r(0,"td"),b(1,Ga,2,1,"ng-container",46)(2,Ua,2,4,"ng-template",null,3,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function Qa(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",43)(2,"p-checkbox",44),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedCityMapping,t)||(a.selectedCityMapping=t),f(t)}),i()(),b(3,Ka,4,2,"td",45),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedCityMapping[0]===o),l(2),F("ngModel",t.selectedCityMapping),c("value",o),l(),c("ngForOf",e)}}function $a(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",47),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}function za(n,s){n&1&&(r(0,"button",48),p(1,"Edit"),i(),r(2,"button",48),p(3,"Confirm"),i())}var zi=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.auth=P,this.fb=N,this.spin=$,this.cityMappingTable=[],this.selectedCityMapping=[],this.cols=[],this.target=[],this.searchform=this.fb.group({partnerId:[],partnerType:[],cityId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={cityId:"City",partnerId:"Partner",partnerType:"Partner Type",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.cityDropdown=[],this.partnerIdDropdown=[],this.partnerTypeDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Master","City Mapping"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"cityName",header:"City"},{field:"partnerId",header:"Partner ID"},{field:"partnerType",header:"Partner Type"},{field:"partnerName",header:"Partner Name"},{field:"partnerCityName",header:"Partner City"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remark"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"cityId",header:"City ID"},{field:"partnerCityId",header:"Partner City ID"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.cityMappingTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedCityMapping[this.selectedCityMapping.length-1];this.selectedCityMapping.length=0,this.selectedCityMapping.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedCityMapping[0])})}openCrud(e="New",t=null){if(this.selectedCityMapping.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedCityMapping[0],pageflow:e});this.router.navigate(["/main/master/cityMapping-new/"+a])}}deleteDialog(){if(this.selectedCityMapping.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedCityMapping,module:"City Mapping",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedCityMapping[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.partnerId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.cityMappingTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="date"?(console.log(3),a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"City Mapping")}getSearchDropdown(){this.cityMappingTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.cityId!=null&&(this.cityDropdown.push({value:e.cityId,label:e.cityName}),this.cityDropdown=this.cs.removeDuplicatesFromArrayList(this.cityDropdown,"value")),e.partnerId!=null&&(this.partnerIdDropdown.push({value:e.partnerId,label:e.partnerName}),this.partnerIdDropdown=this.cs.removeDuplicatesFromArrayList(this.partnerIdDropdown,"value")),e.partnerType!=null&&(this.partnerTypeDropdown.push({value:e.partnerType,label:e.partnerType}),this.partnerTypeDropdown=this.cs.removeDuplicatesFromArrayList(this.partnerTypeDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.cityMappingTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({cityId:[],partnerId:[],partnerType:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(si),u(se),u(Y),u(k),u(W),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-city-mapping"]],viewQuery:function(t,a){if(t&1&&we(La,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:54,vars:40,consts:[["cityMapping",""],["CityMappingTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","partnerId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","partnerType","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","cityId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,a){if(t&1){let d=E();r(0,"div",4)(1,"div",5)(2,"p",6),p(3,"City Mapping "),i(),r(4,"div",5)(5,"img",7),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",8),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",9),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",10),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",11),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",12),p(11," Add New"),i()()(),r(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",16),v("input",function(_){g(d);let I=V(47);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),p(22,"Partner"),i(),h(23,"p-multiSelect",22),i(),r(24,"div",20)(25,"p",21),p(26,"Partner Type"),i(),h(27,"p-multiSelect",23),i(),r(28,"div",20)(29,"p",21),p(30,"City"),i(),h(31,"p-multiSelect",24),i(),r(32,"div",20)(33,"p",21),p(34,"Status"),i(),h(35,"p-multiSelect",25),i()(),r(36,"div",26)(37,"div")(38,"img",27),v("click",function(){return g(d),f(a.reset())}),i()(),r(39,"div")(40,"button",28),v("click",function(){return g(d),f(a.closeOverLay())}),p(41,"Cancel"),i(),r(42,"button",29),v("click",function(){return g(d),f(a.search())}),p(43,"Apply"),i()()()()(),r(44,"p-chips",30),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(45,"div",31)(46,"p-table",32,1),b(48,qa,4,2,"ng-template",33)(49,Qa,4,5,"ng-template",34)(50,$a,4,1,"ng-template",35),i()()(),r(51,"mat-menu",36,2),b(53,za,4,0,"ng-template",37),i()}t&2&&(l(16),w(C(30,Ba)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(31,Ft)),c("options",a.partnerIdDropdown)("panelStyle",C(32,Ft)),l(4),w(C(33,Ft)),c("options",a.partnerTypeDropdown)("panelStyle",C(34,Ft)),l(4),w(C(35,Ft)),c("options",a.cityDropdown)("panelStyle",C(36,Ft)),l(4),w(C(37,Ft)),c("options",a.statusDropdown)("panelStyle",C(38,Ft)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.cityMappingTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(39,Ha)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,Je,$e,Ye,B,H,Y],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=s;return n})();var pi=(()=>{let s=class s{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/partnerHubMapping/"+e)}Create(e){return this.http.post("/overc-idmaster-service/partnerHubMapping",e)}Update(e){return this.http.patch("/overc-idmaster-service/partnerHubMapping/"+e.partnerId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId+"&hubCode="+e.hubCode+"&partnerType="+e.partnerType,e)}Delete(e){return this.http.delete("/overc-idmaster-service/partnerHubMapping/"+e.partnerId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId+"&hubCode="+e.hubCode+"&partnerType="+e.partnerType)}search(e){return this.http.post("/overc-idmaster-service/partnerHubMapping/find",e)}};s.\u0275fac=function(t){return new(t||s)(ee(Qe),ee(k))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var Ot=()=>({width:"100%"});function Xa(n,s){n&1&&(r(0,"p",15),p(1,"1"),i())}function Ya(n,s){n&1&&h(0,"img",16)}function Ja(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11),b(2,Xa,2,0,"p",12)(3,Ya,1,0,"img",13),i(),r(4,"div")(5,"p",14),p(6,"General"),i()()()}if(n&2){let o=y();l(2),c("ngIf",o.active==0),l(),c("ngIf",o.active!=0)}}function Za(n,s){if(n&1&&(r(0,"mat-error",33)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function eo(n,s){if(n&1&&(r(0,"mat-error",33)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function to(n,s){if(n&1&&(r(0,"mat-error",33)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function io(n,s){if(n&1&&(r(0,"mat-error",33)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function no(n,s){if(n&1&&(r(0,"mat-error",33)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function ro(n,s){if(n&1&&(r(0,"mat-error",33)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function ao(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Language"),i(),h(4,"p-dropdown",20),b(5,Za,3,1,"mat-error",21),i(),r(6,"div",18)(7,"p",19),p(8,"Company"),i(),h(9,"p-dropdown",22),b(10,eo,3,1,"mat-error",21),i(),r(11,"div",18)(12,"p",23),p(13,"Hub Code"),i(),h(14,"p-dropdown",24),b(15,to,3,1,"mat-error",21),i(),r(16,"div",18)(17,"p",23),p(18," Partner ID"),i(),h(19,"input",25),b(20,io,3,1,"mat-error",21),i(),r(21,"div",18)(22,"p",23),p(23,"Partner Name"),i(),h(24,"input",26),b(25,no,3,1,"mat-error",21),i(),r(26,"div",18)(27,"p",23),p(28,"Partner Type"),i(),h(29,"input",27),b(30,ro,3,1,"mat-error",21),i(),r(31,"div",18)(32,"p",19),p(33,"Status"),i(),h(34,"p-dropdown",28),i(),r(35,"div",18)(36,"p",19),p(37,"Remark"),i(),h(38,"input",29),i()(),r(39,"div",30)(40,"button",31),p(41,"Cancel"),i(),r(42,"button",32),v("click",function(){g(o);let t=y();return f(t.save())}),p(43),i()()}if(n&2){let o,e,t,a,d=y();l(4),w(C(29,Ot)),c("options",d.languageIdList)("disabled",!0)("panelStyle",C(30,Ot)),l(),c("ngIf",d.errorHandling("languageId")),l(4),w(C(31,Ot)),c("options",d.companyIdList)("disabled",!0)("panelStyle",C(32,Ot)),l(),c("ngIf",d.errorHandling("companyId")),l(4),w(C(33,Ot)),c("options",d.hubCodeList)("disabled",!0)("panelStyle",C(34,Ot))("ngClass",(o=d.form.get("hubCode"))!=null&&o.invalid&&d.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",d.errorHandling("hubCode")),l(4),c("ngClass",(e=d.form.get("partnerId"))!=null&&e.invalid&&d.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",d.errorHandling("partnerId")),l(4),c("ngClass",(t=d.form.get("partnerName"))!=null&&t.invalid&&d.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",d.errorHandling("partnerName")),l(4),c("ngClass",(a=d.form.get("partnerType"))!=null&&a.invalid&&d.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",d.errorHandling("partnerType")),l(4),w(C(35,Ot)),c("options",d.status),l(9),x(d.pageToken.pageflow!="New"?"Update":"Save")}}function oo(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11)(2,"p",34),p(3," 2"),i()(),r(4,"div")(5,"p",35),p(6," Admin"),i()()()}if(n&2){let o=y(2);l(2),c("ngClass",o.active==2?"borderCircle":"disabled text-muted"),l(3),c("ngClass",o.active==2?"textBlack f600":"text-muted")}}function lo(n,s){if(n&1){let o=E();r(0,"div",36)(1,"div",18)(2,"p",19),p(3,"Created By"),i(),h(4,"input",37),i(),r(5,"div",18)(6,"p",19),p(7,"Created On"),i(),h(8,"input",38),i(),r(9,"div",18)(10,"p",19),p(11,"Updated By"),i(),h(12,"input",39),i(),r(13,"div",18)(14,"p",19),p(15,"Updated On"),i(),h(16,"input",40),i()(),r(17,"div",30)(18,"button",41),v("click",function(){let t=g(o).prevCallback;return f(t.emit())}),p(19,"Back"),i(),r(20,"button",32),v("click",function(){g(o);let t=y(2);return f(t.save())}),p(21),i()()}if(n&2){let o=y(2);l(21),x(o.pageToken.pageflow!="New"?"Update":"Save")}}function so(n,s){n&1&&(r(0,"p-stepperPanel"),b(1,oo,7,2,"ng-template",7)(2,lo,22,1,"ng-template",8),i())}var Yi=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.messageService=P,this.auth=N,this.cas=$,this.active=0,this.status=[],this.form=this.fb.group({partnerId:[,S.required],partnerType:[,S.required],partnerName:[,S.required],hubCode:[,S.required],hubName:[],languageId:[this.auth.languageId,S.required],languageDescription:[],companyId:[this.auth.companyId,S.required],companyName:[],statusId:["16"],statusDescription:[],remark:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[],this.hubCodeList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","Hub Partner Assignment",this.pageToken.pageflow];this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"&&(this.fill(this.pageToken.line),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.form.controls.partnerId.disable(),this.form.controls.hubCode.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable())}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.hub.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.hubCodeList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.hub.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.partnerId+" has been updated successfully"}),this.router.navigate(["/main/master/hubPartnerAssignment"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.partnerId+" has been created successfully"}),this.router.navigate(["/main/master/hubPartnerAssignment"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(pi),u(q),u(k),u(pe))},s.\u0275cmp=R({type:s,selectors:[["app-hub-partner-assignment-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["placeholder","Select","filter","true","formControlName","hubCode","appendTo","body",3,"options","disabled","panelStyle","ngClass"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","partnerId","pInputText","","placeholder","Enter",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","partnerName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","partnerType","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select","filter","true",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/hubPartnerAssignment",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3),i(),r(4,"div",1)(5,"button",3),p(6,"Transfer"),i()()(),r(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(m){return M(a.active,m)||(a.active=m),m}),r(10,"p-stepperPanel"),b(11,Ja,7,2,"ng-template",7)(12,ao,44,36,"ng-template",8),i(),b(13,so,3,0,"p-stepperPanel",9),i()()()()),t&2&&(l(3),T("Hub Partner Assignment - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(),F("activeStep",a.active),l(4),c("ngIf",a.pageToken.pageflow!="New"))},dependencies:[te,z,ke,X,ae,K,Ue,Ge,L,ne,A,j,re,qe,Be,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var po=["hubPartnerAssignment"],co=()=>({width:"80vw"}),vt=()=>({width:"100%"}),mo=()=>({width:"100rem"});function uo(n,s){if(n&1&&(r(0,"th",42),p(1),h(2,"p-sortIcon",43),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function ho(n,s){if(n&1&&(r(0,"tr")(1,"th",39),h(2,"p-tableHeaderCheckbox",40),i(),b(3,uo,3,3,"th",41),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function go(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function fo(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y(2).$implicit;T(" ",Ee(1,1,o.createdOn,"dd-MM-yyyy HH:mm")," ")}}function _o(n,s){if(n&1&&(r(0,"td"),b(1,go,2,1,"ng-container",47)(2,fo,2,4,"ng-template",null,3,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function vo(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",44)(2,"p-checkbox",45),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedHubPartnerAssignment,t)||(a.selectedHubPartnerAssignment=t),f(t)}),i()(),b(3,_o,4,2,"td",46),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedHubPartnerAssignment[0]===o),l(2),F("ngModel",t.selectedHubPartnerAssignment),c("value",o),l(),c("ngForOf",e)}}function yo(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",48),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}function Co(n,s){n&1&&(r(0,"button",49),p(1,"Edit"),i(),r(2,"button",49),p(3,"Confirm"),i())}var Ji=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.auth=P,this.fb=N,this.spin=$,this.hubPartnerAssignmentTable=[],this.selectedHubPartnerAssignment=[],this.cols=[],this.target=[],this.searchform=this.fb.group({hubCode:[],hubCategory:[],partnerId:[],partnerType:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={hubCode:"Hub",hubCategory:"Hub Category",partnerId:"Partner",partnerType:"Partner Type",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.hubCodeDropdown=[],this.hubCategoryDropdown=[],this.partnerIdDropdown=[],this.partnerTypeDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Master","Hub Partner Assignment"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"partnerId",header:"Partner ID"},{field:"partnerType",header:"Partner Type"},{field:"partnerName",header:"Partner Name"},{field:"hubName",header:"Hub Name"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remark"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"hubCode",header:"Hub Code"},{field:"hubCategory",header:"Hub Category"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.hubPartnerAssignmentTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedHubPartnerAssignment[this.selectedHubPartnerAssignment.length-1];this.selectedHubPartnerAssignment.length=0,this.selectedHubPartnerAssignment.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedHubPartnerAssignment[0])})}openCrud(e="New",t=null){if(this.selectedHubPartnerAssignment.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedHubPartnerAssignment[0],pageflow:e});this.router.navigate(["/main/master/hubPartnerAssignment-new/"+a])}}deleteDialog(){if(this.selectedHubPartnerAssignment.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedHubPartnerAssignment,module:"Hub Partner Assignment",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedHubPartnerAssignment[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.partnerId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.hubPartnerAssignmentTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="date"?(console.log(3),a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"Hub Partner Assignment")}getSearchDropdown(){this.hubPartnerAssignmentTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.hubCode!=null&&(this.hubCodeDropdown.push({value:e.hubCode,label:e.hubName}),this.hubCodeDropdown=this.cs.removeDuplicatesFromArrayList(this.hubCodeDropdown,"value")),e.hubCategory!=null&&(this.hubCategoryDropdown.push({value:e.hubCategory,label:e.hubCategory}),this.hubCategoryDropdown=this.cs.removeDuplicatesFromArrayList(this.hubCategoryDropdown,"value")),e.partnerId!=null&&(this.partnerIdDropdown.push({value:e.partnerId,label:e.partnerName}),this.partnerIdDropdown=this.cs.removeDuplicatesFromArrayList(this.partnerIdDropdown,"value")),e.partnerType!=null&&(this.partnerTypeDropdown.push({value:e.partnerType,label:e.partnerType}),this.partnerTypeDropdown=this.cs.removeDuplicatesFromArrayList(this.partnerTypeDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.hubPartnerAssignmentTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({hubCode:[],hubCategory:[],partnerId:[],partnerType:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(pi),u(se),u(Y),u(k),u(W),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-hub-partner-assignment"]],viewQuery:function(t,a){if(t&1&&we(po,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:58,vars:46,consts:[["hubPartnerAssignment",""],["HubPartnerAssignmentTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","partnerId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","partnerType","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","hubCode","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","hubCategory","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,a){if(t&1){let d=E();r(0,"div",4)(1,"div",5)(2,"p",6),p(3,"Hub Partner Assignment "),i(),r(4,"div",5)(5,"img",7),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",8),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",9),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",10),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",11),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",12),p(11," Add New"),i()()(),r(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",16),v("input",function(_){g(d);let I=V(51);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),p(22,"Partner"),i(),h(23,"p-multiSelect",22),i(),r(24,"div",20)(25,"p",21),p(26,"Partner Type"),i(),h(27,"p-multiSelect",23),i(),r(28,"div",20)(29,"p",21),p(30,"Hub"),i(),h(31,"p-multiSelect",24),i(),r(32,"div",20)(33,"p",21),p(34,"Hub Category"),i(),h(35,"p-multiSelect",25),i(),r(36,"div",20)(37,"p",21),p(38,"Status"),i(),h(39,"p-multiSelect",26),i()(),r(40,"div",27)(41,"div")(42,"img",28),v("click",function(){return g(d),f(a.reset())}),i()(),r(43,"div")(44,"button",29),v("click",function(){return g(d),f(a.closeOverLay())}),p(45,"Cancel"),i(),r(46,"button",30),v("click",function(){return g(d),f(a.search())}),p(47,"Apply"),i()()()()(),r(48,"p-chips",31),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(49,"div",32)(50,"p-table",33,1),b(52,ho,4,2,"ng-template",34)(53,vo,4,5,"ng-template",35)(54,yo,4,1,"ng-template",36),i()()(),r(55,"mat-menu",37,2),b(57,Co,4,0,"ng-template",38),i()}t&2&&(l(16),w(C(34,co)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(35,vt)),c("options",a.partnerIdDropdown)("panelStyle",C(36,vt)),l(4),w(C(37,vt)),c("options",a.partnerTypeDropdown)("panelStyle",C(38,vt)),l(4),w(C(39,vt)),c("options",a.hubCodeDropdown)("panelStyle",C(40,vt)),l(4),w(C(41,vt)),c("options",a.hubCategoryDropdown)("panelStyle",C(42,vt)),l(4),w(C(43,vt)),c("options",a.statusDropdown)("panelStyle",C(44,vt)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.hubPartnerAssignmentTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(45,mo)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,Je,$e,Ye,B,H,Y],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=s;return n})();var di=(()=>{let s=class s{constructor(e,t){this.http=e,this.auth=t}Get(e,t){return this.http.get("/overc-idmaster-service/rate/"+e+"?rateParameterId="+t+"&companyId="+this.auth.companyId+"&languageId="+this.auth.languageId)}Create(e){return this.http.post("/overc-idmaster-service/rate",e)}Update(e){return this.http.patch("/overc-idmaster-service/rate/"+e.partnerId+"?rateParameterId="+e.rateParameterId+"&companyId="+this.auth.companyId+"&languageId="+this.auth.languageId,e)}Delete(e,t){return this.http.delete("/overc-idmaster-service/rate/"+e+"?rateParameterId="+t+"&companyId="+this.auth.companyId+"&languageId="+this.auth.languageId)}search(e){return this.http.post("/overc-idmaster-service/rate/find",e)}};s.\u0275fac=function(t){return new(t||s)(ee(Qe),ee(k))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var wo=["rate"],xo=()=>({width:"80vw"}),Wt=()=>({width:"100%"}),Io=()=>({width:"100rem"});function So(n,s){if(n&1&&(r(0,"th",37),p(1),h(2,"p-sortIcon",38),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function Eo(n,s){if(n&1&&(r(0,"tr")(1,"th",34),h(2,"p-tableHeaderCheckbox",35),i(),b(3,So,3,3,"th",36),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function To(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function No(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y().$implicit,e=y().$implicit;T(" ",Ee(1,1,e[o.field],"dd-MM-yyyy HH:mm")," ")}}function ko(n,s){if(n&1&&(r(0,"td"),b(1,To,2,1,"ng-container",42)(2,No,2,4,"ng-template",null,2,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function Fo(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",39)(2,"p-checkbox",40),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedRate,t)||(a.selectedRate=t),f(t)}),i()(),b(3,ko,4,2,"td",41),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedRate[0]===o),l(2),F("ngModel",t.selectedRate),c("value",o),l(),c("ngForOf",e)}}function Mo(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",43),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}var en=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.fb=P,this.auth=N,this.spin=$,this.rateTable=[],this.selectedRate=[],this.cols=[],this.target=[],this.searchform=this.fb.group({rateParameterId:[],partnerId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={rateParameterId:"Rate Parameter",partnerId:"Partner",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.rateParameterDropdown=[],this.partnerIdDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Master","Rate"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"rateParameterDescription",header:"Rate Parameter"},{field:"partnerId",header:"Partner ID"},{field:"partnerName",header:"Partner Name"},{field:"partnerType",header:"Partner Type"},{field:"rangeFrom",header:"Range From"},{field:"rangeTo",header:"Range To"},{field:"remark",header:"Remarks"},{field:"statusDescription",header:"Status"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"rateParameterId",header:"Rate Parameter ID"},{field:"statusId",header:"Status ID"},{field:"rate",header:"Rate"},{field:"rateUnit",header:"Rate Unit"},{field:"rateParameterUnit",header:"Rate Parameter Unit"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.rateTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedRate[this.selectedRate.length-1];this.selectedRate.length=0,this.selectedRate.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedRate[0])})}openCrud(e="New",t=null){if(this.selectedRate.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedRate[0],pageflow:e});this.router.navigate(["/main/master/rate-new/"+a])}}deleteDialog(){if(this.selectedRate.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedRate,module:"Rate",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedRate[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e.partnerId,e.rateParameterId).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.partnerId+" Deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.rateTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="date"?(console.log(3),a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"Rate")}getSearchDropdown(){this.rateTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.rateParameterId!=null&&(this.rateParameterDropdown.push({value:e.rateParameterId,label:e.rateParameterDescription}),this.rateParameterDropdown=this.cs.removeDuplicatesFromArrayList(this.rateParameterDropdown,"value")),e.partnerId!=null&&(this.partnerIdDropdown.push({value:e.partnerId,label:e.partnerName}),this.partnerIdDropdown=this.cs.removeDuplicatesFromArrayList(this.partnerIdDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.rateTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({rateParameterId:[],partnerId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(di),u(se),u(Y),u(W),u(k),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-rate"]],viewQuery:function(t,a){if(t&1&&we(wo,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:47,vars:34,consts:[["rate",""],["rateTag",""],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","partnerId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","rateParameterId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"]],template:function(t,a){if(t&1){let d=E();r(0,"div",3)(1,"div",4)(2,"p",5),p(3,"Rate "),i(),r(4,"div",4)(5,"img",6),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",7),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",8),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",9),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",10),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",11),p(11," Add New"),i()()(),r(12,"div",12)(13,"p-iconField",13)(14,"p-inputIcon",14),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",15),v("input",function(_){g(d);let I=V(43);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",16,0)(18,"form",17)(19,"div",18)(20,"div",19)(21,"p",20),p(22,"Partner"),i(),h(23,"p-multiSelect",21),i(),r(24,"div",19)(25,"p",20),p(26,"Rate Parameter"),i(),h(27,"p-multiSelect",22),i(),r(28,"div",19)(29,"p",20),p(30,"Status"),i(),h(31,"p-multiSelect",23),i()(),r(32,"div",24)(33,"div")(34,"img",25),v("click",function(){return g(d),f(a.reset())}),i()(),r(35,"div")(36,"button",26),v("click",function(){return g(d),f(a.closeOverLay())}),p(37,"Cancel"),i(),r(38,"button",27),v("click",function(){return g(d),f(a.search())}),p(39,"Apply"),i()()()()(),r(40,"p-chips",28),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(41,"div",29)(42,"p-table",30,1),b(44,Eo,4,2,"ng-template",31)(45,Fo,4,5,"ng-template",32)(46,Mo,4,1,"ng-template",33),i()()()}t&2&&(l(16),w(C(26,xo)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(27,Wt)),c("options",a.partnerIdDropdown)("panelStyle",C(28,Wt)),l(4),w(C(29,Wt)),c("options",a.rateParameterDropdown)("panelStyle",C(30,Wt)),l(4),w(C(31,Wt)),c("options",a.statusDropdown)("panelStyle",C(32,Wt)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.rateTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(33,Io)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,B,H,Y],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=s;return n})();var At=()=>({width:"100%"});function Do(n,s){n&1&&(r(0,"p",15),p(1,"1"),i())}function Po(n,s){n&1&&h(0,"img",16)}function Vo(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11),b(2,Do,2,0,"p",12)(3,Po,1,0,"img",13),i(),r(4,"div")(5,"p",14),p(6,"General"),i()()()}if(n&2){let o=y();l(2),c("ngIf",o.active==0),l(),c("ngIf",o.active!=0)}}function Ro(n,s){if(n&1&&(r(0,"mat-error",38)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Oo(n,s){if(n&1&&(r(0,"mat-error",38)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Ao(n,s){if(n&1&&(r(0,"mat-error",38)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function jo(n,s){if(n&1&&(r(0,"mat-error",38)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Lo(n,s){if(n&1&&(r(0,"mat-error",38)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Bo(n,s){if(n&1&&(r(0,"mat-error",38)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Ho(n,s){if(n&1&&(r(0,"mat-error",38)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Wo(n,s){if(n&1&&(r(0,"mat-error",38)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function qo(n,s){if(n&1&&(r(0,"mat-error",38)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Go(n,s){if(n&1&&(r(0,"mat-error",38)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Uo(n,s){if(n&1&&(r(0,"mat-error",38)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Ko(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Language"),i(),h(4,"p-dropdown",20),b(5,Ro,3,1,"mat-error",21),i(),r(6,"div",18)(7,"p",19),p(8,"Company"),i(),h(9,"p-dropdown",22),b(10,Oo,3,1,"mat-error",21),i(),r(11,"div",18)(12,"p",19),p(13,"Rate Parameter"),i(),h(14,"p-dropdown",23),b(15,Ao,3,1,"mat-error",21),i(),r(16,"div",18)(17,"p",24),p(18,"Partner ID"),i(),h(19,"input",25),b(20,jo,3,1,"mat-error",21),i(),r(21,"div",18)(22,"p",24),p(23,"Partner Name"),i(),h(24,"input",26),b(25,Lo,3,1,"mat-error",21),i(),r(26,"div",18)(27,"p",24),p(28,"Partner Type"),i(),h(29,"input",27),b(30,Bo,3,1,"mat-error",21),i(),r(31,"div",18)(32,"p",24),p(33,"Range From"),i(),h(34,"input",28),b(35,Ho,3,1,"mat-error",21),i(),r(36,"div",18)(37,"p",24),p(38,"Range To"),i(),h(39,"input",29),b(40,Wo,3,1,"mat-error",21),i(),r(41,"div",18)(42,"p",24),p(43,"Rate"),i(),h(44,"input",30),b(45,qo,3,1,"mat-error",21),i(),r(46,"div",18)(47,"p",24),p(48,"Rate Unit"),i(),h(49,"input",31),b(50,Go,3,1,"mat-error",21),i(),r(51,"div",18)(52,"p",24),p(53,"Rate Parameter Unit"),i(),h(54,"input",32),b(55,Uo,3,1,"mat-error",21),i(),r(56,"div",18)(57,"p",19),p(58,"Status"),i(),h(59,"p-dropdown",33),i(),r(60,"div",18)(61,"p",19),p(62,"Remarks"),i(),h(63,"input",34),i()(),r(64,"div",35)(65,"button",36),p(66,"Cancel"),i(),r(67,"button",37),v("click",function(){g(o);let t=y();return f(t.save())}),p(68),i()()}if(n&2){let o,e,t,a,d,m,_,I,P,N=y();l(4),w(C(39,At)),c("options",N.languageIdList)("disabled",!0)("panelStyle",C(40,At)),l(),c("ngIf",N.errorHandling("languageId")),l(4),w(C(41,At)),c("options",N.companyIdList)("disabled",!0)("panelStyle",C(42,At)),l(),c("ngIf",N.errorHandling("companyId")),l(4),w(C(43,At)),c("options",N.rateParameterIdList)("disabled",!0)("ngClass",(o=N.form.get("rateParameterId"))!=null&&o.invalid&&N.submitted?"ng-invalid ng-dirty":"")("panelStyle",C(44,At)),l(),c("ngIf",N.errorHandling("rateParameterId")),l(4),c("ngClass",(e=N.form.get("partnerId"))!=null&&e.invalid&&N.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",N.errorHandling("partnerId")),l(4),c("ngClass",(t=N.form.get("partnerName"))!=null&&t.invalid&&N.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",N.errorHandling("partnerName")),l(4),c("ngClass",(a=N.form.get("partnerType"))!=null&&a.invalid&&N.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",N.errorHandling("partnerType")),l(4),c("ngClass",(d=N.form.get("rangeFrom"))!=null&&d.invalid&&N.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",N.errorHandling("rangeFrom")),l(4),c("ngClass",(m=N.form.get("rangeTo"))!=null&&m.invalid&&N.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",N.errorHandling("rangeTo")),l(4),c("ngClass",(_=N.form.get("rate"))!=null&&_.invalid&&N.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",N.errorHandling("rate")),l(4),c("ngClass",(I=N.form.get("rateUnit"))!=null&&I.invalid&&N.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",N.errorHandling("rateUnit")),l(4),c("ngClass",(P=N.form.get("raFteParameterUnit"))!=null&&P.invalid&&N.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",N.errorHandling("rateParameterUnit")),l(4),w(C(45,At)),c("options",N.status),l(9),x(N.pageToken.pageflow!="New"?"Update":"Save")}}function Qo(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11)(2,"p",39),p(3," 2"),i()(),r(4,"div")(5,"p",40),p(6," Admin"),i()()()}if(n&2){let o=y(2);l(2),c("ngClass",o.active==2?"borderCircle":"disabled text-muted"),l(3),c("ngClass",o.active==2?"textBlack f600":"text-muted")}}function $o(n,s){if(n&1){let o=E();r(0,"div",41)(1,"div",18)(2,"p",19),p(3,"Created By"),i(),h(4,"input",42),i(),r(5,"div",18)(6,"p",19),p(7,"Created On"),i(),h(8,"input",43),i(),r(9,"div",18)(10,"p",19),p(11,"Updated By"),i(),h(12,"input",44),i(),r(13,"div",18)(14,"p",19),p(15,"Updated On"),i(),h(16,"input",45),i()(),r(17,"div",35)(18,"button",46),v("click",function(){let t=g(o).prevCallback;return f(t.emit())}),p(19,"Back"),i(),r(20,"button",37),v("click",function(){g(o);let t=y(2);return f(t.save())}),p(21),i()()}if(n&2){let o=y(2);l(21),x(o.pageToken.pageflow!="New"?"Update":"Save")}}function zo(n,s){n&1&&(r(0,"p-stepperPanel"),b(1,Qo,7,2,"ng-template",7)(2,$o,22,1,"ng-template",8),i())}var tn=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.messageService=P,this.cas=N,this.auth=$,this.active=0,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId],languageDescription:[],companyId:[this.auth.companyId],companyName:[],rateParameterId:[,S.required],rateParameterDescription:[],partnerId:[,S.required],partnerType:[,S.required],partnerName:[,S.required],rangeFrom:[,S.required],rangeTo:[,S.required],rate:[,S.required],rateUnit:[,S.required],rateParameterUnit:[,S.required],remark:[],statusId:["16"],statusDescription:[],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[],this.rateParameterIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","Rate",this.pageToken.pageflow];this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"&&(this.fill(this.pageToken.line),this.form.controls.rateParameterId.disable(),this.form.controls.partnerId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable())}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.rateParameter.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.rateParameterIdList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.rateParameter.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.partnerId+" has been updated successfully"}),this.router.navigate(["/main/master/rate"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.partnerId+" has been created successfully"}),this.router.navigate(["/main/master/rate"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(di),u(q),u(pe),u(k))},s.\u0275cmp=R({type:s,selectors:[["app-rate-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["formControlName","rateParameterId","appendTo","body","placeholder","Select","filter","true",3,"options","disabled","ngClass","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","partnerId","pInputText","","placeholder","Enter",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","partnerName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","partnerType","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","rangeFrom","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","rangeTo","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","rate","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","rateUnit","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","alphanum","formControlName","rateParameterUnit","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select ",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/rate",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3),i(),r(4,"div",1)(5,"button",3),p(6,"Transfer"),i()()(),r(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(m){return M(a.active,m)||(a.active=m),m}),r(10,"p-stepperPanel"),b(11,Vo,7,2,"ng-template",7)(12,Ko,69,46,"ng-template",8),i(),b(13,zo,3,0,"p-stepperPanel",9),i()()()()),t&2&&(l(3),T("Rate - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(),F("activeStep",a.active),l(4),c("ngIf",a.pageToken.pageflow!="New"))},dependencies:[te,z,ke,X,ae,K,Ue,Ge,L,ne,A,j,re,qe,Be,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var Xo=["customer"],Yo=()=>({width:"80vw"}),yt=()=>({width:"100%"}),Jo=()=>({width:"100rem"});function Zo(n,s){if(n&1&&(r(0,"th",39),p(1),h(2,"p-sortIcon",40),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function el(n,s){if(n&1&&(r(0,"tr")(1,"th",36),h(2,"p-tableHeaderCheckbox",37),i(),b(3,Zo,3,3,"th",38),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function tl(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function il(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y().$implicit,e=y().$implicit;T(" ",Ee(1,1,e[o.field],"dd-MM-yyyy HH:mm")," ")}}function nl(n,s){if(n&1&&(r(0,"td"),b(1,tl,2,1,"ng-container",44)(2,il,2,4,"ng-template",null,2,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function rl(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",41)(2,"p-checkbox",42),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedCustomer,t)||(a.selectedCustomer=t),f(t)}),i()(),b(3,nl,4,2,"td",43),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedCustomer[0]===o),l(2),F("ngModel",t.selectedCustomer),c("value",o),l(),c("ngForOf",e)}}function al(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",45),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}var nn=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.fb=P,this.auth=N,this.spin=$,this.customerTable=[],this.selectedCustomer=[],this.cols=[],this.target=[],this.searchform=this.fb.group({subProductId:[],subProductValue:[],productId:[],customerId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={subProductId:"Sub Product",subProductValue:"Sub Product Value",productId:"Product",customerId:"Customer",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.subProductDropdown=[],this.subProductValueDropdown=[],this.productDropdown=[],this.customerDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Master","Customer"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"customerId",header:"Customer ID"},{field:"customerName",header:"Customer Name"},{field:"subProductName",header:"Sub Product"},{field:"productName",header:"Product"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remarks"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"subProductId",header:"Sub Product ID"},{field:"productId",header:"Product ID"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),t=this.cs.removeDuplicatesFromArrayList(t,"customerId"),this.customerTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedCustomer[this.selectedCustomer.length-1];this.selectedCustomer.length=0,this.selectedCustomer.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedCustomer[0])})}openCrud(e="New",t=null){if(this.selectedCustomer.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedCustomer[0],pageflow:e});this.router.navigate(["/main/master/customer-new/"+a])}}deleteDialog(){if(this.selectedCustomer.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedCustomer,module:"Customer",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{if(t){let a={};a.languageId=[this.auth.languageId],a.companyId=[this.auth.companyId],a.customerId=[this.selectedCustomer[0].customerId],this.service.search(a).subscribe({next:d=>{console.log(d),this.deleterecord(d)},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}})}deleterecord(e){this.spin.show(),this.service.DeleteBulk(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e[0].customerId+"  Deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.customerTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="date"?(console.log(3),a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"Customer")}getSearchDropdown(){this.customerTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.subProductId!=null&&(this.subProductDropdown.push({value:e.subProductId,label:e.subProductName}),this.subProductDropdown=this.cs.removeDuplicatesFromArrayList(this.subProductDropdown,"value")),e.subProductValue!=null&&(this.subProductValueDropdown.push({value:e.subProductValue,label:e.referenceField1}),this.subProductValueDropdown=this.cs.removeDuplicatesFromArrayList(this.subProductValueDropdown,"value")),e.productId!=null&&(this.productDropdown.push({value:e.productId,label:e.productName}),this.productDropdown=this.cs.removeDuplicatesFromArrayList(this.productDropdown,"value")),e.customerId!=null&&(this.customerDropdown.push({value:e.customerId,label:e.customerName}),this.customerDropdown=this.cs.removeDuplicatesFromArrayList(this.customerDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.customerTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({subProductId:[],subProductValue:[],productId:[],customerId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(_t),u(se),u(Y),u(W),u(k),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-customer"]],viewQuery:function(t,a){if(t&1&&we(Xo,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:55,vars:46,consts:[["customer",""],["customerTag",""],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","customerId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","productId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","subProductId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","subProductValue","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"]],template:function(t,a){if(t&1){let d=E();r(0,"div",3)(1,"div",4)(2,"p",5),p(3,"Customer "),i(),r(4,"div",4)(5,"img",6),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",7),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",8),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",9),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",10),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",11),p(11," Add New"),i()()(),r(12,"div",12)(13,"p-iconField",13)(14,"p-inputIcon",14),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",15),v("input",function(_){g(d);let I=V(51);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",16,0)(18,"form",17)(19,"div",18)(20,"div",19)(21,"p",20),p(22,"Customer"),i(),h(23,"p-multiSelect",21),i(),r(24,"div",19)(25,"p",20),p(26,"Product"),i(),h(27,"p-multiSelect",22),i(),r(28,"div",19)(29,"p",20),p(30,"Sub Product"),i(),h(31,"p-multiSelect",23),i(),r(32,"div",19)(33,"p",20),p(34,"Sub Product Value"),i(),h(35,"p-multiSelect",24),i(),r(36,"div",19)(37,"p",20),p(38,"Status"),i(),h(39,"p-multiSelect",25),i()(),r(40,"div",26)(41,"div")(42,"img",27),v("click",function(){return g(d),f(a.reset())}),i()(),r(43,"div")(44,"button",28),v("click",function(){return g(d),f(a.closeOverLay())}),p(45,"Cancel"),i(),r(46,"button",29),v("click",function(){return g(d),f(a.search())}),p(47,"Apply"),i()()()()(),r(48,"p-chips",30),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(49,"div",31)(50,"p-table",32,1),b(52,el,4,2,"ng-template",33)(53,rl,4,5,"ng-template",34)(54,al,4,1,"ng-template",35),i()()()}t&2&&(l(16),w(C(34,Yo)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(35,yt)),c("options",a.customerDropdown)("panelStyle",C(36,yt)),l(4),w(C(37,yt)),c("options",a.productDropdown)("panelStyle",C(38,yt)),l(4),w(C(39,yt)),c("options",a.subProductDropdown)("panelStyle",C(40,yt)),l(4),w(C(41,yt)),c("options",a.subProductValueDropdown)("panelStyle",C(42,yt)),l(4),w(C(43,yt)),c("options",a.statusDropdown)("panelStyle",C(44,yt)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.customerTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(45,Jo)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,B,H,Y],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=s;return n})();var qt=()=>({width:"100%"}),Ti=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$,Xe,Ct,bt,wt){this.dialogRef=e,this.data=t,this.cs=a,this.spin=d,this.route=m,this.router=_,this.path=I,this.fb=P,this.productService=N,this.messageService=$,this.cas=Xe,this.auth=Ct,this.subProductService=bt,this.customerService=wt,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId],languageDescription:[],companyId:[this.auth.companyId],companyName:[],subProductId:[,S.required],subProductName:[],subProductValue:[],productId:[,S.required],productName:[],customerId:[],customerName:[,S.required],statusId:["16"],statusDescription:[],remark:[],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[]}),this.submitted=!1,this.productIdList=[],this.subProductIdList=[],this.subProductValueList=[],this.status=[{value:"2",label:"Inactive"},{value:"1",label:"Active"}]}ngOnInit(){this.form.controls.customerId.patchValue(this.data),this.data.pageflow=="Edit"&&this.form.patchValue(this.data.code),this.productDropdown()}save(){this.submitted=!0,this.dialogRef.close(this.form.value)}productDropdown(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.productIdList=[],this.spin.show(),this.productService.search(e).subscribe({next:t=>{this.productIdList=this.cas.foreachlist(t,{key:"productId",value:"productName"}),this.productIdList=this.cs.removeDuplicatesFromArrayList(this.productIdList,"value"),this.data.pageflow=="Edit"&&(this.subProductIdList=this.cas.foreachlist(t,{key:"subProductId",value:"subProductName"}),this.subProductIdList=this.cs.removeDuplicatesFromArrayList(this.subProductIdList,"value"),this.subProductValueList=this.cas.foreachlist(t,{key:"subProductValue",value:"subProductValue"})),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}productChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.productId=[this.form.controls.productId.value],this.subProductIdList=[],this.spin.show(),this.productService.search(e).subscribe({next:t=>{this.subProductIdList=this.cas.foreachlistWithoutKey(t,{key:"subProductId",value:"subProductName"}),this.subProductIdList=this.cs.removeDuplicatesFromArrayList(this.subProductIdList,"value"),this.subProductValueList=this.cas.foreachlistWithoutKey(t,{key:"subProductValue",value:"subProductValue"}),this.subProductValueList=this.cs.removeDuplicatesFromArrayList(this.subProductValueList,"value"),this.form.patchValue(t[0]),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}subProductChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.subProductId=[this.form.controls.subProductId.value],this.subProductValueList=[],this.spin.show(),this.subProductService.search(e).subscribe({next:t=>{this.subProductValueList=this.cas.foreachlist(t,{key:"subProductValue",value:"referenceField1"}),this.subProductValueList=this.cs.removeDuplicatesFromArrayList(this.subProductValueList,"value"),this.form.patchValue(t[0]),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}subProductValueChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.subProductId=[this.form.controls.subProductId.value],e.subProductValue=[this.form.controls.subProductValue.value],this.spin.show(),this.subProductService.search(e).subscribe({next:t=>{this.form.patchValue(t[0]),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}};s.\u0275fac=function(t){return new(t||s)(u(ei),u(ti),u(U),u(G),u(ie),u(O),u(Q),u(W),u(Et),u(q),u(pe),u(k),u(St),u(_t))},s.\u0275cmp=R({type:s,selectors:[["app-customer-value"]],decls:29,vars:25,consts:[[1,"bgWhite","text-black","w-93","h-100","m-4","mt-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],[1,"mt-4"],[3,"formGroup"],[1,"d-flex-row"],[1,"row"],["id","productId",1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["placeholder","Select","filter","true","formControlName","productId","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],["id","subProductId",1,"col-6","marginFieldNew","borderRadius12"],["placeholder","Select","filter","true","formControlName","subProductId","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],["id","subProductValue",1,"col-6","marginFieldNew","borderRadius12"],["placeholder","Select","filter","true","formControlName","subProductValue","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["maxlength","50","pInputText","","formControlName","referenceField1","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","float-right","py-2",2,"position","absolute","right","3.5%","bottom","7%"],["mat-dialog-close","",1,"buttom1","textBlack","mx-1"],["type","button",1,"buttom1","bgBlack","text-white","mx-1",3,"click"]],template:function(t,a){if(t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3,"Add Customer"),i()(),r(4,"div",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"p",8),p(10,"Product"),i(),r(11,"p-dropdown",9),v("onChange",function(){return a.productChanged()}),i()(),r(12,"div",10)(13,"p",8),p(14,"Sub Product"),i(),r(15,"p-dropdown",11),v("onChange",function(){return a.subProductChanged()}),i()(),r(16,"div",12)(17,"p",8),p(18,"Sub Product Value"),i(),r(19,"p-dropdown",13),v("onChange",function(){return a.subProductValueChanged()}),i()(),r(20,"div",14)(21,"p",15),p(22,"Value Description"),i(),h(23,"input",16),i()(),r(24,"div",17)(25,"button",18),p(26,"Cancel"),i(),r(27,"button",19),v("click",function(){return a.save()}),p(28,"Save"),i()()()()()()),t&2){let d,m,_;l(5),c("formGroup",a.form),l(6),w(C(19,qt)),c("options",a.productIdList)("ngClass",(d=a.form.get("productId"))!=null&&d.invalid&&a.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",C(20,qt)),l(4),w(C(21,qt)),c("options",a.subProductIdList)("ngClass",(m=a.form.get("subProductId"))!=null&&m.invalid&&a.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",C(22,qt)),l(4),w(C(23,qt)),c("options",a.subProductValueList)("ngClass",(_=a.form.get("subProductValue"))!=null&&_.invalid&&a.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",C(24,qt))}},dependencies:[te,ae,K,L,ne,A,j,re,ii,B,H],styles:[".deleteBody[_ngcontent-%COMP%]{font-family:Nunito;font-size:14px;font-weight:400;line-height:20.8px;text-align:center;color:#fffc;padding-bottom:1rem}.deleteHeader[_ngcontent-%COMP%]{font-family:Nunito;font-size:22px;font-weight:700;line-height:31.2px;text-align:left;padding-bottom:1rem}.cancelButton[_ngcontent-%COMP%]{padding:7px 25px;gap:10px;border-radius:6px;border:1px 0px 0px 0px;opacity:0px;background-color:var(--white);color:var(--black)}.saveButton[_ngcontent-%COMP%]{padding:7px 35px;gap:10px;border-radius:6px;opacity:0px;background-color:var(--overcOrange);color:var(--black)}  .mat-mdc-dialog-container .mdc-dialog__surface{border-radius:12px!important}.deleteDialog[_ngcontent-%COMP%]{padding:2rem 1rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 35rem);overflow-y:scroll}.circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:1.5rem}.img-icon[_ngcontent-%COMP%]{gap:2rem}"]});let n=s;return n})();var $t=()=>({width:"100%"}),ol=()=>({width:"180"});function ll(n,s){if(n&1&&(r(0,"mat-error",28)(1,"small"),p(2),i()()),n&2){let o=y();l(2),x(o.getErrorMessage())}}function sl(n,s){if(n&1&&(r(0,"mat-error",28)(1,"small"),p(2),i()()),n&2){let o=y();l(2),x(o.getErrorMessage())}}function pl(n,s){if(n&1&&(r(0,"mat-error",28)(1,"small"),p(2),i()()),n&2){let o=y();l(2),x(o.getErrorMessage())}}function dl(n,s){n&1&&(r(0,"tr")(1,"th"),p(2,"Product Name"),i(),r(3,"th"),p(4,"Sub Product"),i(),r(5,"th"),p(6,"Sub Product Name"),i(),r(7,"th"),p(8,"Sub Product Value"),i(),r(9,"th"),p(10,"Sub Product Value Description"),i(),r(11,"th"),p(12,"Actions"),i()())}function cl(n,s){if(n&1){let o=E();r(0,"tr")(1,"td")(2,"p",29),p(3),i()(),r(4,"td")(5,"p",29),p(6),i()(),r(7,"td")(8,"p",29),p(9),i()(),r(10,"td")(11,"p",29),p(12),i()(),r(13,"td")(14,"p",29),p(15),i()(),r(16,"td",30)(17,"img",31),v("click",function(t){g(o);let a=V(19);return f(a.toggle(t))}),i(),r(18,"p-overlayPanel",null,0)(20,"div",32)(21,"button",33),v("click",function(){let t=g(o).rowIndex,a=V(19);return y().editItem("Edit",t),f(a.hide())}),h(22,"img",34),p(23,"Edit"),i(),r(24,"button",33),v("click",function(){let t=g(o).rowIndex,a=y();return f(a.removeItem(t))}),h(25,"img",35),p(26,"Delete"),i()()()()()}if(n&2){let o=s.$implicit;l(3),T("",o.productName," "),l(3),T("",o.subProductId," "),l(3),T("",o.subProductName," "),l(3),T("",o.subProductValue," "),l(3),T("",o.referenceField1," "),l(3),w(C(7,ol))}}var rn=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$,Xe,Ct,bt,wt){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.subProductService=P,this.productService=N,this.numberRangeService=$,this.messageService=Xe,this.cas=Ct,this.auth=bt,this.dialog=wt,this.active=0,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId],languageDescription:[],companyId:[this.auth.companyId],companyName:[],subProductId:[],subProductName:[],productId:[],productName:[],customerId:[],customerName:[,S.required],statusId:["16"],statusDescription:[],remark:[],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[],this.subProductIdList=[],this.productIdList=[],this.customerArray=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","Customer",this.pageToken.pageflow];this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"?(this.fill(this.pageToken.line),this.form.controls.subProductId.disable(),this.form.controls.productId.disable(),this.form.controls.customerId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable()):this.checkNumberRange()}checkNumberRange(){this.spin.show();let e={};e.numberRangeObject=["CUSTOMER"],this.numberRangeService.search(e).subscribe({next:t=>{t.length>0&&(this.nextNumber=Number(t[0].numberRangeCurrent)+1,this.form.controls.customerId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.customerId.disable()),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.subProduct.url,this.cas.dropdownlist.setup.product.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.subProductIdList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.subProduct.key),this.productIdList=this.cas.forLanguageFilter(e[3],this.cas.dropdownlist.setup.product.key),console.log(this.productIdList),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}add(){this.dialog.open(Ti,{disableClose:!0,width:"70%",height:"50%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:this.customerArray.length+1}).afterClosed().subscribe(t=>{t&&(this.customerArray.push(t),console.log(this.customerArray))})}removeItem(e){this.customerArray.splice(e,1)}fill(e){this.form.patchValue(e),this.spin.show();let t={};t.languageId=[this.auth.languageId],t.companyId=[this.auth.companyId],t.customerId=[e.customerId],this.service.search(t).subscribe({next:a=>{console.log(a),this.customerArray=a,this.spin.hide()},error:a=>{this.spin.hide(),this.cs.commonerrorNew(a)}}),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.customerArray.length==0){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.customerArray.forEach(e=>{e.languageId=this.auth.languageId,e.companyId=this.auth.companyId,e.customerId=this.form.controls.customerId.value,e.customerName=this.form.controls.customerName.value,e.statusId=this.form.controls.statusId.value,e.remark=this.form.controls.remark.value}),this.service.UpdateBulk(this.customerArray).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e[0].customerId+" has been updated successfully"}),this.router.navigate(["/main/master/customer"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.customerArray.forEach(e=>{e.languageId=this.auth.languageId,e.companyId=this.auth.companyId,e.customerId=this.form.controls.customerId.value,e.customerName=this.form.controls.customerName.value,e.statusId=this.form.controls.statusId.value,e.remark=this.form.controls.remark.value}),console.log(this.customerArray),this.service.CreateBulk(this.customerArray).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e[0].customerId+" has been created successfully"}),this.router.navigate(["/main/master/customer"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}editItem(e,t){this.dialog.open(Ti,{disableClose:!0,width:"70%",height:"50%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{pageflow:e,code:this.customerArray[t]}}).afterClosed().subscribe(d=>{d&&(this.customerArray.splice(t,0),this.customerArray.splice(t,1,d),console.log(d),this.customerArray=[...this.customerArray])})}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(_t),u(St),u(Et),u(ze),u(q),u(pe),u(k),u(se))},s.\u0275cmp=R({type:s,selectors:[["app-customer-new"]],decls:51,vars:27,consts:[["op",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"mx-auto","mt-4"],[3,"formGroup"],[1,"d-flex-row"],[1,"row"],[1,"col-4","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","customerId","pInputText","","placeholder","Enter",1,"w-100"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","100","pInputText","","formControlName","customerName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select ",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","justify-content-end","mb-3"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],["scrollHeight","calc(100vh - 31.8rem)",3,"scrollable","value"],["pTemplate","header"],["pTemplate","body"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/customer",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"w-100","pl-2","ml-2"],["pFrozenColumn","","alignFrozen","right",2,"padding-left","1.5rem !important"],["type","button","src","./assets/common/actions.png","alt","","srcset","",2,"height","1.4rem",3,"click"],[1,"d-flex","flex-column"],["mat-menu-item","",1,"w-100",2,"width","8rem",3,"click"],["src","./assets/common/edit.png","srcset","",2,"padding-right","10px","width","2rem"],["src","./assets/common/deletetool.png","srcset","",2,"padding-right","10px","width","2rem"]],template:function(t,a){if(t&1&&(r(0,"div",1)(1,"div",2)(2,"p",3),p(3),i(),r(4,"div",2)(5,"button",4),p(6,"Transfer"),i()()(),r(7,"div",5)(8,"form",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"p",10),p(13,"Language"),i(),h(14,"p-dropdown",11),b(15,ll,3,1,"mat-error",12),i(),r(16,"div",9)(17,"p",10),p(18,"Company"),i(),h(19,"p-dropdown",13),b(20,sl,3,1,"mat-error",12),i(),r(21,"div",9)(22,"p",10),p(23,"Customer ID"),i(),h(24,"input",14),i(),r(25,"div",9)(26,"p",15),p(27,"Customer Name"),i(),h(28,"input",16),b(29,pl,3,1,"mat-error",12),i(),r(30,"div",9)(31,"p",10),p(32,"Status"),i(),h(33,"p-dropdown",17),i(),r(34,"div",9)(35,"p",10),p(36,"Remark"),i(),h(37,"input",18),i()(),r(38,"div",19)(39,"button",20),v("click",function(){return a.add()}),h(40,"i",21),p(41,"Add Values"),i()(),r(42,"div",7)(43,"p-table",22),b(44,dl,13,0,"ng-template",23)(45,cl,27,8,"ng-template",24),i()()(),r(46,"div",25)(47,"button",26),p(48,"Cancel"),i(),r(49,"button",27),v("click",function(){return a.save()}),p(50),i()()()()()),t&2){let d;l(3),T("Customer - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(6),w(C(22,$t)),c("options",a.languageIdList)("disabled",!0)("panelStyle",C(23,$t)),l(),c("ngIf",a.errorHandling("languageId")),l(4),w(C(24,$t)),c("options",a.companyIdList)("disabled",!0)("panelStyle",C(25,$t)),l(),c("ngIf",a.errorHandling("companyId")),l(8),c("ngClass",(d=a.form.get("customerName"))!=null&&d.invalid&&a.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",a.errorHandling("customerName")),l(4),w(C(26,$t)),c("options",a.status),l(10),c("scrollable",!0)("value",a.customerArray),l(7),x(a.pageToken.pageflow!="New"?"Update":"Save")}},dependencies:[te,z,ke,X,oe,Zt,ae,K,L,ne,A,j,re,qe,le,Be,$e,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:1.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}.img-icon[_ngcontent-%COMP%]{gap:2rem}"]});let n=s;return n})();var Mt=()=>({width:"100%"}),Ni=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$,Xe,Ct,bt,wt,xi){this.dialogRef=e,this.data=t,this.cs=a,this.spin=d,this.route=m,this.router=_,this.path=I,this.fb=P,this.productService=N,this.messageService=$,this.cas=Xe,this.auth=Ct,this.subProductService=bt,this.customerService=wt,this.consignorService=xi,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId],languageDescription:[],companyId:[this.auth.companyId],companyName:[],subProductId:[],subProductName:[],subProductValue:[],productId:[],productName:[],customerId:[],customerName:[],consignorId:[],consignorName:[,S.required],remark:[],statusId:["16"],statusDescription:[],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[]}),this.submitted=!1,this.customerIdList=[],this.productIdList=[],this.subProductIdList=[],this.subProductValueList=[],this.status=[{value:"2",label:"Inactive"},{value:"1",label:"Active"}]}ngOnInit(){this.form.controls.customerId.patchValue(this.data),this.data.pageflow=="Edit"&&this.form.patchValue(this.data.code),this.customerDropdown()}save(){this.submitted=!0,this.dialogRef.close(this.form.value)}customerDropdown(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.customerIdList=[],this.spin.show(),this.customerService.search(e).subscribe({next:t=>{this.customerIdList=this.cas.foreachlist(t,{key:"customerId",value:"customerName"}),this.customerIdList=this.cs.removeDuplicatesFromArrayList(this.customerIdList,"value"),this.data.pageflow=="Edit"&&(this.productIdList=this.cas.foreachlist(t,{key:"productId",value:"productName"}),this.subProductIdList=this.cas.foreachlist(t,{key:"subProductId",value:"subProductName"})),console.log(this.customerIdList),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}customerChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.customerId=[this.form.controls.customerId.value],this.subProductIdList=[],this.spin.show(),this.customerService.search(e).subscribe({next:t=>{this.form.patchValue(t[0]),this.productIdList=this.cas.foreachlistWithoutKey(t,{key:"productId",value:"productName"}),this.subProductIdList=this.cas.foreachlistWithoutKey(t,{key:"subProductId",value:"subProductName"}),this.subProductValueList=this.cas.foreachlistWithoutKey(t,{key:"subProductValue",value:"subProductValue"}),this.productIdList=this.cs.removeDuplicatesFromArrayList(this.productIdList,"value"),this.subProductIdList=this.cs.removeDuplicatesFromArrayList(this.subProductIdList,"value"),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}subProductChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.subProductId=[this.form.controls.subProductId.value],this.subProductValueList=[],this.spin.show(),this.subProductService.search(e).subscribe({next:t=>{this.subProductValueList=this.cas.foreachlist(t,{key:"subProductValue",value:"referenceField1"}),this.subProductValueList=this.cs.removeDuplicatesFromArrayList(this.subProductValueList,"value"),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}subProductValueChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.subProductId=[this.form.controls.subProductId.value],e.subProductValue=[this.form.controls.subProductValue.value],this.spin.show(),this.subProductService.search(e).subscribe({next:t=>{this.form.patchValue(t[0]),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}};s.\u0275fac=function(t){return new(t||s)(u(ei),u(ti),u(U),u(G),u(ie),u(O),u(Q),u(W),u(Et),u(q),u(pe),u(k),u(St),u(_t),u(Bt))},s.\u0275cmp=R({type:s,selectors:[["app-consignor-value"]],decls:33,vars:33,consts:[[1,"bgWhite","text-black","w-93","h-100","m-4","mt-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],[1,"mt-4"],[3,"formGroup"],[1,"d-flex-row"],[1,"row"],["id","customerId",1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["placeholder","Select","filter","true","formControlName","customerId","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],["id","productId",1,"col-6","marginFieldNew","borderRadius12"],["placeholder","Select","filter","true","formControlName","productId","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],["id","subProductId",1,"col-6","marginFieldNew","borderRadius12"],["placeholder","Select","filter","true","formControlName","subProductId","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],["id","subProductValue",1,"col-6","marginFieldNew","borderRadius12"],["placeholder","Select","filter","true","formControlName","subProductValue","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["maxlength","50","pInputText","","formControlName","referenceField1","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","float-right","py-2",2,"position","absolute","right","3.5%","bottom","7%"],["mat-dialog-close","",1,"buttom1","textBlack","mx-1"],["type","button",1,"buttom1","bgBlack","text-white","mx-1",3,"click"]],template:function(t,a){if(t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3,"Add Consignor"),i()(),r(4,"div",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"p",8),p(10,"Customer"),i(),r(11,"p-dropdown",9),v("onChange",function(){return a.customerChanged()}),i()(),r(12,"div",10)(13,"p",8),p(14,"Product"),i(),r(15,"p-dropdown",11),v("onChange",function(){return a.subProductChanged()}),i()(),r(16,"div",12)(17,"p",8),p(18,"Sub Product"),i(),r(19,"p-dropdown",13),v("onChange",function(){return a.subProductChanged()}),i()(),r(20,"div",14)(21,"p",8),p(22,"Sub Product Value"),i(),r(23,"p-dropdown",15),v("onChange",function(){return a.subProductValueChanged()}),i()(),r(24,"div",16)(25,"p",17),p(26,"Value Description"),i(),h(27,"input",18),i()(),r(28,"div",19)(29,"button",20),p(30,"Cancel"),i(),r(31,"button",21),v("click",function(){return a.save()}),p(32,"Save"),i()()()()()()),t&2){let d,m,_,I;l(5),c("formGroup",a.form),l(6),w(C(25,Mt)),c("options",a.customerIdList)("ngClass",(d=a.form.get("customerId"))!=null&&d.invalid&&a.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",C(26,Mt)),l(4),w(C(27,Mt)),c("options",a.productIdList)("ngClass",(m=a.form.get("productId"))!=null&&m.invalid&&a.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",C(28,Mt)),l(4),w(C(29,Mt)),c("options",a.subProductIdList)("ngClass",(_=a.form.get("subProductId"))!=null&&_.invalid&&a.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",C(30,Mt)),l(4),w(C(31,Mt)),c("options",a.subProductValueList)("ngClass",(I=a.form.get("subProductValue"))!=null&&I.invalid&&a.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",C(32,Mt))}},dependencies:[te,ae,K,L,ne,A,j,re,ii,B,H],styles:[".deleteBody[_ngcontent-%COMP%]{font-family:Nunito;font-size:14px;font-weight:400;line-height:20.8px;text-align:center;color:#fffc;padding-bottom:1rem}.deleteHeader[_ngcontent-%COMP%]{font-family:Nunito;font-size:22px;font-weight:700;line-height:31.2px;text-align:left;padding-bottom:1rem}.cancelButton[_ngcontent-%COMP%]{padding:7px 25px;gap:10px;border-radius:6px;border:1px 0px 0px 0px;opacity:0px;background-color:var(--white);color:var(--black)}.saveButton[_ngcontent-%COMP%]{padding:7px 35px;gap:10px;border-radius:6px;opacity:0px;background-color:var(--overcOrange);color:var(--black)}  .mat-mdc-dialog-container .mdc-dialog__surface{border-radius:12px!important}.deleteDialog[_ngcontent-%COMP%]{padding:2rem 1rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 35rem);overflow-y:scroll}.circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:1.5rem}.img-icon[_ngcontent-%COMP%]{gap:2rem}"]});let n=s;return n})();var zt=()=>({width:"100%"}),ml=()=>({width:"180"});function ul(n,s){if(n&1&&(r(0,"mat-error",28)(1,"small"),p(2),i()()),n&2){let o=y();l(2),x(o.getErrorMessage())}}function hl(n,s){if(n&1&&(r(0,"mat-error",28)(1,"small"),p(2),i()()),n&2){let o=y();l(2),x(o.getErrorMessage())}}function gl(n,s){if(n&1&&(r(0,"mat-error",28)(1,"small"),p(2),i()()),n&2){let o=y();l(2),x(o.getErrorMessage())}}function fl(n,s){n&1&&(r(0,"tr")(1,"th"),p(2,"Customer"),i(),r(3,"th"),p(4,"Customer Name"),i(),r(5,"th"),p(6,"Product"),i(),r(7,"th"),p(8,"Product Name"),i(),r(9,"th"),p(10,"Sub Product"),i(),r(11,"th"),p(12,"Sub Product Name"),i(),r(13,"th"),p(14,"Sub Product Value"),i(),r(15,"th"),p(16,"Sub Product Value Description"),i(),r(17,"th"),p(18,"Actions"),i()())}function _l(n,s){if(n&1){let o=E();r(0,"tr")(1,"td")(2,"p",29),p(3),i()(),r(4,"td")(5,"p",29),p(6),i()(),r(7,"td")(8,"p",29),p(9),i()(),r(10,"td")(11,"p",29),p(12),i()(),r(13,"td")(14,"p",29),p(15),i()(),r(16,"td")(17,"p",29),p(18),i()(),r(19,"td")(20,"p",29),p(21),i()(),r(22,"td")(23,"p",29),p(24),i()(),r(25,"td",30)(26,"img",31),v("click",function(t){g(o);let a=V(28);return f(a.toggle(t))}),i(),r(27,"p-overlayPanel",null,0)(29,"div",32)(30,"button",33),v("click",function(){let t=g(o).rowIndex,a=V(28);return y().editItem("Edit",t),f(a.hide())}),h(31,"img",34),p(32,"Edit"),i(),r(33,"button",33),v("click",function(){let t=g(o).rowIndex,a=y();return f(a.removeItem(t))}),h(34,"img",35),p(35,"Delete"),i()()()()()}if(n&2){let o=s.$implicit;l(3),T("",o.customerId," "),l(3),T("",o.customerName," "),l(3),T("",o.productId," "),l(3),T("",o.productName," "),l(3),T("",o.subProductId," "),l(3),T("",o.subProductName," "),l(3),T("",o.subProductValue," "),l(3),T("",o.referenceField1," "),l(3),w(C(10,ml))}}var on=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$,Xe,Ct,bt,wt,xi){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.subProductService=P,this.numberRangeService=N,this.productService=$,this.customerService=Xe,this.messageService=Ct,this.cas=bt,this.auth=wt,this.dialog=xi,this.active=0,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId],languageDescription:[],companyId:[this.auth.companyId],companyName:[],subProductId:[],subProductName:[],subProductValue:[],productId:[],productName:[],customerId:[],customerName:[],consignorId:[],consignorName:[,S.required],remark:[],statusId:["16"],statusDescription:[],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[],this.subProductIdList=[],this.productIdList=[],this.customerIdList=[],this.consignorArray=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","Consignor",this.pageToken.pageflow];this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"?(this.fill(this.pageToken.line),this.form.controls.subProductId.disable(),this.form.controls.productId.disable(),this.form.controls.customerId.disable(),this.form.controls.consignorId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable()):this.checkNumberRange()}checkNumberRange(){this.spin.show();let e={};e.numberRangeObject=["CONSIGNOR"],this.numberRangeService.search(e).subscribe({next:t=>{t.length>0&&(this.nextNumber=Number(t[0].numberRangeCurrent)+1,this.form.controls.consignorId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.consignorId.disable()),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.subProduct.url,this.cas.dropdownlist.setup.product.url,this.cas.dropdownlist.setup.customer.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.subProductIdList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.subProduct.key),this.productIdList=this.cas.forLanguageFilter(e[3],this.cas.dropdownlist.setup.product.key),this.customerIdList=this.cas.forLanguageFilter(e[4],this.cas.dropdownlist.setup.customer.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}add(){this.dialog.open(Ni,{disableClose:!0,width:"70%",height:"50%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:this.consignorArray.length+1}).afterClosed().subscribe(t=>{t&&this.consignorArray.push(t)})}removeItem(e){this.consignorArray.splice(e,1)}fill(e){this.form.patchValue(e),this.spin.show();let t={};t.languageId=[this.auth.languageId],t.companyId=[this.auth.companyId],t.consignorId=[e.consignorId],this.service.search(t).subscribe({next:a=>{console.log(a),this.consignorArray=a,this.spin.hide()},error:a=>{this.spin.hide(),this.cs.commonerrorNew(a)}}),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.consignorArray.length==0){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.consignorArray.forEach(e=>{e.languageId=this.auth.languageId,e.companyId=this.auth.companyId,e.consignorId=this.form.controls.consignorId.value,e.consignorName=this.form.controls.consignorName.value,e.statusId=this.form.controls.statusId.value,e.remark=this.form.controls.remark.value}),this.service.UpdateBulk(this.consignorArray).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e[0].consignorId+" has been updated successfully"}),this.router.navigate(["/main/master/consignor"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.consignorArray.forEach(e=>{e.languageId=this.auth.languageId,e.companyId=this.auth.companyId,e.consignorId=this.form.controls.consignorId.value,e.consignorName=this.form.controls.consignorName.value,e.statusId=this.form.controls.statusId.value,e.remark=this.form.controls.remark.value}),this.service.CreateBulk(this.consignorArray).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e[0].consignorId+" has been created successfully"}),this.router.navigate(["/main/master/consignor"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}editItem(e,t){this.dialog.open(Ni,{disableClose:!0,width:"70%",height:"50%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{pageflow:e,code:this.consignorArray[t]}}).afterClosed().subscribe(d=>{d&&(this.consignorArray.splice(t,0),this.consignorArray.splice(t,1,d),console.log(d),this.consignorArray=[...this.consignorArray])})}subProductChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.subProductId=[this.form.controls.subProductId.value],this.productIdList=[],this.spin.show(),this.productService.search(e).subscribe({next:t=>{this.productIdList=this.cas.foreachlist(t,{key:"productId",value:"productName"}),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}productChanged(){let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],e.subProductId=[this.form.controls.subProductId.value],e.productId=[this.form.controls.productId.value],this.customerIdList=[],this.spin.show(),this.customerService.search(e).subscribe({next:t=>{this.customerIdList=this.cas.foreachlist(t,{key:"customerId",value:"customerName"}),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(Bt),u(St),u(ze),u(Et),u(_t),u(q),u(pe),u(k),u(se))},s.\u0275cmp=R({type:s,selectors:[["app-consignor-new"]],decls:51,vars:27,consts:[["op",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"mx-auto","mt-4"],[3,"formGroup"],[1,"d-flex-row"],[1,"row"],[1,"col-4","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","consignorId","pInputText","","placeholder","Enter",1,"w-100"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","100","pInputText","","formControlName","consignorName","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select ",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","justify-content-end","mb-3"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],["scrollHeight","calc(100vh - 31.8rem)",3,"scrollable","value"],["pTemplate","header"],["pTemplate","body"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/consignor",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"w-100","pl-2","ml-2"],["pFrozenColumn","","alignFrozen","right",2,"padding-left","1.5rem !important"],["type","button","src","./assets/common/actions.png","alt","","srcset","",2,"height","1.4rem",3,"click"],[1,"d-flex","flex-column"],["mat-menu-item","",1,"w-100",2,"width","8rem",3,"click"],["src","./assets/common/edit.png","srcset","",2,"padding-right","10px","width","2rem"],["src","./assets/common/deletetool.png","srcset","",2,"padding-right","10px","width","2rem"]],template:function(t,a){if(t&1&&(r(0,"div",1)(1,"div",2)(2,"p",3),p(3),i(),r(4,"div",2)(5,"button",4),p(6,"Transfer"),i()()(),r(7,"div",5)(8,"form",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"p",10),p(13,"Language"),i(),h(14,"p-dropdown",11),b(15,ul,3,1,"mat-error",12),i(),r(16,"div",9)(17,"p",10),p(18,"Company"),i(),h(19,"p-dropdown",13),b(20,hl,3,1,"mat-error",12),i(),r(21,"div",9)(22,"p",10),p(23,"Consignor ID"),i(),h(24,"input",14),i(),r(25,"div",9)(26,"p",15),p(27,"Consignor Name"),i(),h(28,"input",16),b(29,gl,3,1,"mat-error",12),i(),r(30,"div",9)(31,"p",10),p(32,"Status"),i(),h(33,"p-dropdown",17),i(),r(34,"div",9)(35,"p",10),p(36,"Remark"),i(),h(37,"input",18),i()(),r(38,"div",19)(39,"button",20),v("click",function(){return a.add()}),h(40,"i",21),p(41,"Add Values"),i()(),r(42,"div",7)(43,"p-table",22),b(44,fl,19,0,"ng-template",23)(45,_l,36,11,"ng-template",24),i()()(),r(46,"div",25)(47,"button",26),p(48,"Cancel"),i(),r(49,"button",27),v("click",function(){return a.save()}),p(50),i()()()()()),t&2){let d;l(3),T("Consignor - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(6),w(C(22,zt)),c("options",a.languageIdList)("disabled",!0)("panelStyle",C(23,zt)),l(),c("ngIf",a.errorHandling("languageId")),l(4),w(C(24,zt)),c("options",a.companyIdList)("disabled",!0)("panelStyle",C(25,zt)),l(),c("ngIf",a.errorHandling("companyId")),l(8),c("ngClass",(d=a.form.get("consignorName"))!=null&&d.invalid&&a.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",a.errorHandling("consignorName")),l(4),w(C(26,zt)),c("options",a.status),l(10),c("scrollable",!0)("value",a.consignorArray),l(7),x(a.pageToken.pageflow!="New"?"Update":"Save")}},dependencies:[te,z,ke,X,oe,Zt,ae,K,L,ne,A,j,re,qe,le,Be,$e,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:1.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}.img-icon[_ngcontent-%COMP%]{gap:2rem}"]});let n=s;return n})();var vl=["consignor"],yl=()=>({width:"80vw"}),ht=()=>({width:"100%"}),Cl=()=>({width:"100rem"});function bl(n,s){if(n&1&&(r(0,"th",40),p(1),h(2,"p-sortIcon",41),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function wl(n,s){if(n&1&&(r(0,"tr")(1,"th",37),h(2,"p-tableHeaderCheckbox",38),i(),b(3,bl,3,3,"th",39),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function xl(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function Il(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y().$implicit,e=y().$implicit;T(" ",Ee(1,1,e[o.field],"dd-MM-yyyy HH:mm")," ")}}function Sl(n,s){if(n&1&&(r(0,"td"),b(1,xl,2,1,"ng-container",45)(2,Il,2,4,"ng-template",null,2,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function El(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",42)(2,"p-checkbox",43),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedConsignor,t)||(a.selectedConsignor=t),f(t)}),i()(),b(3,Sl,4,2,"td",44),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedConsignor[0]===o),l(2),F("ngModel",t.selectedConsignor),c("value",o),l(),c("ngForOf",e)}}function Tl(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",46),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}var ln=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.fb=P,this.auth=N,this.spin=$,this.consignorTable=[],this.selectedConsignor=[],this.cols=[],this.target=[],this.searchform=this.fb.group({subProductId:[],subProductValue:[],productId:[],customerId:[],consignorId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={subProductId:"Sub Product",subProductValue:"Sub Product Value",productId:"Product",customerId:"Customer",consignorId:"Consignor",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.subProductDropdown=[],this.subProductValueDropdown=[],this.productDropdown=[],this.customerDropdown=[],this.consignorDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Master","Consignor"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"consignorId",header:"Consignor ID"},{field:"consignorName",header:"Consignor Name"},{field:"subProductName",header:"Sub Product"},{field:"productName",header:"Product"},{field:"customerName",header:"Customer"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remarks"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"subProductId",header:"Sub Product ID"},{field:"productId",header:"Product ID"},{field:"customerId",header:"Customer ID"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),t=this.cs.removeDuplicatesFromArrayList(t,"consignorId"),this.consignorTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedConsignor[this.selectedConsignor.length-1];this.selectedConsignor.length=0,this.selectedConsignor.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedConsignor[0])})}openCrud(e="New",t=null){if(this.selectedConsignor.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedConsignor[0],pageflow:e});this.router.navigate(["/main/master/consignor-new/"+a])}}deleteDialog(){if(this.selectedConsignor.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedConsignor,module:"Consignor",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{if(t){let a={};a.languageId=[this.auth.languageId],a.companyId=[this.auth.companyId],a.consignorId=[this.selectedConsignor[0].consignorId],this.service.search(a).subscribe({next:d=>{console.log(d),this.deleterecord(d)},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}})}deleterecord(e){this.spin.show(),this.service.DeleteBulk(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e[0].consignorId+" Deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.consignorTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="date"?(console.log(3),a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"Consignor")}getSearchDropdown(){this.consignorTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.subProductId!=null&&(this.subProductDropdown.push({value:e.subProductId,label:e.subProductName}),this.subProductDropdown=this.cs.removeDuplicatesFromArrayList(this.subProductDropdown,"value")),e.subProductValue!=null&&(this.subProductValueDropdown.push({value:e.subProductValue,label:e.referenceField1}),this.subProductValueDropdown=this.cs.removeDuplicatesFromArrayList(this.subProductValueDropdown,"value")),e.productId!=null&&(this.productDropdown.push({value:e.productId,label:e.productName}),this.productDropdown=this.cs.removeDuplicatesFromArrayList(this.productDropdown,"value")),e.customerId!=null&&(this.customerDropdown.push({value:e.customerId,label:e.customerName}),this.customerDropdown=this.cs.removeDuplicatesFromArrayList(this.customerDropdown,"value")),e.customerId!=null&&(this.customerDropdown.push({value:e.customerId,label:e.customerName}),this.customerDropdown=this.cs.removeDuplicatesFromArrayList(this.customerDropdown,"value")),e.consignorId!=null&&(this.consignorDropdown.push({value:e.consignorId,label:e.consignorName}),this.consignorDropdown=this.cs.removeDuplicatesFromArrayList(this.consignorDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.consignorTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({subProductId:[],subProductValue:[],productId:[],customerId:[],consignorId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(Bt),u(se),u(Y),u(W),u(k),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-consignor"]],viewQuery:function(t,a){if(t&1&&we(vl,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:59,vars:52,consts:[["consignor",""],["consignorTag",""],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","consignorId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","customerId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","productId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","subProductId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","subProductValue","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"]],template:function(t,a){if(t&1){let d=E();r(0,"div",3)(1,"div",4)(2,"p",5),p(3,"Consignor "),i(),r(4,"div",4)(5,"img",6),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",7),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",8),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",9),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",10),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",11),p(11," Add New"),i()()(),r(12,"div",12)(13,"p-iconField",13)(14,"p-inputIcon",14),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",15),v("input",function(_){g(d);let I=V(55);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",16,0)(18,"form",17)(19,"div",18)(20,"div",19)(21,"p",20),p(22,"Consignor"),i(),h(23,"p-multiSelect",21),i(),r(24,"div",19)(25,"p",20),p(26,"Customer"),i(),h(27,"p-multiSelect",22),i(),r(28,"div",19)(29,"p",20),p(30,"Product"),i(),h(31,"p-multiSelect",23),i(),r(32,"div",19)(33,"p",20),p(34,"Sub Product"),i(),h(35,"p-multiSelect",24),i(),r(36,"div",19)(37,"p",20),p(38,"Sub Product Value"),i(),h(39,"p-multiSelect",25),i(),r(40,"div",19)(41,"p",20),p(42,"Status"),i(),h(43,"p-multiSelect",26),i()(),r(44,"div",27)(45,"div")(46,"img",28),v("click",function(){return g(d),f(a.reset())}),i()(),r(47,"div")(48,"button",29),v("click",function(){return g(d),f(a.closeOverLay())}),p(49,"Cancel"),i(),r(50,"button",30),v("click",function(){return g(d),f(a.search())}),p(51,"Apply"),i()()()()(),r(52,"p-chips",31),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(53,"div",32)(54,"p-table",33,1),b(56,wl,4,2,"ng-template",34)(57,El,4,5,"ng-template",35)(58,Tl,4,1,"ng-template",36),i()()()}t&2&&(l(16),w(C(38,yl)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(39,ht)),c("options",a.consignorDropdown)("panelStyle",C(40,ht)),l(4),w(C(41,ht)),c("options",a.customerDropdown)("panelStyle",C(42,ht)),l(4),w(C(43,ht)),c("options",a.productDropdown)("panelStyle",C(44,ht)),l(4),w(C(45,ht)),c("options",a.subProductDropdown)("panelStyle",C(46,ht)),l(4),w(C(47,ht)),c("options",a.subProductValueDropdown)("panelStyle",C(48,ht)),l(4),w(C(49,ht)),c("options",a.statusDropdown)("panelStyle",C(50,ht)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.consignorTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(51,Cl)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,B,H,Y],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=s;return n})();var mi=(()=>{let s=class s{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/currencyExchangeRate/"+e)}Create(e){return this.http.post("/overc-idmaster-service/currencyExchangeRate",e)}Update(e){return this.http.patch("/overc-idmaster-service/currencyExchangeRate/"+e.fromCurrencyId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId+"&toCurrencyId="+e.toCurrencyId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/currencyExchangeRate/"+e.fromCurrencyId+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId+"&toCurrencyId="+e.toCurrencyId)}search(e){return this.http.post("/overc-idmaster-service/currencyExchangeRate/find",e)}};s.\u0275fac=function(t){return new(t||s)(ee(Qe),ee(k))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var xt=()=>({width:"100%"});function Nl(n,s){n&1&&(r(0,"p",15),p(1,"1"),i())}function kl(n,s){n&1&&h(0,"img",16)}function Fl(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11),b(2,Nl,2,0,"p",12)(3,kl,1,0,"img",13),i(),r(4,"div")(5,"p",14),p(6,"General"),i()()()}if(n&2){let o=y();l(2),c("ngIf",o.active==0),l(),c("ngIf",o.active!=0)}}function Ml(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Dl(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Pl(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Vl(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Rl(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Ol(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Al(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function jl(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Ll(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Language"),i(),h(4,"p-dropdown",20),b(5,Ml,3,1,"mat-error",21),i(),r(6,"div",18)(7,"p",19),p(8,"Company"),i(),h(9,"p-dropdown",22),b(10,Dl,3,1,"mat-error",21),i(),r(11,"div",18)(12,"p",23),p(13,"From Currency ID"),i(),h(14,"p-dropdown",24),b(15,Pl,3,1,"mat-error",21),i(),r(16,"div",18)(17,"p",23),p(18,"To Currency ID"),i(),h(19,"p-dropdown",25),b(20,Vl,3,1,"mat-error",21),i(),r(21,"div",18)(22,"p",23),p(23,"From Currency Desciption"),i(),h(24,"input",26),b(25,Rl,3,1,"mat-error",21),i(),r(26,"div",18)(27,"p",23),p(28,"To Currency Desciption"),i(),h(29,"input",27),b(30,Ol,3,1,"mat-error",21),i(),r(31,"div",18)(32,"p",23),p(33,"From Currency Value"),i(),h(34,"input",28),b(35,Al,3,1,"mat-error",21),i(),r(36,"div",18)(37,"p",23),p(38,"To Currency Value"),i(),h(39,"input",29),b(40,jl,3,1,"mat-error",21),i(),r(41,"div",18)(42,"p",19),p(43,"Remark"),i(),h(44,"input",30),i(),r(45,"div",18)(46,"p",19),p(47,"Status"),i(),h(48,"p-dropdown",31),i()(),r(49,"div",32)(50,"button",33),p(51,"Cancel"),i(),r(52,"button",34),v("click",function(){g(o);let t=y();return f(t.save())}),p(53),i()()}if(n&2){let o,e,t,a,d,m,_=y();l(4),w(C(38,xt)),c("options",_.languageIdList)("disabled",!0)("panelStyle",C(39,xt)),l(),c("ngIf",_.errorHandling("languageId")),l(4),w(C(40,xt)),c("options",_.companyIdList)("disabled",!0)("panelStyle",C(41,xt)),l(),c("ngIf",_.errorHandling("companyId")),l(4),w(C(42,xt)),c("options",_.currencyIdList)("disabled",!0)("panelStyle",C(43,xt))("ngClass",(o=_.form.get("fromCurrencyId"))!=null&&o.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("fromCurrencyId")),l(4),w(C(44,xt)),c("options",_.currencyIdList)("disabled",!0)("panelStyle",C(45,xt))("ngClass",(e=_.form.get("toCurrencyId"))!=null&&e.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("toCurrencyId")),l(4),c("ngClass",(t=_.form.get("fromCurrencyDescription"))!=null&&t.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("toCurrencyId")),l(4),c("ngClass",(a=_.form.get("toCurrencyDescription"))!=null&&a.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("toCurrencyDescription")),l(4),c("ngClass",(d=_.form.get("fromCurrencyValue"))!=null&&d.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("fromCurrencyValue")),l(4),c("ngClass",(m=_.form.get("toCurrencyValue"))!=null&&m.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("toCurrencyValue")),l(8),w(C(46,xt)),c("options",_.status),l(5),x(_.pageToken.pageflow!="New"?"Update":"Save")}}function Bl(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11)(2,"p",36),p(3," 2"),i()(),r(4,"div")(5,"p",37),p(6," Admin"),i()()()}if(n&2){let o=y(2);l(2),c("ngClass",o.active==2?"borderCircle":"disabled text-muted"),l(3),c("ngClass",o.active==2?"textBlack f600":"text-muted")}}function Hl(n,s){if(n&1){let o=E();r(0,"div",38)(1,"div",18)(2,"p",19),p(3,"Created By"),i(),h(4,"input",39),i(),r(5,"div",18)(6,"p",19),p(7,"Created On"),i(),h(8,"input",40),i(),r(9,"div",18)(10,"p",19),p(11,"Updated By"),i(),h(12,"input",41),i(),r(13,"div",18)(14,"p",19),p(15,"Updated On"),i(),h(16,"input",42),i()(),r(17,"div",32)(18,"button",43),v("click",function(){let t=g(o).prevCallback;return f(t.emit())}),p(19,"Back"),i(),r(20,"button",34),v("click",function(){g(o);let t=y(2);return f(t.save())}),p(21),i()()}if(n&2){let o=y(2);l(21),x(o.pageToken.pageflow!="New"?"Update":"Save")}}function Wl(n,s){n&1&&(r(0,"p-stepperPanel"),b(1,Bl,7,2,"ng-template",7)(2,Hl,22,1,"ng-template",8),i())}var pn=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$,Xe){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.numberRangeService=P,this.messageService=N,this.cas=$,this.auth=Xe,this.active=0,this.status=[],this.form=this.fb.group({fromCurrencyId:[,S.required],fromCurrencyDescription:[,S.required],fromCurrencyValue:[,S.required],toCurrencyId:[,S.required],toCurrencyDescription:[,S.required],toCurrencyValue:[,S.required],languageId:[this.auth.languageId,S.required],languageDescription:[],companyId:[this.auth.companyId,S.required],companyName:[],statusDescription:[],createdOn:[],createdBy:[],updatedBy:[],updatedOn:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],remark:[],statusId:["16"]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[],this.currencyIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","Exchange Rate",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.fromCurrencyId.disable(),this.form.controls.toCurrencyId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let a={};a.numberRangeObject=["CURRENCYEXCHANGERATE"],this.numberRangeService.search(a).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.fromCurrencyId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.fromCurrencyId.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.currency.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.currencyIdList=this.cas.foreachlist(e[2],this.cas.dropdownlist.setup.currency.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e)}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:"CurrencyExchangeRate has been updated successfully"}),this.router.navigate(["/main/master/currencyExchangeRate"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:" CurrencyExchangeRate has been created successfully"}),this.router.navigate(["/main/master/currencyExchangeRate"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(mi),u(ze),u(q),u(pe),u(k))},s.\u0275cmp=R({type:s,selectors:[["app-currency-exchange-rate-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["placeholder","Select","filter","true","formControlName","fromCurrencyId","appendTo","body","placeholder","Select","filter","true",3,"options","disabled","panelStyle","ngClass"],["placeholder","Select","filter","true","formControlName","toCurrencyId","appendTo","body","placeholder","Select","filter","true",3,"options","disabled","panelStyle","ngClass"],["maxlength","100","pInputText","","formControlName","fromCurrencyDescription","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","formControlName","toCurrencyDescription","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","num","formControlName","fromCurrencyValue","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","pKeyFilter","num","formControlName","toCurrencyValue","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],["appendTo","body","formControlName","statusId","placeholder","Select",3,"options"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/currencyExchangeRate",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3),i(),r(4,"div",1)(5,"button",3),p(6,"Transfer"),i()()(),r(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(m){return M(a.active,m)||(a.active=m),m}),r(10,"p-stepperPanel"),b(11,Fl,7,2,"ng-template",7)(12,Ll,54,47,"ng-template",8),i(),b(13,Wl,3,0,"p-stepperPanel",9),i()()()()),t&2&&(l(3),T("Exchange Rate - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(),F("activeStep",a.active),l(4),c("ngIf",a.pageToken.pageflow!="New"))},dependencies:[te,z,ke,X,ae,K,Ue,Ge,L,ne,A,j,re,qe,Be,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var ql=["currencyExchangeRate"],Gl=()=>({width:"80vw"}),Gt=()=>({width:"100%"}),Ul=()=>({width:"100rem"});function Kl(n,s){if(n&1&&(r(0,"th",40),p(1),h(2,"p-sortIcon",41),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function Ql(n,s){if(n&1&&(r(0,"tr")(1,"th",37),h(2,"p-tableHeaderCheckbox",38),i(),b(3,Kl,3,3,"th",39),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function $l(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function zl(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y(2).$implicit;T(" ",Ee(1,1,o.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Xl(n,s){if(n&1&&(r(0,"td"),b(1,$l,2,1,"ng-container",45)(2,zl,2,4,"ng-template",null,3,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function Yl(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",42)(2,"p-checkbox",43),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedCurrencyExchangeRate,t)||(a.selectedCurrencyExchangeRate=t),f(t)}),i()(),b(3,Xl,4,2,"td",44),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedCurrencyExchangeRate[0]===o),l(2),F("ngModel",t.selectedCurrencyExchangeRate),c("value",o),l(),c("ngForOf",e)}}function Jl(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",46),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}function Zl(n,s){n&1&&(r(0,"button",47),p(1,"Edit"),i(),r(2,"button",47),p(3,"Confirm"),i())}var dn=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.auth=P,this.fb=N,this.spin=$,this.currencyExchangeRateTable=[],this.selectedCurrencyExchangeRate=[],this.cols=[],this.target=[],this.searchform=this.fb.group({fromCurrencyId:[],toCurrencyId:[],statusId:[]}),this.fieldDisplayNames={fromCurrencyId:"From Currency",toCurrencyId:"To Currency",statusId:"Status"},this.fromCurrencyDropdown=[],this.toCurrencyDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Master","Exchange Rate"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"fromCurrencyId",header:"From Currency"},{field:"toCurrencyId",header:"To Currency"},{field:"fromCurrencyValue",header:"From Currency Value"},{field:"toCurrencyValue",header:"To Currency Value"},{field:"statusDescription",header:"Status"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"companyId",header:"Company ID"},{field:"statusId",header:"Status ID"},{field:"remark",header:"Remark"},{field:"languageDescription",header:"Language"},{field:"fromCurrencyDescription",header:"From Currency Description"},{field:"toCurrencyDescription",header:"To Currency Description"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.currencyExchangeRateTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedCurrencyExchangeRate[this.selectedCurrencyExchangeRate.length-1];this.selectedCurrencyExchangeRate.length=0,this.selectedCurrencyExchangeRate.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedCurrencyExchangeRate[0])})}openCrud(e="New",t=null){if(this.selectedCurrencyExchangeRate.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedCurrencyExchangeRate[0],pageflow:e});this.router.navigate(["/main/master/currencyExchangeRate-new/"+a])}}deleteDialog(){if(this.selectedCurrencyExchangeRate.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedCurrencyExchangeRate,module:"Exchange Rate",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedCurrencyExchangeRate[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:"CurrencyExchangeRate deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.currencyExchangeRateTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="date"?a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy"):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"Currency Exchange Rate")}getSearchDropdown(){this.currencyExchangeRateTable.forEach(e=>{e.fromCurrencyId!=null&&(this.fromCurrencyDropdown.push({value:e.fromCurrencyId,label:e.fromCurrencyDescription}),this.fromCurrencyDropdown=this.cs.removeDuplicatesFromArrayList(this.fromCurrencyDropdown,"value")),e.toCurrencyId!=null&&(this.toCurrencyDropdown.push({value:e.toCurrencyId,label:e.toCurrencyDescription}),this.toCurrencyDropdown=this.cs.removeDuplicatesFromArrayList(this.fromCurrencyDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.currencyExchangeRateTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({fromCurrencyId:[],toCurrencyId:[],statusId:[]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(mi),u(se),u(Y),u(k),u(W),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-currency-exchange-rate"]],viewQuery:function(t,a){if(t&1&&we(ql,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:50,vars:34,consts:[["currencyExchangeRate",""],["currencyExchangeRateTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","fromCurrencyId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","toCurrencyId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,a){if(t&1){let d=E();r(0,"div",4)(1,"div",5)(2,"p",6),p(3,"Exchange Rate "),i(),r(4,"div",5)(5,"img",7),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",8),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",9),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",10),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",11),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",12),p(11," Add New"),i()()(),r(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",16),v("input",function(_){g(d);let I=V(43);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),p(22,"From Currency"),i(),h(23,"p-multiSelect",22),i(),r(24,"div",20)(25,"p",21),p(26,"To Currency"),i(),h(27,"p-multiSelect",23),i(),r(28,"div",20)(29,"p",21),p(30,"Status"),i(),h(31,"p-multiSelect",24),i()(),r(32,"div",25)(33,"div")(34,"img",26),v("click",function(){return g(d),f(a.reset())}),i()(),r(35,"div")(36,"button",27),v("click",function(){return g(d),f(a.closeOverLay())}),p(37,"Cancel"),i(),r(38,"button",28),v("click",function(){return g(d),f(a.search())}),p(39,"Apply"),i()()()()(),r(40,"p-chips",29),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(41,"div",30)(42,"p-table",31,1),b(44,Ql,4,2,"ng-template",32)(45,Yl,4,5,"ng-template",33)(46,Jl,4,1,"ng-template",34),i()()(),r(47,"mat-menu",35,2),b(49,Zl,4,0,"ng-template",36),i()}t&2&&(l(16),w(C(26,Gl)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(27,Gt)),c("options",a.fromCurrencyDropdown)("panelStyle",C(28,Gt)),l(4),w(C(29,Gt)),c("options",a.toCurrencyDropdown)("panelStyle",C(30,Gt)),l(4),w(C(31,Gt)),c("options",a.statusDropdown)("panelStyle",C(32,Gt)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.currencyExchangeRateTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(33,Ul)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,Je,$e,Ye,B,H,Y],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=s;return n})();var ui=(()=>{let s=class s{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/event/"+e)}Create(e){return this.http.post("/overc-idmaster-service/event",e)}Update(e){return this.http.patch("/overc-idmaster-service/event/"+e.eventCode+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/event/"+e.eventCode+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId)}search(e){return this.http.post("/overc-idmaster-service/event/find",e)}};s.\u0275fac=function(t){return new(t||s)(ee(Qe),ee(k))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var Ut=()=>({width:"100%"});function es(n,s){n&1&&(r(0,"p",15),p(1,"1"),i())}function ts(n,s){n&1&&h(0,"img",16)}function is(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11),b(2,es,2,0,"p",12)(3,ts,1,0,"img",13),i(),r(4,"div")(5,"p",14),p(6,"General"),i()()()}if(n&2){let o=y();l(2),c("ngIf",o.active==0),l(),c("ngIf",o.active!=0)}}function ns(n,s){if(n&1&&(r(0,"mat-error",31)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function rs(n,s){if(n&1&&(r(0,"mat-error",31)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function as(n,s){if(n&1&&(r(0,"mat-error",31)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function os(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Language"),i(),h(4,"p-dropdown",20),b(5,ns,3,1,"mat-error",21),i(),r(6,"div",18)(7,"p",19),p(8,"Company"),i(),h(9,"p-dropdown",22),b(10,rs,3,1,"mat-error",21),i(),r(11,"div",18)(12,"p",19),p(13,"Op Status"),i(),h(14,"p-dropdown",23),i(),r(15,"div",18)(16,"p",19),p(17,"Event Code"),i(),h(18,"input",24),i(),r(19,"div",18)(20,"p",25),p(21,"Event Name"),i(),h(22,"input",26),b(23,as,3,1,"mat-error",21),i(),r(24,"div",18)(25,"p",19),p(26,"Remark"),i(),h(27,"input",27),i()(),r(28,"div",28)(29,"button",29),p(30,"Cancel"),i(),r(31,"button",30),v("click",function(){g(o);let t=y();return f(t.save())}),p(32),i()()}if(n&2){let o,e=y();l(4),w(C(20,Ut)),c("options",e.languageIdList)("disabled",!0)("panelStyle",C(21,Ut)),l(),c("ngIf",e.errorHandling("languageId")),l(4),w(C(22,Ut)),c("options",e.companyIdList)("disabled",!0)("panelStyle",C(23,Ut)),l(),c("ngIf",e.errorHandling("companyId")),l(4),w(C(24,Ut)),c("options",e.statusCodeList)("disabled",!0)("panelStyle",C(25,Ut)),l(8),c("ngClass",(o=e.form.get("eventDescription"))!=null&&o.invalid&&e.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",e.errorHandling("eventDescription")),l(9),x(e.pageToken.pageflow!="New"?"Update":"Save")}}function ls(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11)(2,"p",32),p(3," 2"),i()(),r(4,"div")(5,"p",33),p(6," Admin"),i()()()}if(n&2){let o=y(2);l(2),c("ngClass",o.active==2?"borderCircle":"disabled text-muted"),l(3),c("ngClass",o.active==2?"textBlack f600":"text-muted")}}function ss(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Created By"),i(),h(4,"input",34),i(),r(5,"div",18)(6,"p",19),p(7,"Created On"),i(),h(8,"input",35),i(),r(9,"div",18)(10,"p",19),p(11,"Updated By"),i(),h(12,"input",36),i(),r(13,"div",18)(14,"p",19),p(15,"Updated On"),i(),h(16,"input",37),i()(),r(17,"div",28)(18,"button",38),v("click",function(){let t=g(o).prevCallback;return f(t.emit())}),p(19,"Back"),i(),r(20,"button",30),v("click",function(){g(o);let t=y(2);return f(t.save())}),p(21),i()()}if(n&2){let o=y(2);l(21),x(o.pageToken.pageflow!="New"?"Update":"Save")}}function ps(n,s){n&1&&(r(0,"p-stepperPanel"),b(1,ls,7,2,"ng-template",7)(2,ss,22,1,"ng-template",8),i())}var mn=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$,Xe){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.messageService=P,this.numberRangeService=N,this.auth=$,this.cas=Xe,this.active=0,this.status=[],this.form=this.fb.group({eventCode:[],eventDescription:[,S.required],statusCode:[],opStatusDescription:[],languageId:[this.auth.languageId,S.required],languageDescription:[],companyId:[this.auth.companyId,S.required],companyName:[],remark:[],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[],this.statusCodeList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","Event",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.eventCode.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let a={};a.numberRangeObject=["EVENT"],this.numberRangeService.search(a).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.eventCode.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.eventCode.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.opStatus.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.statusCodeList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.opStatus.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.eventCode+" has been updated successfully"}),this.router.navigate(["/main/master/event"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.eventCode+" has been created successfully"}),this.router.navigate(["/main/master/event"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(ui),u(q),u(ze),u(k),u(pe))},s.\u0275cmp=R({type:s,selectors:[["app-event-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["placeholder","Select","filter","true","formControlName","statusCode","appendTo","body",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","eventCode","pInputText","","placeholder","Enter"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","100","pInputText","","formControlName","eventDescription","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/event",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3),i(),r(4,"div",1)(5,"button",3),p(6,"Transfer"),i()()(),r(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(m){return M(a.active,m)||(a.active=m),m}),r(10,"p-stepperPanel"),b(11,is,7,2,"ng-template",7)(12,os,33,26,"ng-template",8),i(),b(13,ps,3,0,"p-stepperPanel",9),i()()()()),t&2&&(l(3),T("Event - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(),F("activeStep",a.active),l(4),c("ngIf",a.pageToken.pageflow!="New"))},dependencies:[te,z,ke,X,ae,K,Ue,Ge,L,ne,A,j,re,qe,Be,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}"]});let n=s;return n})();var ds=["event"],cs=()=>({width:"80vw"}),hi=()=>({width:"100%"}),ms=()=>({width:"100rem"});function us(n,s){if(n&1&&(r(0,"th",39),p(1),h(2,"p-sortIcon",40),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function hs(n,s){if(n&1&&(r(0,"tr")(1,"th",36),h(2,"p-tableHeaderCheckbox",37),i(),b(3,us,3,3,"th",38),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function gs(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function fs(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y(2).$implicit;T(" ",Ee(1,1,o.createdOn,"dd-MM-yyyy HH:mm")," ")}}function _s(n,s){if(n&1&&(r(0,"td"),b(1,gs,2,1,"ng-container",44)(2,fs,2,4,"ng-template",null,3,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function vs(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",41)(2,"p-checkbox",42),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedEvent,t)||(a.selectedEvent=t),f(t)}),i()(),b(3,_s,4,2,"td",43),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedEvent[0]===o),l(2),F("ngModel",t.selectedEvent),c("value",o),l(),c("ngForOf",e)}}function ys(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",45),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}function Cs(n,s){n&1&&(r(0,"button",46),p(1,"Edit"),i(),r(2,"button",46),p(3,"Confirm"),i())}var un=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.auth=P,this.fb=N,this.spin=$,this.eventTable=[],this.selectedEvent=[],this.cols=[],this.target=[],this.searchform=this.fb.group({statusCode:[],eventCode:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={eventCode:"Event",statusCode:"OP Status"},this.languageDropdown=[],this.companyDropdown=[],this.statusCodeDropdown=[],this.eventCodeDropdown=[]}ngOnInit(){let e=["Master","Event"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"eventCode",header:"Event ID"},{field:"eventDescription",header:"Event Name"},{field:"opStatusDescription",header:"Op Status"},{field:"remark",header:"Remark"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"statusCode",header:"Status Code"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.eventTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedEvent[this.selectedEvent.length-1];this.selectedEvent.length=0,this.selectedEvent.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedEvent[0])})}openCrud(e="New",t=null){if(this.selectedEvent.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedEvent[0],pageflow:e});this.router.navigate(["/main/master/event-new/"+a])}}deleteDialog(){if(this.selectedEvent.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedEvent,module:"Event",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedEvent[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.eventCode+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.eventTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="date"?(console.log(3),a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"Event")}getSearchDropdown(){this.eventTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.statusCode!=null&&(this.statusCodeDropdown.push({value:e.statusCode,label:e.opStatusDescription}),this.statusCodeDropdown=this.cs.removeDuplicatesFromArrayList(this.statusCodeDropdown,"value")),e.eventCode!=null&&(this.eventCodeDropdown.push({value:e.eventCode,label:e.eventDescription}),this.eventCodeDropdown=this.cs.removeDuplicatesFromArrayList(this.eventCodeDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.eventTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({statusCode:[],eventCode:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(ui),u(se),u(Y),u(k),u(W),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-event"]],viewQuery:function(t,a){if(t&1&&we(ds,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:46,vars:28,consts:[["event",""],["EventTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","eventCode","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusCode","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,a){if(t&1){let d=E();r(0,"div",4)(1,"div",5)(2,"p",6),p(3,"Event "),i(),r(4,"div",5)(5,"img",7),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",8),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",9),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",10),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",11),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",12),p(11," Add New"),i()()(),r(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",16),v("input",function(_){g(d);let I=V(39);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),p(22,"Event"),i(),h(23,"p-multiSelect",22),i(),r(24,"div",20)(25,"p",21),p(26,"OP Status"),i(),h(27,"p-multiSelect",23),i()(),r(28,"div",24)(29,"div")(30,"img",25),v("click",function(){return g(d),f(a.reset())}),i()(),r(31,"div")(32,"button",26),v("click",function(){return g(d),f(a.closeOverLay())}),p(33,"Cancel"),i(),r(34,"button",27),v("click",function(){return g(d),f(a.search())}),p(35,"Apply"),i()()()()(),r(36,"p-chips",28),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(37,"div",29)(38,"p-table",30,1),b(40,hs,4,2,"ng-template",31)(41,vs,4,5,"ng-template",32)(42,ys,4,1,"ng-template",33),i()()(),r(43,"mat-menu",34,2),b(45,Cs,4,0,"ng-template",35),i()}t&2&&(l(16),w(C(22,cs)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(23,hi)),c("options",a.eventCodeDropdown)("panelStyle",C(24,hi)),l(4),w(C(25,hi)),c("options",a.statusCodeDropdown)("panelStyle",C(26,hi)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.eventTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(27,ms)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,Je,$e,Ye,B,H,Y],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=s;return n})();var gi=(()=>{let s=class s{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/hsCode/"+e+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId)}Create(e){return this.http.post("/overc-idmaster-service/hsCode",e)}Update(e){return this.http.patch("/overc-idmaster-service/hsCode/"+e.hsCode+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/hsCode/"+e+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId)}search(e){return this.http.post("/overc-idmaster-service/hsCode/find",e)}};s.\u0275fac=function(t){return new(t||s)(ee(Qe),ee(k))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var jt=()=>({width:"100%"});function bs(n,s){n&1&&(r(0,"p",15),p(1,"1"),i())}function ws(n,s){n&1&&h(0,"img",16)}function xs(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11),b(2,bs,2,0,"p",12)(3,ws,1,0,"img",13),i(),r(4,"div")(5,"p",14),p(6,"General"),i()()()}if(n&2){let o=y();l(2),c("ngIf",o.active==0),l(),c("ngIf",o.active!=0)}}function Is(n,s){if(n&1&&(r(0,"mat-error",32)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Ss(n,s){if(n&1&&(r(0,"mat-error",32)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Es(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Language"),i(),h(4,"p-dropdown",20),b(5,Is,3,1,"mat-error",21),i(),r(6,"div",18)(7,"p",19),p(8,"Company"),i(),h(9,"p-dropdown",22),b(10,Ss,3,1,"mat-error",21),i(),r(11,"div",18)(12,"p",23),p(13,"HS Code"),i(),h(14,"input",24),i(),r(15,"div",18)(16,"p",19),p(17,"Item Group"),i(),h(18,"input",25),i(),r(19,"div",18)(20,"p",19),p(21,"Special Approval"),i(),h(22,"p-dropdown",26),i(),r(23,"div",18)(24,"p",19),p(25,"Status"),i(),h(26,"p-dropdown",27),i(),r(27,"div",18)(28,"p",19),p(29,"Remark"),i(),h(30,"input",28),i()(),r(31,"div",29)(32,"button",30),p(33,"Cancel"),i(),r(34,"button",31),v("click",function(){g(o);let t=y();return f(t.save())}),p(35),i()()}if(n&2){let o,e,t,a=y();l(4),w(C(23,jt)),c("options",a.languageIdList)("disabled",!0)("panelStyle",C(24,jt)),l(),c("ngIf",a.errorHandling("languageId")),l(4),w(C(25,jt)),c("options",a.companyIdList)("disabled",!0)("panelStyle",C(26,jt)),l(),c("ngIf",a.errorHandling("companyId")),l(4),c("ngClass",(o=a.form.get("hsCode"))!=null&&o.invalid&&a.submitted?"ng-invalid ng-dirty":""),l(4),c("ngClass",(e=a.form.get("itemGroup"))!=null&&e.invalid&&((e=a.form.get("itemGroup"))!=null&&e.dirty)?"invalid":""),l(4),w(C(27,jt)),c("options",a.specialApprovalIdList)("ngClass",(t=a.form.get("specialApprovalId"))!=null&&t.invalid&&a.submitted?"ng-invalid ng-dirty":"")("panelStyle",C(28,jt)),l(4),w(C(29,jt)),c("options",a.status),l(9),x(a.pageToken.pageflow!="New"?"Update":"Save")}}function Ts(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11)(2,"p",33),p(3," 2"),i()(),r(4,"div")(5,"p",34),p(6," Admin"),i()()()}if(n&2){let o=y(2);l(2),c("ngClass",o.active==2?"borderCircle":"disabled text-muted"),l(3),c("ngClass",o.active==2?"textBlack f600":"text-muted")}}function Ns(n,s){if(n&1){let o=E();r(0,"div",35)(1,"div",18)(2,"p",19),p(3,"Created By"),i(),h(4,"input",36),i(),r(5,"div",18)(6,"p",19),p(7,"Created On"),i(),h(8,"input",37),i(),r(9,"div",18)(10,"p",19),p(11,"Updated By"),i(),h(12,"input",38),i(),r(13,"div",18)(14,"p",19),p(15,"Updated On"),i(),h(16,"input",39),i()(),r(17,"div",29)(18,"button",40),v("click",function(){let t=g(o).prevCallback;return f(t.emit())}),p(19,"Back"),i(),r(20,"button",31),v("click",function(){g(o);let t=y(2);return f(t.save())}),p(21),i()()}if(n&2){let o=y(2);l(21),x(o.pageToken.pageflow!="New"?"Update":"Save")}}function ks(n,s){n&1&&(r(0,"p-stepperPanel"),b(1,Ts,7,2,"ng-template",7)(2,Ns,22,1,"ng-template",8),i())}var gn=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$,Xe){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.numberRangeService=P,this.messageService=N,this.cas=$,this.auth=Xe,this.active=0,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId],languageDescription:[],companyId:[this.auth.companyId],companyName:[],hsCode:[,S.required],itemCode:[],itemDescription:[],itemGroup:[],specialApprovalId:[],specialApprovalText:[],statusId:["16"],statusDescription:[],remark:[],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[],this.specialApprovalIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","HS Code",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.hsCode.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let a={};a.numberRangeObject=["HSCODE"],this.numberRangeService.search(a).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.hsCode.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.hsCode.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.specialApproval.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.specialApprovalIdList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.specialApproval.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.hsCode+" has been updated successfully"}),this.router.navigate(["/main/master/hsCode"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.hsCode+" has been created successfully"}),this.router.navigate(["/main/master/hsCode"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(gi),u(ze),u(q),u(pe),u(k))},s.\u0275cmp=R({type:s,selectors:[["app-hs-code-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","50","pInputText","","pKeyFilter","num","formControlName","hsCode","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","itemGroup","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["placeholder","Select","filter","true","formControlName","specialApprovalId","appendTo","body",3,"options","ngClass","panelStyle"],["appendTo","body","formControlName","statusId","placeholder","Select","filter","true",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/hsCode",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3),i(),r(4,"div",1)(5,"button",3),p(6,"Transfer"),i()()(),r(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(m){return M(a.active,m)||(a.active=m),m}),r(10,"p-stepperPanel"),b(11,xs,7,2,"ng-template",7)(12,Es,36,30,"ng-template",8),i(),b(13,ks,3,0,"p-stepperPanel",9),i()()()()),t&2&&(l(3),T("HS Code - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(),F("activeStep",a.active),l(4),c("ngIf",a.pageToken.pageflow!="New"))},dependencies:[te,z,ke,X,ae,K,Ue,Ge,L,ne,A,j,re,qe,Be,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var Fs=["hsCode"],Ms=()=>({width:"80vw"}),fi=()=>({width:"100%"}),Ds=()=>({width:"100rem"});function Ps(n,s){if(n&1&&(r(0,"th",36),p(1),h(2,"p-sortIcon",37),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function Vs(n,s){if(n&1&&(r(0,"tr")(1,"th",33),h(2,"p-tableHeaderCheckbox",34),i(),b(3,Ps,3,3,"th",35),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function Rs(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function Os(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y().$implicit,e=y().$implicit;T(" ",Ee(1,1,e[o.field],"dd-MM-yyyy HH:mm")," ")}}function As(n,s){if(n&1&&(r(0,"td"),b(1,Rs,2,1,"ng-container",41)(2,Os,2,4,"ng-template",null,2,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function js(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",38)(2,"p-checkbox",39),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedHsCode,t)||(a.selectedHsCode=t),f(t)}),i()(),b(3,As,4,2,"td",40),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedHsCode[0]===o),l(2),F("ngModel",t.selectedHsCode),c("value",o),l(),c("ngForOf",e)}}function Ls(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",42),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}var fn=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.auth=P,this.fb=N,this.spin=$,this.hsCodeTable=[],this.selectedHsCode=[],this.cols=[],this.target=[],this.searchform=this.fb.group({hsCode:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={hsCode:"HS Code",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.hsCodeDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Master","HS Code"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"hsCode",header:"HS Code"},{field:"itemGroup",header:"Item Group"},{field:"specialApprovalText",header:"Special Approval"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remarks"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"itemCode",header:"Item Code"},{field:"itemDescription",header:"Item Description"},{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"specialApprovalId",header:"Special Approval ID"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.hsCodeTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedHsCode[this.selectedHsCode.length-1];this.selectedHsCode.length=0,this.selectedHsCode.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedHsCode[0])})}openCrud(e="New",t=null){if(this.selectedHsCode.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedHsCode[0],pageflow:e});this.router.navigate(["/main/master/hsCode-new/"+a])}}deleteDialog(){if(this.selectedHsCode.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedHsCode,module:"HS Code",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedHsCode[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e.hsCode).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.hsCode+" Deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.hsCodeTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="date"?(console.log(3),a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"HS Code")}getSearchDropdown(){this.hsCodeTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.hsCode!=null&&(this.hsCodeDropdown.push({value:e.hsCode,label:e.hsCode}),this.hsCodeDropdown=this.cs.removeDuplicatesFromArrayList(this.hsCodeDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.hsCodeTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({hsCode:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(gi),u(se),u(Y),u(k),u(W),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-hs-code"]],viewQuery:function(t,a){if(t&1&&we(Fs,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:43,vars:28,consts:[["hsCode",""],["hsCodeTag",""],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","hsCode","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"]],template:function(t,a){if(t&1){let d=E();r(0,"div",3)(1,"div",4)(2,"p",5),p(3,"HS Code "),i(),r(4,"div",4)(5,"img",6),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",7),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",8),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",9),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",10),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",11),p(11," Add New"),i()()(),r(12,"div",12)(13,"p-iconField",13)(14,"p-inputIcon",14),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",15),v("input",function(_){g(d);let I=V(39);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",16,0)(18,"form",17)(19,"div",18)(20,"div",19)(21,"p",20),p(22,"HS Code"),i(),h(23,"p-multiSelect",21),i(),r(24,"div",19)(25,"p",20),p(26,"Status"),i(),h(27,"p-multiSelect",22),i()(),r(28,"div",23)(29,"div")(30,"img",24),v("click",function(){return g(d),f(a.reset())}),i()(),r(31,"div")(32,"button",25),v("click",function(){return g(d),f(a.closeOverLay())}),p(33,"Cancel"),i(),r(34,"button",26),v("click",function(){return g(d),f(a.search())}),p(35,"Apply"),i()()()()(),r(36,"p-chips",27),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(37,"div",28)(38,"p-table",29,1),b(40,Vs,4,2,"ng-template",30)(41,js,4,5,"ng-template",31)(42,Ls,4,1,"ng-template",32),i()()()}t&2&&(l(16),w(C(22,Ms)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(23,fi)),c("options",a.hsCodeDropdown)("panelStyle",C(24,fi)),l(4),w(C(25,fi)),c("options",a.statusDropdown)("panelStyle",C(26,fi)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.hsCodeTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(27,Ds)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,B,H,Y],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=s;return n})();var It=()=>({width:"100%"});function Hs(n,s){n&1&&(r(0,"p",15),p(1,"1"),i())}function Ws(n,s){n&1&&h(0,"img",16)}function qs(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11),b(2,Hs,2,0,"p",12)(3,Ws,1,0,"img",13),i(),r(4,"div")(5,"p",14),p(6,"General"),i()()()}if(n&2){let o=y();l(2),c("ngIf",o.active==0),l(),c("ngIf",o.active!=0)}}function Gs(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Us(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Ks(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Qs(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function $s(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function zs(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Xs(n,s){if(n&1&&(r(0,"mat-error",35)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Ys(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Language"),i(),h(4,"p-dropdown",20),b(5,Gs,3,1,"mat-error",21),i(),r(6,"div",18)(7,"p",19),p(8,"Company"),i(),h(9,"p-dropdown",22),b(10,Us,3,1,"mat-error",21),i(),r(11,"div",18)(12,"p",23),p(13,"Origin"),i(),h(14,"input",24),b(15,Ks,3,1,"mat-error",21),i(),r(16,"div",25)(17,"p",23),p(18,"Origin Code"),i(),h(19,"p-dropdown",26),b(20,Qs,3,1,"mat-error",21),i(),r(21,"div",18)(22,"p",23),p(23,"IATA Value"),i(),h(24,"input",27),b(25,$s,3,1,"mat-error",21),i(),r(26,"div",18)(27,"p",23),p(28,"IATA Charge"),i(),h(29,"input",28),b(30,zs,3,1,"mat-error",21),i(),r(31,"div",18)(32,"p",23),p(33,"Currency"),i(),h(34,"p-dropdown",29),b(35,Xs,3,1,"mat-error",21),i(),r(36,"div",18)(37,"p",19),p(38,"Status"),i(),h(39,"p-dropdown",30),i(),r(40,"div",18)(41,"p",19),p(42,"Remark"),i(),h(43,"input",31),i()(),r(44,"div",32)(45,"button",33),p(46,"Cancel"),i(),r(47,"button",34),v("click",function(){g(o);let t=y();return f(t.save())}),p(48),i()()}if(n&2){let o,e,t,a,d,m=y();l(4),w(C(36,It)),c("options",m.languageIdList)("disabled",!0)("panelStyle",C(37,It)),l(),c("ngIf",m.errorHandling("languageId")),l(4),w(C(38,It)),c("options",m.companyIdList)("disabled",!0)("panelStyle",C(39,It)),l(),c("ngIf",m.errorHandling("companyId")),l(4),c("ngClass",(o=m.form.get("origin"))!=null&&o.invalid&&m.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",m.errorHandling("origin")),l(4),w(C(40,It)),c("options",m.countryIdList)("ngClass",(e=m.form.get("originCode"))!=null&&e.invalid&&m.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",C(41,It)),l(),c("ngIf",m.errorHandling("originCode")),l(4),c("ngClass",(t=m.form.get("iataKd"))!=null&&t.invalid&&m.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",m.errorHandling("iataKd")),l(4),c("ngClass",(a=m.form.get("iataCharge"))!=null&&a.invalid&&m.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",m.errorHandling("iataCharge")),l(4),w(C(42,It)),c("options",m.currencyIdList)("ngClass",(d=m.form.get("currencyId"))!=null&&d.invalid&&m.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",C(43,It)),l(),c("ngIf",m.errorHandling("currencyId")),l(4),w(C(44,It)),c("options",m.status),l(9),x(m.pageToken.pageflow!="New"?"Update":"Save")}}function Js(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11)(2,"p",36),p(3," 2"),i()(),r(4,"div")(5,"p",37),p(6," Admin"),i()()()}if(n&2){let o=y(2);l(2),c("ngClass",o.active==2?"borderCircle":"disabled text-muted"),l(3),c("ngClass",o.active==2?"textBlack f600":"text-muted")}}function Zs(n,s){if(n&1){let o=E();r(0,"div",38)(1,"div",18)(2,"p",19),p(3,"Created By"),i(),h(4,"input",39),i(),r(5,"div",18)(6,"p",19),p(7,"Created On"),i(),h(8,"input",40),i(),r(9,"div",18)(10,"p",19),p(11,"Updated By"),i(),h(12,"input",41),i(),r(13,"div",18)(14,"p",19),p(15,"Updated On"),i(),h(16,"input",42),i()(),r(17,"div",32)(18,"button",43),v("click",function(){let t=g(o).prevCallback;return f(t.emit())}),p(19,"Back"),i(),r(20,"button",34),v("click",function(){g(o);let t=y(2);return f(t.save())}),p(21),i()()}if(n&2){let o=y(2);l(21),x(o.pageToken.pageflow!="New"?"Update":"Save")}}function ep(n,s){n&1&&(r(0,"p-stepperPanel"),b(1,Js,7,2,"ng-template",7)(2,Zs,22,1,"ng-template",8),i())}var _n=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$,Xe){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.messageService=P,this.numberRangeService=N,this.cas=$,this.auth=Xe,this.active=0,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId,S.required],languageDescription:[],companyId:[this.auth.companyId,S.required],companyName:[],originCode:[,S.required],origin:[,S.required],iataKd:[,S.required],iataCharge:[,S.required],currencyId:[,S.required],currencyDescription:[],statusId:["16"],statusDescription:[],remark:[],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[],createdBy:[],updatedBy:[],updatedOn:[]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[],this.currencyIdList=[],this.countryIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","IATA",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let a={};a.numberRangeObject=["ORIGINCODE"],this.numberRangeService.search(a).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.originCode.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.originCode.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.currency.url,this.cas.dropdownlist.setup.country.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.currencyIdList=this.cas.foreachlist(e[2],this.cas.dropdownlist.setup.currency.key),this.countryIdList=this.cas.foreachlist(e[3],this.cas.dropdownlist.setup.country.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e)}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.originCode+" has been updated successfully"}),this.router.navigate(["/main/master/iata"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.originCode+" has been created successfully"}),this.router.navigate(["/main/master/iata"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(ni),u(q),u(ze),u(pe),u(k))},s.\u0275cmp=R({type:s,selectors:[["app-iata-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body","placeholder","Select","filter","true",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body","placeholder","Select","filter","true",3,"options","disabled","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["formControlName","origin","pInputText","","pKeyFilter","alphanum","placeholder","Enter",1,"w-100",3,"ngClass"],["id","originCode",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","originCode","appendTo","body","placeholder","Select",3,"options","ngClass","disabled","panelStyle"],["formControlName","iataKd","pInputText","","pKeyFilter","alphanum","placeholder","Enter",1,"w-100",3,"ngClass"],["formControlName","iataCharge","pInputText","","pKeyFilter","alphanum","placeholder","Enter",1,"w-100",3,"ngClass"],["placeholder","Select","filter","true","formControlName","currencyId","appendTo","body",3,"options","ngClass","disabled","panelStyle"],["appendTo","body","formControlName","statusId","placeholder","Select","filter","true",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/iata",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3),i(),r(4,"div",1)(5,"button",3),p(6,"Transfer"),i()()(),r(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(m){return M(a.active,m)||(a.active=m),m}),r(10,"p-stepperPanel"),b(11,qs,7,2,"ng-template",7)(12,Ys,49,45,"ng-template",8),i(),b(13,ep,3,0,"p-stepperPanel",9),i()()()()),t&2&&(l(3),T("IATA - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(),F("activeStep",a.active),l(4),c("ngIf",a.pageToken.pageflow!="New"))},dependencies:[te,z,ke,X,ae,K,Ue,Ge,L,ne,A,j,re,qe,Be,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var tp=["iata"],ip=()=>({width:"80vw"}),Kt=()=>({width:"100%"}),np=()=>({width:"100rem"});function rp(n,s){if(n&1&&(r(0,"th",40),p(1),h(2,"p-sortIcon",41),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function ap(n,s){if(n&1&&(r(0,"tr")(1,"th",37),h(2,"p-tableHeaderCheckbox",38),i(),b(3,rp,3,3,"th",39),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function op(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function lp(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y(2).$implicit;T(" ",Ee(1,1,o.createdOn,"dd-MM-yyyy HH:mm")," ")}}function sp(n,s){if(n&1&&(r(0,"td"),b(1,op,2,1,"ng-container",45)(2,lp,2,4,"ng-template",null,3,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function pp(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",42)(2,"p-checkbox",43),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedIata,t)||(a.selectedIata=t),f(t)}),i()(),b(3,sp,4,2,"td",44),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedIata[0]===o),l(2),F("ngModel",t.selectedIata),c("value",o),l(),c("ngForOf",e)}}function dp(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",46),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}function cp(n,s){n&1&&(r(0,"button",47),p(1,"Edit"),i(),r(2,"button",47),p(3,"Confirm"),i())}var vn=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.fb=P,this.auth=N,this.spin=$,this.iataTable=[],this.selectedIata=[],this.cols=[],this.target=[],this.searchform=this.fb.group({originCode:[],origin:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={originCode:"Origin Code",origin:"Origin",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.statusDropdown=[],this.originCodeDropdown=[],this.originDropdown=[]}ngOnInit(){let e=["Master","IATA"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"origin",header:"Origin"},{field:"iataKd",header:"IATA Value "},{field:"iataCharge",header:"IATA Charge"},{field:"currencyDescription",header:"Currency"},{field:"statusDescription",header:"Status"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language Description"},{field:"companyId",header:"Company ID"},{field:"country",header:"Origin Code"},{field:"currencyId",header:"Currency ID"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.iataTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedIata[this.selectedIata.length-1];this.selectedIata.length=0,this.selectedIata.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedIata[0])})}openCrud(e="New",t=null){if(this.selectedIata.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedIata[0],pageflow:e});this.router.navigate(["/main/master/iata-new/"+a])}}deleteDialog(){if(this.selectedIata.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedIata,module:"IATA",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedIata[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.origin+e.originCode+e.companyId+e.languageId+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.iataTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="data"?(console.log(3),a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"Iata")}getSearchDropdown(){this.iataTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.originCode!=null&&(this.originCodeDropdown.push({value:e.originCode,label:e.originCode}),this.originCodeDropdown=this.cs.removeDuplicatesFromArrayList(this.originCodeDropdown,"value")),e.origin!=null&&(this.originDropdown.push({value:e.origin,label:e.origin}),this.originDropdown=this.cs.removeDuplicatesFromArrayList(this.originDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.iataTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({originCode:[],origin:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(ni),u(se),u(Y),u(W),u(k),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-iata"]],viewQuery:function(t,a){if(t&1&&we(tp,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:50,vars:34,consts:[["iata",""],["iataTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","originCode","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","origin","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,a){if(t&1){let d=E();r(0,"div",4)(1,"div",5)(2,"p",6),p(3,"IATA "),i(),r(4,"div",5)(5,"img",7),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",8),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",9),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",10),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",11),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",12),p(11," Add New"),i()()(),r(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",16),v("input",function(_){g(d);let I=V(43);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),p(22,"Origin Code"),i(),h(23,"p-multiSelect",22),i(),r(24,"div",20)(25,"p",21),p(26,"Origin"),i(),h(27,"p-multiSelect",23),i(),r(28,"div",20)(29,"p",21),p(30,"Status"),i(),h(31,"p-multiSelect",24),i()(),r(32,"div",25)(33,"div")(34,"img",26),v("click",function(){return g(d),f(a.reset())}),i()(),r(35,"div")(36,"button",27),v("click",function(){return g(d),f(a.closeOverLay())}),p(37,"Cancel"),i(),r(38,"button",28),v("click",function(){return g(d),f(a.search())}),p(39,"Apply"),i()()()()(),r(40,"p-chips",29),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(41,"div",30)(42,"p-table",31,1),b(44,ap,4,2,"ng-template",32)(45,pp,4,5,"ng-template",33)(46,dp,4,1,"ng-template",34),i()()(),r(47,"mat-menu",35,2),b(49,cp,4,0,"ng-template",36),i()}t&2&&(l(16),w(C(26,ip)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(27,Kt)),c("options",a.originCodeDropdown)("panelStyle",C(28,Kt)),l(4),w(C(29,Kt)),c("options",a.originDropdown)("panelStyle",C(30,Kt)),l(4),w(C(31,Kt)),c("options",a.statusDropdown)("panelStyle",C(32,Kt)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.iataTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(33,np)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,Je,$e,Ye,B,H,Y],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var ki=()=>({width:"100%"});function mp(n,s){n&1&&(r(0,"p",15),p(1,"1"),i())}function up(n,s){n&1&&h(0,"img",16)}function hp(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11),b(2,mp,2,0,"p",12)(3,up,1,0,"img",13),i(),r(4,"div")(5,"p",14),p(6,"General"),i()()()}if(n&2){let o=y();l(2),c("ngIf",o.active==0),l(),c("ngIf",o.active!=0)}}function gp(n,s){if(n&1&&(r(0,"mat-error",32)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function fp(n,s){if(n&1&&(r(0,"mat-error",32)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function _p(n,s){if(n&1&&(r(0,"mat-error",32)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function vp(n,s){if(n&1&&(r(0,"mat-error",32)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function yp(n,s){if(n&1&&(r(0,"mat-error",32)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Cp(n,s){if(n&1&&(r(0,"mat-error",32)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function bp(n,s){if(n&1&&(r(0,"mat-error",32)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function wp(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Language"),i(),h(4,"p-dropdown",20),b(5,gp,3,1,"mat-error",21),i(),r(6,"div",18)(7,"p",22),p(8,"ID"),i(),h(9,"input",23),b(10,fp,3,1,"mat-error",21),i(),r(11,"div",18)(12,"p",22),p(13,"Process"),i(),h(14,"input",24),b(15,_p,3,1,"mat-error",21),i(),r(16,"div",18)(17,"p",22),p(18,"From Number"),i(),h(19,"input",25),b(20,vp,3,1,"mat-error",21),i(),r(21,"div",18)(22,"p",22),p(23,"To Number"),i(),h(24,"input",26),b(25,yp,3,1,"mat-error",21),i(),r(26,"div",18)(27,"p",22),p(28,"Current Number"),i(),h(29,"input",27),b(30,Cp,3,1,"mat-error",21),i(),r(31,"div",18)(32,"p",22),p(33,"Number Range Status"),i(),h(34,"p-dropdown",28),b(35,bp,3,1,"mat-error",21),i()(),r(36,"div",29)(37,"button",30),p(38,"Cancel"),i(),r(39,"button",31),v("click",function(){g(o);let t=y();return f(t.save())}),p(40),i()()}if(n&2){let o,e,t,a,d,m,_=y();l(4),w(C(22,ki)),c("options",_.languageIdList)("disabled",!0)("panelStyle",C(23,ki)),l(),c("ngIf",_.errorHandling("languageId")),l(4),c("ngClass",(o=_.form.get("numberRangeCode"))!=null&&o.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("numberRangeCode")),l(4),c("ngClass",(e=_.form.get("numberRangeObject"))!=null&&e.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("numberRangeObject")),l(4),c("ngClass",(t=_.form.get("numberRangeFrom"))!=null&&t.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("numberRangeFrom")),l(4),c("ngClass",(a=_.form.get("numberRangeTo"))!=null&&a.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("numberRangeTo")),l(4),c("ngClass",(d=_.form.get("numberRangeCurrent"))!=null&&d.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("numberRangeCurrent")),l(4),w(C(24,ki)),c("options",_.status)("ngClass",(m=_.form.get("numberRangeStatus"))!=null&&m.invalid&&_.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",_.errorHandling("numberRangeStatus")),l(5),x(_.pageToken.pageflow!="New"?"Update":"Save")}}function xp(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11)(2,"p",33),p(3," 2"),i()(),r(4,"div")(5,"p",34),p(6," Admin"),i()()()}if(n&2){let o=y(2);l(2),c("ngClass",o.active==2?"borderCircle":"disabled text-muted"),l(3),c("ngClass",o.active==2?"textBlack f600":"text-muted")}}function Ip(n,s){if(n&1){let o=E();r(0,"div",35)(1,"div",18)(2,"p",19),p(3,"Created By"),i(),h(4,"input",36),i(),r(5,"div",18)(6,"p",19),p(7,"Created On"),i(),h(8,"input",37),i(),r(9,"div",18)(10,"p",19),p(11,"Updated By"),i(),h(12,"input",38),i(),r(13,"div",18)(14,"p",19),p(15,"Updated On"),i(),h(16,"input",39),i()(),r(17,"div",29)(18,"button",40),v("click",function(){let t=g(o).prevCallback;return f(t.emit())}),p(19,"Back"),i(),r(20,"button",31),v("click",function(){g(o);let t=y(2);return f(t.save())}),p(21),i()()}if(n&2){let o=y(2);l(21),x(o.pageToken.pageflow!="New"?"Update":"Save")}}function Sp(n,s){n&1&&(r(0,"p-stepperPanel"),b(1,xp,7,2,"ng-template",7)(2,Ip,22,1,"ng-template",8),i())}var yn=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.messageService=P,this.cas=N,this.auth=$,this.active=0,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId,S.required],numberRangeCode:[,S.required],numberRangeObject:[,S.required],numberRangeFrom:[,S.required],numberRangeTo:[,S.required],numberRangeCurrent:[,S.required],numberRangeStatus:["16"],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","Number Series",this.pageToken.pageflow];this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.pageToken.pageflow!="New"&&(this.fill(this.pageToken.line),this.form.controls.languageId.disable(),this.form.controls.numberRangeCode.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable())}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.numberRangeCode+" has been updated successfully"}),this.router.navigate(["/main/master/numberrange"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.numberRangeCode+" has been created successfully"}),this.router.navigate(["/main/master/numberrange"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(ze),u(q),u(pe),u(k))},s.\u0275cmp=R({type:s,selectors:[["app-numberrange-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body","placeholder","Select","filter","true",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","50","formControlName","numberRangeCode","pInputText","","pKeyFilter","num","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","formControlName","numberRangeObject","pInputText","","pKeyFilter","alphanum","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","50","formControlName","numberRangeFrom","pInputText","","pKeyFilter","alphanum","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","50","formControlName","numberRangeTo","pInputText","","pKeyFilter","alphanum","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","50","formControlName","numberRangeCurrent","pInputText","","pKeyFilter","alphanum","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","numberRangeStatus","placeholder","Select","filter","true",3,"options","ngClass"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/numberrange",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3),i(),r(4,"div",1)(5,"button",3),p(6,"Transfer"),i()()(),r(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(m){return M(a.active,m)||(a.active=m),m}),r(10,"p-stepperPanel"),b(11,hp,7,2,"ng-template",7)(12,wp,41,25,"ng-template",8),i(),b(13,Sp,3,0,"p-stepperPanel",9),i()()()()),t&2&&(l(3),T("Number Series - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(),F("activeStep",a.active),l(4),c("ngIf",a.pageToken.pageflow!="New"))},dependencies:[te,z,ke,X,ae,K,Ue,Ge,L,ne,A,j,re,qe,Be,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var Ep=["numberRange"],Tp=()=>({width:"80vw"}),Qt=()=>({width:"100%"}),Np=()=>({width:"100rem"});function kp(n,s){if(n&1&&(r(0,"th",40),p(1),h(2,"p-sortIcon",41),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function Fp(n,s){if(n&1&&(r(0,"tr")(1,"th",37),h(2,"p-tableHeaderCheckbox",38),i(),b(3,kp,3,3,"th",39),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function Mp(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function Dp(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y(2).$implicit;T(" ",Ee(1,1,o.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Pp(n,s){if(n&1&&(r(0,"td"),b(1,Mp,2,1,"ng-container",45)(2,Dp,2,4,"ng-template",null,3,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function Vp(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",42)(2,"p-checkbox",43),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedNumberRange,t)||(a.selectedNumberRange=t),f(t)}),i()(),b(3,Pp,4,2,"td",44),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedNumberRange[0]===o),l(2),F("ngModel",t.selectedNumberRange),c("value",o),l(),c("ngForOf",e)}}function Rp(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",46),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}function Op(n,s){n&1&&(r(0,"button",47),p(1,"Edit"),i(),r(2,"button",47),p(3,"Confirm"),i())}var Cn=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.auth=P,this.fb=N,this.spin=$,this.numberRangeTable=[],this.selectedNumberRange=[],this.cols=[],this.target=[],this.searchform=this.fb.group({numberRangeCode:[],numberRangeObject:[],statusId:[],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={numberRangeCode:"ID",numberRangeObject:"Process/Master",statusId:"Status"},this.languageDropdown=[],this.numberRangeCodeDropdown=[],this.numberRangeObjectDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Master","Number Series"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"numberRangeCode",header:"ID"},{field:"numberRangeObject",header:"Process/Master"},{field:"numberRangeFrom",header:"From Number"},{field:"numberRangeTo",header:"To Number"},{field:"numberRangeCurrent",header:"Current Number"},{field:"statusDescription",header:"Status"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"numberRangeStatus",header:"Number Range Status"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.numberRangeTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedNumberRange[this.selectedNumberRange.length-1];this.selectedNumberRange.length=0,this.selectedNumberRange.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedNumberRange[0])})}openCrud(e="New",t=null){if(this.selectedNumberRange.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedNumberRange[0],pageflow:e});this.router.navigate(["/main/master/numberrange-new/"+a])}}deleteDialog(){if(this.selectedNumberRange.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedNumberRange,module:"Number Series",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedNumberRange[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.numberRangeCode+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.numberRangeTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="data"?(console.log(3),a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"Number Series")}getSearchDropdown(){this.numberRangeTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.numberRangeCode!=null&&(this.numberRangeCodeDropdown.push({value:e.numberRangeCode,label:e.numberRangeCode}),this.numberRangeCodeDropdown=this.cs.removeDuplicatesFromArrayList(this.numberRangeCodeDropdown,"value")),e.numberRangeObject!=null&&(this.numberRangeObjectDropdown.push({value:e.numberRangeObject,label:e.numberRangeObject}),this.numberRangeObjectDropdown=this.cs.removeDuplicatesFromArrayList(this.numberRangeObjectDropdown,"value")),e.numberRangeStatus!=null&&(this.statusDropdown.push({value:e.numberRangeStatus,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.numberRangeTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({numberRangeCode:[],numberRangeObject:[],statusId:[],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(ze),u(se),u(Y),u(k),u(W),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-numberrange"]],viewQuery:function(t,a){if(t&1&&we(Ep,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:50,vars:34,consts:[["numberRange",""],["numberRangeTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","numberRangeObject","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","numberRangeCode","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,a){if(t&1){let d=E();r(0,"div",4)(1,"div",5)(2,"p",6),p(3,"Number Series "),i(),r(4,"div",5)(5,"img",7),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",8),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",9),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",10),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",11),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",12),p(11," Add New"),i()()(),r(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",16),v("input",function(_){g(d);let I=V(43);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),p(22,"Process/Master"),i(),h(23,"p-multiSelect",22),i(),r(24,"div",20)(25,"p",21),p(26,"ID"),i(),h(27,"p-multiSelect",23),i(),r(28,"div",20)(29,"p",21),p(30,"Status"),i(),h(31,"p-multiSelect",24),i()(),r(32,"div",25)(33,"div")(34,"img",26),v("click",function(){return g(d),f(a.reset())}),i()(),r(35,"div")(36,"button",27),v("click",function(){return g(d),f(a.closeOverLay())}),p(37,"Cancel"),i(),r(38,"button",28),v("click",function(){return g(d),f(a.search())}),p(39,"Apply"),i()()()()(),r(40,"p-chips",29),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(41,"div",30)(42,"p-table",31,1),b(44,Fp,4,2,"ng-template",32)(45,Vp,4,5,"ng-template",33)(46,Rp,4,1,"ng-template",34),i()()(),r(47,"mat-menu",35,2),b(49,Op,4,0,"ng-template",36),i()}t&2&&(l(16),w(C(26,Tp)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(27,Qt)),c("options",a.numberRangeObjectDropdown)("panelStyle",C(28,Qt)),l(4),w(C(29,Qt)),c("options",a.numberRangeCodeDropdown)("panelStyle",C(30,Qt)),l(4),w(C(31,Qt)),c("options",a.statusDropdown)("panelStyle",C(32,Qt)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.numberRangeTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(33,Np)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,Je,$e,Ye,B,H,Y],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var _i=(()=>{let s=class s{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/opStatus/"+e.statusCode+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId)}Create(e){return this.http.post("/overc-idmaster-service/opStatus",e)}Update(e){return this.http.patch("/overc-idmaster-service/opStatus/"+e.statusCode+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/opStatus/"+e.statusCode+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId)}search(e){return this.http.post("/overc-idmaster-service/opStatus/find",e)}};s.\u0275fac=function(t){return new(t||s)(ee(Qe),ee(k))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var vi=()=>({width:"100%"});function Ap(n,s){n&1&&(r(0,"p",15),p(1,"1"),i())}function jp(n,s){n&1&&h(0,"img",16)}function Lp(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11),b(2,Ap,2,0,"p",12)(3,jp,1,0,"img",13),i(),r(4,"div")(5,"p",14),p(6,"General"),i()()()}if(n&2){let o=y();l(2),c("ngIf",o.active==0),l(),c("ngIf",o.active!=0)}}function Bp(n,s){if(n&1&&(r(0,"mat-error",30)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Hp(n,s){if(n&1&&(r(0,"mat-error",30)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Wp(n,s){if(n&1&&(r(0,"mat-error",30)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function qp(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Language"),i(),h(4,"p-dropdown",20),b(5,Bp,3,1,"mat-error",21),i(),r(6,"div",18)(7,"p",19),p(8,"Company"),i(),h(9,"p-dropdown",22),b(10,Hp,3,1,"mat-error",21),i(),r(11,"div",18)(12,"p",19),p(13,"Op Status Code"),i(),h(14,"input",23),i(),r(15,"div",18)(16,"p",24),p(17,"Op Status Description"),i(),h(18,"input",25),b(19,Wp,3,1,"mat-error",21),i(),r(20,"div",18)(21,"p",19),p(22,"Remark"),i(),h(23,"input",26),i()(),r(24,"div",27)(25,"button",28),p(26,"Cancel"),i(),r(27,"button",29),v("click",function(){g(o);let t=y();return f(t.save())}),p(28),i()()}if(n&2){let o,e,t=y();l(4),w(C(16,vi)),c("options",t.languageIdList)("disabled",!0)("panelStyle",C(17,vi)),l(),c("ngIf",t.errorHandling("languageId")),l(4),w(C(18,vi)),c("options",t.companyIdList)("disabled",!0)("panelStyle",C(19,vi)),l(),c("ngIf",t.errorHandling("companyId")),l(4),c("ngClass",(o=t.form.get("statusCode"))!=null&&o.invalid&&((o=t.form.get("statusCode"))!=null&&o.dirty)?"invalid":""),l(4),c("ngClass",(e=t.form.get("opStatusDescription"))!=null&&e.invalid&&t.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",t.errorHandling("opStatusDescription")),l(9),x(t.pageToken.pageflow!="New"?"Update":"Save")}}function Gp(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11)(2,"p",31),p(3," 2"),i()(),r(4,"div")(5,"p",32),p(6," Admin"),i()()()}if(n&2){let o=y(2);l(2),c("ngClass",o.active==2?"borderCircle":"disabled text-muted"),l(3),c("ngClass",o.active==2?"textBlack f600":"text-muted")}}function Up(n,s){if(n&1){let o=E();r(0,"div",33)(1,"div",18)(2,"p",19),p(3,"Created By"),i(),h(4,"input",34),i(),r(5,"div",18)(6,"p",19),p(7,"Created On"),i(),h(8,"input",35),i(),r(9,"div",18)(10,"p",19),p(11,"Updated By"),i(),h(12,"input",36),i(),r(13,"div",18)(14,"p",19),p(15,"Updated On"),i(),h(16,"input",37),i()(),r(17,"div",27)(18,"button",38),v("click",function(){let t=g(o).prevCallback;return f(t.emit())}),p(19,"Back"),i(),r(20,"button",29),v("click",function(){g(o);let t=y(2);return f(t.save())}),p(21),i()()}if(n&2){let o=y(2);l(21),x(o.pageToken.pageflow!="New"?"Update":"Save")}}function Kp(n,s){n&1&&(r(0,"p-stepperPanel"),b(1,Gp,7,2,"ng-template",7)(2,Up,22,1,"ng-template",8),i())}var wn=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$,Xe){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.messageService=P,this.numberRangeService=N,this.cas=$,this.auth=Xe,this.active=0,this.OpStatus=[],this.form=this.fb.group({languageId:[this.auth.languageId,S.required],languageDescription:[],companyId:[this.auth.companyId,S.required],companyName:[],statusCode:[],opStatusDescription:[,S.required],remark:[],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","Op Status",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.statusCode.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let a={};a.numberRangeObject=["OPSTATUS"],this.numberRangeService.search(a).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.statusCode.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.statusCode.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.languageId+e.companyId+e.statusCode+" has been updated successfully"}),this.router.navigate(["/main/master/opstatus"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.languageId+e.companyId+e.statusCode+" has been created successfully"}),this.router.navigate(["/main/master/opstatus"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(_i),u(q),u(ze),u(pe),u(k))},s.\u0275cmp=R({type:s,selectors:[["app-opstatus-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body","placeholder","Select","filter","true",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body","placeholder","Select","filter","true",3,"options","disabled","panelStyle"],["formControlName","statusCode","maxlength","50","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["formControlName","opStatusDescription","maxlength","100","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/opstatus",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3),i(),r(4,"div",1)(5,"button",3),p(6,"Transfer"),i()()(),r(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(m){return M(a.active,m)||(a.active=m),m}),r(10,"p-stepperPanel"),b(11,Lp,7,2,"ng-template",7)(12,qp,29,20,"ng-template",8),i(),b(13,Kp,3,0,"p-stepperPanel",9),i()()()()),t&2&&(l(3),T("Op Status - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(),F("activeStep",a.active),l(4),c("ngIf",a.pageToken.pageflow!="New"))},dependencies:[te,z,ke,X,ae,K,Ue,Ge,L,ne,A,j,re,Be,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var Qp=["opstatus"],$p=()=>({width:"80vw"}),xn=()=>({width:"100%"}),zp=()=>({width:"100rem"});function Xp(n,s){if(n&1&&(r(0,"th",38),p(1),h(2,"p-sortIcon",39),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function Yp(n,s){if(n&1&&(r(0,"tr")(1,"th",35),h(2,"p-tableHeaderCheckbox",36),i(),b(3,Xp,3,3,"th",37),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function Jp(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function Zp(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y(2).$implicit;T(" ",Ee(1,1,o.createdOn,"dd-MM-yyyy HH:mm")," ")}}function ed(n,s){if(n&1&&(r(0,"td"),b(1,Jp,2,1,"ng-container",43)(2,Zp,2,4,"ng-template",null,3,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function td(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",40)(2,"p-checkbox",41),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedOpstatus,t)||(a.selectedOpstatus=t),f(t)}),i()(),b(3,ed,4,2,"td",42),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedOpstatus[0]===o),l(2),F("ngModel",t.selectedOpstatus),c("value",o),l(),c("ngForOf",e)}}function id(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",44),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}function nd(n,s){n&1&&(r(0,"button",45),p(1,"Edit"),i(),r(2,"button",45),p(3,"Confirm"),i())}var In=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.auth=P,this.fb=N,this.spin=$,this.opstatusTable=[],this.selectedOpstatus=[],this.cols=[],this.target=[],this.searchform=this.fb.group({statusCode:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={statusCode:"OP Status"},this.languageDropdown=[],this.companyDropdown=[],this.statusCodeDropdown=[]}ngOnInit(){let e=["Master","Op Status"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"statusCode",header:"Op Status Code"},{field:"opStatusDescription",header:"Op Status Description"},{field:"remark",header:"Remarks"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"companyId",header:"Company ID"},{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.opstatusTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedOpstatus[this.selectedOpstatus.length-1];this.selectedOpstatus.length=0,this.selectedOpstatus.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedOpstatus[0])})}openCrud(e="New",t=null){if(this.selectedOpstatus.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedOpstatus[0],pageflow:e});this.router.navigate(["/main/master/opstatus-new/"+a])}}deleteDialog(){if(this.selectedOpstatus.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedOpstatus,module:"Op Status",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedOpstatus[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.statusCode+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.opstatusTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="data"?(console.log(3),a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"OpStatus")}getSearchDropdown(){this.opstatusTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.statusCode!=null&&(this.statusCodeDropdown.push({value:e.statusCode,label:e.opStatusDescription}),this.statusCodeDropdown=this.cs.removeDuplicatesFromArrayList(this.statusCodeDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.opstatusTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({statusCode:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(_i),u(se),u(Y),u(k),u(W),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-opstatus"]],viewQuery:function(t,a){if(t&1&&we(Qp,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:42,vars:22,consts:[["opstatus",""],["opstatusTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","statusCode","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,a){if(t&1){let d=E();r(0,"div",4)(1,"div",5)(2,"p",6),p(3,"Op Status "),i(),r(4,"div",5)(5,"img",7),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",8),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",9),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",10),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",11),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",12),p(11," Add New"),i()()(),r(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",16),v("input",function(_){g(d);let I=V(35);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),p(22,"OP Status"),i(),h(23,"p-multiSelect",22),i()(),r(24,"div",23)(25,"div")(26,"img",24),v("click",function(){return g(d),f(a.reset())}),i()(),r(27,"div")(28,"button",25),v("click",function(){return g(d),f(a.closeOverLay())}),p(29,"Cancel"),i(),r(30,"button",26),v("click",function(){return g(d),f(a.search())}),p(31,"Apply"),i()()()()(),r(32,"p-chips",27),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(33,"div",28)(34,"p-table",29,1),b(36,Yp,4,2,"ng-template",30)(37,td,4,5,"ng-template",31)(38,id,4,1,"ng-template",32),i()()(),r(39,"mat-menu",33,2),b(41,nd,4,0,"ng-template",34),i()}t&2&&(l(16),w(C(18,$p)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(19,xn)),c("options",a.statusCodeDropdown)("panelStyle",C(20,xn)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.opstatusTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(21,zp)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,Je,$e,Ye,B,H,Y],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var yi=(()=>{let s=class s{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/specialApproval/"+e+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId)}Create(e){return this.http.post("/overc-idmaster-service/specialApproval",e)}Update(e){return this.http.patch("/overc-idmaster-service/specialApproval/"+e.specialApprovalId+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/specialApproval/"+e+"?companyId="+this.auth.companyId+"&languageId="+this.auth.languageId)}search(e){return this.http.post("/overc-idmaster-service/specialApproval/find",e)}};s.\u0275fac=function(t){return new(t||s)(ee(Qe),ee(k))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var Xt=()=>({width:"100%"});function rd(n,s){n&1&&(r(0,"p",15),p(1,"1"),i())}function ad(n,s){n&1&&h(0,"img",16)}function od(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11),b(2,rd,2,0,"p",12)(3,ad,1,0,"img",13),i(),r(4,"div")(5,"p",14),p(6,"General"),i()()()}if(n&2){let o=y();l(2),c("ngIf",o.active==0),l(),c("ngIf",o.active!=0)}}function ld(n,s){if(n&1&&(r(0,"mat-error",31)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function sd(n,s){if(n&1&&(r(0,"mat-error",31)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function pd(n,s){if(n&1&&(r(0,"mat-error",31)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function dd(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Language"),i(),h(4,"p-dropdown",20),b(5,ld,3,1,"mat-error",21),i(),r(6,"div",18)(7,"p",19),p(8,"Company"),i(),h(9,"p-dropdown",22),b(10,sd,3,1,"mat-error",21),i(),r(11,"div",18)(12,"p",19),p(13,"Special Approval ID"),i(),h(14,"input",23),i(),r(15,"div",18)(16,"p",24),p(17,"Special Approval Name"),i(),h(18,"input",25),b(19,pd,3,1,"mat-error",21),i(),r(20,"div",18)(21,"p",19),p(22,"Status"),i(),h(23,"p-dropdown",26),i(),r(24,"div",18)(25,"p",19),p(26,"Remark"),i(),h(27,"input",27),i()(),r(28,"div",28)(29,"button",29),p(30,"Cancel"),i(),r(31,"button",30),v("click",function(){g(o);let t=y();return f(t.save())}),p(32),i()()}if(n&2){let o,e=y();l(4),w(C(18,Xt)),c("options",e.languageIdList)("disabled",!0)("panelStyle",C(19,Xt)),l(),c("ngIf",e.errorHandling("languageId")),l(4),w(C(20,Xt)),c("options",e.companyIdList)("disabled",!0)("panelStyle",C(21,Xt)),l(),c("ngIf",e.errorHandling("companyId")),l(8),c("ngClass",(o=e.form.get("specialApprovalText"))!=null&&o.invalid&&e.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",e.errorHandling("specialApprovalText")),l(4),w(C(22,Xt)),c("options",e.status),l(9),x(e.pageToken.pageflow!="New"?"Update":"Save")}}function cd(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11)(2,"p",32),p(3," 2"),i()(),r(4,"div")(5,"p",33),p(6," Admin"),i()()()}if(n&2){let o=y(2);l(2),c("ngClass",o.active==2?"borderCircle":"disabled text-muted"),l(3),c("ngClass",o.active==2?"textBlack f600":"text-muted")}}function md(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Created By"),i(),h(4,"input",34),i(),r(5,"div",18)(6,"p",19),p(7,"Created On"),i(),h(8,"input",35),i(),r(9,"div",18)(10,"p",19),p(11,"Updated By"),i(),h(12,"input",36),i(),r(13,"div",18)(14,"p",19),p(15,"Updated On"),i(),h(16,"input",37),i()(),r(17,"div",28)(18,"button",38),v("click",function(){let t=g(o).prevCallback;return f(t.emit())}),p(19,"Back"),i(),r(20,"button",30),v("click",function(){g(o);let t=y(2);return f(t.save())}),p(21),i()()}if(n&2){let o=y(2);l(21),x(o.pageToken.pageflow!="New"?"Update":"Save")}}function ud(n,s){n&1&&(r(0,"p-stepperPanel"),b(1,cd,7,2,"ng-template",7)(2,md,22,1,"ng-template",8),i())}var En=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$,Xe){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.numberRangeService=P,this.messageService=N,this.cas=$,this.auth=Xe,this.active=0,this.status=[],this.form=this.fb.group({languageId:[this.auth.languageId],languageDescription:[],companyId:[this.auth.companyId],companyName:[],specialApprovalId:[],specialApprovalText:[,S.required],statusId:["16"],statusDescription:[],remark:[],referenceField1:[],referenceField10:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","Special Approval",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.specialApprovalId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let a={};a.numberRangeObject=["SPECIALAPPROVAL"],this.numberRangeService.search(a).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.specialApprovalId.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.specialApprovalId.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url]).subscribe({next:e=>{this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.specialApprovalId+" has been updated successfully"}),this.router.navigate(["/main/master/specialApproval"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.specialApprovalId+" has been created successfully"}),this.router.navigate(["/main/master/specialApproval"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(yi),u(ze),u(q),u(pe),u(k))},s.\u0275cmp=R({type:s,selectors:[["app-special-approval-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","specialApprovalId","pInputText","","placeholder","Enter",1,"w-100"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","100","pInputText","","formControlName","specialApprovalText","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select","filter","true",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/specialApproval",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3),i(),r(4,"div",1)(5,"button",3),p(6,"Transfer"),i()()(),r(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(m){return M(a.active,m)||(a.active=m),m}),r(10,"p-stepperPanel"),b(11,od,7,2,"ng-template",7)(12,dd,33,23,"ng-template",8),i(),b(13,ud,3,0,"p-stepperPanel",9),i()()()()),t&2&&(l(3),T("Special Approval - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(),F("activeStep",a.active),l(4),c("ngIf",a.pageToken.pageflow!="New"))},dependencies:[te,z,ke,X,ae,K,Ue,Ge,L,ne,A,j,re,qe,Be,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}"]});let n=s;return n})();var hd=["specialApproval"],gd=()=>({width:"80vw"}),Ci=()=>({width:"100%"}),fd=()=>({width:"100rem"});function _d(n,s){if(n&1&&(r(0,"th",36),p(1),h(2,"p-sortIcon",37),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function vd(n,s){if(n&1&&(r(0,"tr")(1,"th",33),h(2,"p-tableHeaderCheckbox",34),i(),b(3,_d,3,3,"th",35),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function yd(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function Cd(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y().$implicit,e=y().$implicit;T(" ",Ee(1,1,e[o.field],"dd-MM-yyyy HH:mm")," ")}}function bd(n,s){if(n&1&&(r(0,"td"),b(1,yd,2,1,"ng-container",41)(2,Cd,2,4,"ng-template",null,2,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function wd(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",38)(2,"p-checkbox",39),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedSpecialApproval,t)||(a.selectedSpecialApproval=t),f(t)}),i()(),b(3,bd,4,2,"td",40),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedSpecialApproval[0]===o),l(2),F("ngModel",t.selectedSpecialApproval),c("value",o),l(),c("ngForOf",e)}}function xd(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",42),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}var Tn=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.auth=P,this.fb=N,this.spin=$,this.specialApprovalTable=[],this.selectedSpecialApproval=[],this.cols=[],this.target=[],this.searchform=this.fb.group({specialApprovalId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={specialApprovalId:"Special Approval",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.specialApprovalDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Master","Special Approval"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"specialApprovalId",header:"Special Approval ID"},{field:"specialApprovalText",header:"Special Approval Name"},{field:"remark",header:"Remarks"},{field:"statusDescription",header:"Status"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"languageDescription",header:"Language"},{field:"companyId",header:"Company ID"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.specialApprovalTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedSpecialApproval[this.selectedSpecialApproval.length-1];this.selectedSpecialApproval.length=0,this.selectedSpecialApproval.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedSpecialApproval[0])})}openCrud(e="New",t=null){if(this.selectedSpecialApproval.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedSpecialApproval[0],pageflow:e});this.router.navigate(["/main/master/specialApproval-new/"+a])}}deleteDialog(){if(this.selectedSpecialApproval.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedSpecialApproval,module:"Special Approval",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedSpecialApproval[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e.specialApprovalId).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.specialApprovalId+" Deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.specialApprovalTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="date"?(console.log(3),a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy")):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"Special Approval")}getSearchDropdown(){this.specialApprovalTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.specialApprovalId!=null&&(this.specialApprovalDropdown.push({value:e.specialApprovalId,label:e.specialApprovalText}),this.specialApprovalDropdown=this.cs.removeDuplicatesFromArrayList(this.specialApprovalDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.specialApprovalTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({specialApprovalId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(yi),u(se),u(Y),u(k),u(W),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-special-approval"]],viewQuery:function(t,a){if(t&1&&we(hd,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:43,vars:28,consts:[["specialApproval",""],["specialApprovalTag",""],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","specialApprovald","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"]],template:function(t,a){if(t&1){let d=E();r(0,"div",3)(1,"div",4)(2,"p",5),p(3,"Special Approval "),i(),r(4,"div",4)(5,"img",6),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",7),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",8),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",9),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",10),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",11),p(11," Add New"),i()()(),r(12,"div",12)(13,"p-iconField",13)(14,"p-inputIcon",14),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",15),v("input",function(_){g(d);let I=V(39);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",16,0)(18,"form",17)(19,"div",18)(20,"div",19)(21,"p",20),p(22,"Special Approval"),i(),h(23,"p-multiSelect",21),i(),r(24,"div",19)(25,"p",20),p(26,"Status"),i(),h(27,"p-multiSelect",22),i()(),r(28,"div",23)(29,"div")(30,"img",24),v("click",function(){return g(d),f(a.reset())}),i()(),r(31,"div")(32,"button",25),v("click",function(){return g(d),f(a.closeOverLay())}),p(33,"Cancel"),i(),r(34,"button",26),v("click",function(){return g(d),f(a.search())}),p(35,"Apply"),i()()()()(),r(36,"p-chips",27),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(37,"div",28)(38,"p-table",29,1),b(40,vd,4,2,"ng-template",30)(41,wd,4,5,"ng-template",31)(42,xd,4,1,"ng-template",32),i()()()}t&2&&(l(16),w(C(22,gd)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(23,Ci)),c("options",a.specialApprovalDropdown)("panelStyle",C(24,Ci)),l(4),w(C(25,Ci)),c("options",a.statusDropdown)("panelStyle",C(26,Ci)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.specialApprovalTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(27,fd)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,B,H,Y],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=s;return n})();var bi=(()=>{let s=class s{constructor(e,t){this.http=e,this.auth=t}Get(e){return this.http.get("/overc-idmaster-service/airportCode/"+e)}Create(e){return this.http.post("/overc-idmaster-service/airportCode",e)}Update(e){return this.http.patch("/overc-idmaster-service/airportCode/"+e.airportCode+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId,e)}Delete(e){return this.http.delete("/overc-idmaster-service/airportCode/"+e.airportCode+"?languageId="+this.auth.languageId+"&companyId="+this.auth.companyId)}search(e){return this.http.post("/overc-idmaster-service/airportCode/find",e)}};s.\u0275fac=function(t){return new(t||s)(ee(Qe),ee(k))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var Id=["airportCode"],Sd=()=>({width:"80vw"}),wi=()=>({width:"100%"}),Ed=()=>({width:"100rem"});function Td(n,s){if(n&1&&(r(0,"th",39),p(1),h(2,"p-sortIcon",40),i()),n&2){let o=s.$implicit;c("pSortableColumn",o.field),l(),T(" ",o.header," "),l(),c("field",o.field)}}function Nd(n,s){if(n&1&&(r(0,"tr")(1,"th",36),h(2,"p-tableHeaderCheckbox",37),i(),b(3,Td,3,3,"th",38),i()),n&2){let o=s.$implicit;l(2),c("disabled",!0),l(),c("ngForOf",o)}}function kd(n,s){if(n&1&&(Ce(0),p(1),be()),n&2){let o=y().$implicit,e=y().$implicit;l(),T(" ",e[o.field]," ")}}function Fd(n,s){if(n&1&&(p(0),Se(1,"date")),n&2){let o=y(2).$implicit;T(" ",Ee(1,1,o.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Md(n,s){if(n&1&&(r(0,"td"),b(1,kd,2,1,"ng-container",44)(2,Fd,2,4,"ng-template",null,3,Te),i()),n&2){let o=s.$implicit,e=V(3);l(),c("ngIf",o.format!=="date")("ngIfElse",e)}}function Dd(n,s){if(n&1){let o=E();r(0,"tr")(1,"td",41)(2,"p-checkbox",42),v("onChange",function(){g(o);let t=y();return f(t.onChange())}),D("ngModelChange",function(t){g(o);let a=y();return M(a.selectedAirportCode,t)||(a.selectedAirportCode=t),f(t)}),i()(),b(3,Md,4,2,"td",43),i()}if(n&2){let o=s.$implicit,e=s.columns,t=y();ye("selectedRow",t.selectedAirportCode[0]===o),l(2),F("ngModel",t.selectedAirportCode),c("value",o),l(),c("ngForOf",e)}}function Pd(n,s){n&1&&(r(0,"tr")(1,"td")(2,"p",45),p(3,"No records found"),i()()()),n&2&&(l(),ve("colspan",4))}function Vd(n,s){n&1&&(r(0,"button",46),p(1,"Edit"),i(),r(2,"button",46),p(3,"Confirm"),i())}var kn=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$){this.messageService=e,this.cs=t,this.router=a,this.path=d,this.service=m,this.dialog=_,this.datePipe=I,this.auth=P,this.fb=N,this.spin=$,this.airportCodeTable=[],this.selectedAirportCode=[],this.cols=[],this.target=[],this.searchform=this.fb.group({airportCode:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={airportCode:"Airport Code",statusId:"Status"},this.languageDropdown=[],this.companyDropdown=[],this.airportCodeDropdown=[],this.statusDropdown=[]}ngOnInit(){let e=["Master","Airport Code"];this.path.setData(e),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyName",header:"Company"},{field:"airportCode",header:"Airport Code"},{field:"airportText",header:"Airport Name"},{field:"countryName",header:"Country"},{field:"statusDescription",header:"Status"},{field:"remark",header:"Remark"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language ID"},{field:"companyId",header:"Company ID"},{field:"countryId",header:"Country ID"},{field:"languageDescription",header:"Language"},{field:"statusId",header:"Status ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField5",header:"Reference Field 5"},{field:"referenceField6",header:"Reference Field 6"},{field:"referenceField7",header:"Reference Field 7"},{field:"referenceField8",header:"Reference Field 8"},{field:"referenceField9",header:"Reference Field 9"},{field:"referenceField10",header:"Reference Field 10"},{field:"updatedBy",header:"Updated By"},{field:"updatedOn",header:"Updated On",format:"date"}]}initialCall(){setTimeout(()=>{this.spin.show();let e={};e.languageId=[this.auth.languageId],e.companyId=[this.auth.companyId],this.service.search(e).subscribe({next:t=>{console.log(t),this.airportCodeTable=t,this.getSearchDropdown(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})},1e3)}onChange(){let e=this.selectedAirportCode[this.selectedAirportCode.length-1];this.selectedAirportCode.length=0,this.selectedAirportCode.push(e)}customTable(){this.dialog.open(We,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedAirportCode[0])})}openCrud(e="New",t=null){if(this.selectedAirportCode.length===0&&e!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let a=this.cs.encrypt({line:t??this.selectedAirportCode[0],pageflow:e});this.router.navigate(["/main/master/airportCode-new/"+a])}}deleteDialog(){if(this.selectedAirportCode.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(He,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedAirportCode,module:"Airport Code",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(t=>{t&&this.deleterecord(this.selectedAirportCode[0])})}deleterecord(e){this.spin.show(),this.service.Delete(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:e.airportCode+" deleted successfully"}),this.spin.hide(),this.initialCall()},error:t=>{this.cs.commonerrorNew(t),this.spin.hide()}})}downloadExcel(){let e=this.airportCodeTable.map(t=>{let a={};return this.cols.forEach(d=>{d.format=="date"?a[d.field]=this.datePipe.transform(t[d.field],"dd-MM-yyyy"):a[d.field]=t[d.field]}),a});this.cs.exportAsExcel(e,"Airport Code")}getSearchDropdown(){this.airportCodeTable.forEach(e=>{e.languageId!=null&&(this.languageDropdown.push({value:e.languageId,label:e.languageDescription}),this.languageDropdown=this.cs.removeDuplicatesFromArrayList(this.languageDropdown,"value")),e.companyId!=null&&(this.companyDropdown.push({value:e.companyId,label:e.companyName}),this.companyDropdown=this.cs.removeDuplicatesFromArrayList(this.companyDropdown,"value")),e.airportCode!=null&&(this.airportCodeDropdown.push({value:e.airportCode,label:e.airportText}),this.airportCodeDropdown=this.cs.removeDuplicatesFromArrayList(this.airportCodeDropdown,"value")),e.statusId!=null&&(this.statusDropdown.push({value:e.statusId,label:e.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let e=this.searchform.value;this.fieldsWithValue=Object.keys(e).filter(t=>e[t]!==null&&e[t]!==void 0&&t!=="companyId"&&t!=="languageId").map(t=>this.fieldDisplayNames[t]||t),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:t=>{this.airportCodeTable=t,this.spin.hide(),this.overlayPanel.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({airportCode:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(e){let t=Object.keys(this.fieldDisplayNames).find(a=>this.fieldDisplayNames[a]===e.value);t&&(this.searchform.get(t)?.reset(),this.search())}};s.\u0275fac=function(t){return new(t||s)(u(q),u(U),u(O),u(Q),u(bi),u(se),u(Y),u(k),u(W),u(G))},s.\u0275cmp=R({type:s,selectors:[["app-airport-code"]],viewQuery:function(t,a){if(t&1&&we(Id,5),t&2){let d;xe(d=Ie())&&(a.overlayPanel=d.first)}},decls:46,vars:28,consts:[["airportCode",""],["airportCodeTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","airportCode","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","single","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"columns","value","scrollable","paginator","rows","showCurrentPageReport","sortOrder","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"onChange","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(t,a){if(t&1){let d=E();r(0,"div",4)(1,"div",5)(2,"p",6),p(3,"Airport Code "),i(),r(4,"div",5)(5,"img",7),v("click",function(){return g(d),f(a.openCrud("Edit"))}),i(),r(6,"img",8),v("click",function(){return g(d),f(a.downloadExcel())}),i(),r(7,"img",9),v("click",function(){return g(d),f(a.deleteDialog())}),i(),r(8,"img",10),v("click",function(){return g(d),f(a.customTable())}),i(),r(9,"button",11),v("click",function(){return g(d),f(a.openCrud("New"))}),h(10,"i",12),p(11," Add New"),i()()(),r(12,"div",13)(13,"p-iconField",14)(14,"p-inputIcon",15),v("click",function(_){g(d);let I=V(17);return f(I.toggle(_))}),i(),r(15,"input",16),v("input",function(_){g(d);let I=V(39);return f(I.filterGlobal(_.target.value,"contains"))}),i()(),r(16,"p-overlayPanel",17,0)(18,"form",18)(19,"div",19)(20,"div",20)(21,"p",21),p(22,"Airport Code"),i(),h(23,"p-multiSelect",22),i(),r(24,"div",20)(25,"p",21),p(26,"Status"),i(),h(27,"p-multiSelect",23),i()(),r(28,"div",24)(29,"div")(30,"img",25),v("click",function(){return g(d),f(a.reset())}),i()(),r(31,"div")(32,"button",26),v("click",function(){return g(d),f(a.closeOverLay())}),p(33,"Cancel"),i(),r(34,"button",27),v("click",function(){return g(d),f(a.search())}),p(35,"Apply"),i()()()()(),r(36,"p-chips",28),v("onRemove",function(_){return g(d),f(a.chipClear(_))}),D("ngModelChange",function(_){return g(d),M(a.fieldsWithValue,_)||(a.fieldsWithValue=_),f(_)}),i()(),r(37,"div",29)(38,"p-table",30,1),b(40,Nd,4,2,"ng-template",31)(41,Dd,4,5,"ng-template",32)(42,Pd,4,1,"ng-template",33),i()()(),r(43,"mat-menu",34,2),b(45,Vd,4,0,"ng-template",35),i()}t&2&&(l(16),w(C(22,Sd)),c("dismissable",!1)("styleClass","custom-overlay-panel"),l(2),c("formGroup",a.searchform),l(5),w(C(23,wi)),c("options",a.airportCodeDropdown)("panelStyle",C(24,wi)),l(4),w(C(25,wi)),c("options",a.statusDropdown)("panelStyle",C(26,wi)),l(9),F("ngModel",a.fieldsWithValue),l(2),c("columns",a.cols)("value",a.airportCodeTable)("scrollable",!0)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",C(27,Ed)))},dependencies:[Ne,z,X,oe,De,Pe,Ve,Oe,Re,K,Ae,L,A,j,Me,je,le,Le,Je,$e,Ye,B,H,Y],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}"]});let n=s;return n})();var Lt=()=>({width:"100%"});function Rd(n,s){n&1&&(r(0,"p",15),p(1,"1"),i())}function Od(n,s){n&1&&h(0,"img",16)}function Ad(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11),b(2,Rd,2,0,"p",12)(3,Od,1,0,"img",13),i(),r(4,"div")(5,"p",14),p(6,"General"),i()()()}if(n&2){let o=y();l(2),c("ngIf",o.active==0),l(),c("ngIf",o.active!=0)}}function jd(n,s){if(n&1&&(r(0,"mat-error",32)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Ld(n,s){if(n&1&&(r(0,"mat-error",32)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Bd(n,s){if(n&1&&(r(0,"mat-error",32)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Hd(n,s){if(n&1&&(r(0,"mat-error",32)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function Wd(n,s){if(n&1&&(r(0,"mat-error",32)(1,"small"),p(2),i()()),n&2){let o=y(2);l(2),x(o.getErrorMessage())}}function qd(n,s){if(n&1){let o=E();r(0,"div",17)(1,"div",18)(2,"p",19),p(3,"Language"),i(),h(4,"p-dropdown",20),b(5,jd,3,1,"mat-error",21),i(),r(6,"div",18)(7,"p",19),p(8,"Company"),i(),h(9,"p-dropdown",22),b(10,Ld,3,1,"mat-error",21),i(),r(11,"div",18)(12,"p",19),p(13,"Country"),i(),h(14,"p-dropdown",23),b(15,Bd,3,1,"mat-error",21),i(),r(16,"div",18)(17,"p",24),p(18,"Airport Code"),i(),h(19,"input",25),b(20,Hd,3,1,"mat-error",21),i(),r(21,"div",18)(22,"p",24),p(23,"Airport Name"),i(),h(24,"input",26),b(25,Wd,3,1,"mat-error",21),i(),r(26,"div",18)(27,"p",19),p(28,"Status"),i(),h(29,"p-dropdown",27),i(),r(30,"div",18)(31,"p",19),p(32,"Remark"),i(),h(33,"input",28),i()(),r(34,"div",29)(35,"button",30),p(36,"Cancel"),i(),r(37,"button",31),v("click",function(){g(o);let t=y();return f(t.save())}),p(38),i()()}if(n&2){let o,e,t,a=y();l(4),w(C(26,Lt)),c("options",a.languageIdList)("disabled",!0)("panelStyle",C(27,Lt)),l(),c("ngIf",a.errorHandling("languageId")),l(4),w(C(28,Lt)),c("options",a.companyIdList)("disabled",!0)("panelStyle",C(29,Lt)),l(),c("ngIf",a.errorHandling("companyId")),l(4),w(C(30,Lt)),c("options",a.countryIdList)("ngClass",(o=a.form.get("countryId"))!=null&&o.invalid&&a.submitted?"ng-invalid ng-dirty":"")("panelStyle",C(31,Lt)),l(),c("ngIf",a.errorHandling("countryId")),l(4),c("ngClass",(e=a.form.get("airportCode"))!=null&&e.invalid&&a.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",a.errorHandling("airportCode")),l(4),c("ngClass",(t=a.form.get("airportText"))!=null&&t.invalid&&a.submitted?"ng-invalid ng-dirty":""),l(),c("ngIf",a.errorHandling("airportText")),l(4),w(C(32,Lt)),c("options",a.status),l(9),x(a.pageToken.pageflow!="New"?"Update":"Save")}}function Gd(n,s){if(n&1){let o=E();r(0,"div",10),v("click",function(){let t=g(o).onClick;return f(t.emit())}),r(1,"div",11)(2,"p",33),p(3," 2"),i()(),r(4,"div")(5,"p",34),p(6," Admin"),i()()()}if(n&2){let o=y(2);l(2),c("ngClass",o.active==2?"borderCircle":"disabled text-muted"),l(3),c("ngClass",o.active==2?"textBlack f600":"text-muted")}}function Ud(n,s){if(n&1){let o=E();r(0,"div",35)(1,"div",18)(2,"p",19),p(3,"Created By"),i(),h(4,"input",36),i(),r(5,"div",18)(6,"p",19),p(7,"Created On"),i(),h(8,"input",37),i(),r(9,"div",18)(10,"p",19),p(11,"Updated By"),i(),h(12,"input",38),i(),r(13,"div",18)(14,"p",19),p(15,"Updated On"),i(),h(16,"input",39),i()(),r(17,"div",29)(18,"button",40),v("click",function(){let t=g(o).prevCallback;return f(t.emit())}),p(19,"Back"),i(),r(20,"button",31),v("click",function(){g(o);let t=y(2);return f(t.save())}),p(21),i()()}if(n&2){let o=y(2);l(21),x(o.pageToken.pageflow!="New"?"Update":"Save")}}function Kd(n,s){n&1&&(r(0,"p-stepperPanel"),b(1,Gd,7,2,"ng-template",7)(2,Ud,22,1,"ng-template",8),i())}var Fn=(()=>{let s=class s{constructor(e,t,a,d,m,_,I,P,N,$,Xe){this.cs=e,this.spin=t,this.route=a,this.router=d,this.path=m,this.fb=_,this.service=I,this.numberRangeService=P,this.messageService=N,this.cas=$,this.auth=Xe,this.active=0,this.status=[],this.form=this.fb.group({airportCode:[,S.required],airportText:[,S.required],languageId:[this.auth.languageId,S.required],languageDescription:[],companyId:[this.auth.companyId,S.required],companyName:[],countryId:[],countryName:[],statusDescription:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""],referenceField1:[],referenceField2:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],referenceField10:[],remark:[],statusId:["16"]}),this.submitted=!1,this.email=new Fe("",[S.required,S.email]),this.languageIdList=[],this.companyIdList=[],this.countryIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(e,t="required"){let a=this.form.get(e);return a&&a.hasError(t)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let e=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(e);let t=["Master","Airport Code",this.pageToken.pageflow];if(this.path.setData(t),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New")this.fill(this.pageToken.line),this.form.controls.airportCode.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable();else{this.spin.show();let a={};a.numberRangeObject=["AIRPORTCODE"],this.numberRangeService.search(a).subscribe({next:d=>{d.length>0&&(this.nextNumber=Number(d[0].numberRangeCurrent)+1,this.form.controls.airportCode.patchValue(this.nextNumber),this.numCondition="true",this.form.controls.referenceField10.patchValue(this.numCondition),this.form.controls.airportCode.disable()),this.spin.hide()},error:d=>{this.spin.hide(),this.cs.commonerrorNew(d)}})}}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.country.url]).subscribe({next:e=>{console.log(this.cas.dropdownlist.setup.language.key),console.log(this.cas.dropdownlist.setup.company.key),this.languageIdList=this.cas.foreachlist(e[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(e[1],this.cas.dropdownlist.setup.company.key),this.countryIdList=this.cas.forLanguageFilter(e[2],this.cas.dropdownlist.setup.country.key),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})}fill(e){this.form.patchValue(e),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update(this.form.getRawValue()).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:e.airportCode+" has been updated successfully"}),this.router.navigate(["/main/master/airportCode"]),this.spin.hide()},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}})):(this.spin.show(),this.service.Create(this.form.getRawValue()).subscribe({next:e=>{e&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:e.airportCode+" has been created successfully"}),this.router.navigate(["/main/master/airportCode"]),this.spin.hide())},error:e=>{this.spin.hide(),this.cs.commonerrorNew(e)}}))}};s.\u0275fac=function(t){return new(t||s)(u(U),u(G),u(ie),u(O),u(Q),u(W),u(bi),u(ze),u(q),u(pe),u(k))},s.\u0275cmp=R({type:s,selectors:[["app-airport-code-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["placeholder","Select","filter","true","formControlName","countryId","appendTo","body",3,"options","ngClass","panelStyle"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","airportCode","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","100","pInputText","","formControlName","airportText","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["appendTo","body","formControlName","statusId","placeholder","Select",3,"options"],["maxlength","2000","formControlName","remark","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/master/airportCode",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"p",2),p(3),i(),r(4,"div",1)(5,"button",3),p(6,"Transfer"),i()()(),r(7,"div",4)(8,"form",5)(9,"p-stepper",6),D("activeStepChange",function(m){return M(a.active,m)||(a.active=m),m}),r(10,"p-stepperPanel"),b(11,Ad,7,2,"ng-template",7)(12,qd,39,33,"ng-template",8),i(),b(13,Kd,3,0,"p-stepperPanel",9),i()()()()),t&2&&(l(3),T("Airport Code - ",a.pageToken.pageflow,""),l(5),c("formGroup",a.form),l(),F("activeStep",a.active),l(4),c("ngIf",a.pageToken.pageflow!="New"))},dependencies:[te,z,ke,X,ae,K,Ue,Ge,L,ne,A,j,re,qe,Be,B,H],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let n=s;return n})();var Qd=[{path:"hub",component:Ai,data:{title:"Master",module:"Hub"}},{path:"hub-new/:code",component:Oi,data:{title:"Master",module:"Hub - Add New"}},{path:"rate",component:en,data:{title:"Master",module:"Rate"}},{path:"rate-new/:code",component:tn,data:{title:"Master",module:"Rate - Add New"}},{path:"districtMapping",component:qi,data:{title:"Master",module:"DistrictMapping"}},{path:"districtMapping-new/:code",component:Wi,data:{title:"Master",module:"DistrictMapping - Add New"}},{path:"provinceMapping",component:Ki,data:{title:"Master",module:"ProvinceMapping"}},{path:"provinceMapping-new/:code",component:Ui,data:{title:"Master",module:"ProvinceMapping - Add New"}},{path:"countryMapping",component:Bi,data:{title:"Master",module:"CountryMapping"}},{path:"countryMapping-new/:code",component:Li,data:{title:"Master",module:"CountryMapping - Add New"}},{path:"cityMapping",component:zi,data:{title:"Master",module:"CityMapping"}},{path:"cityMapping-new/:code",component:$i,data:{title:"Master",module:"CityMapping - Add New"}},{path:"hubPartnerAssignment",component:Ji,data:{title:"Master",module:"HubPartnerAssignment"}},{path:"hubPartnerAssignment-new/:code",component:Yi,data:{title:"Master",module:"HubPartnerAssignment - Add New"}},{path:"customer",component:nn,data:{title:"Setup",module:"Customer"}},{path:"customer-new/:code",component:rn,data:{title:"Setup",module:"Customer - Add New"}},{path:"consignor",component:ln,data:{title:"Setup",module:"Consignor"}},{path:"consignor-new/:code",component:on,data:{title:"Setup",module:"Consignor - Add New"}},{path:"hsCode",component:fn,data:{title:"Setup",module:"HS Code"}},{path:"hsCode-new/:code",component:gn,data:{title:"Setup",module:"HS Code - Add New"}},{path:"opstatus",component:In,data:{title:"Setup",module:"Opstatus"}},{path:"opstatus-new/:code",component:wn,data:{title:"Setup",module:"Opstatus - Add New"}},{path:"numberrange",component:Cn,data:{title:"Setup",module:"NumberRange"}},{path:"numberrange-new/:code",component:yn,data:{title:"Setup",module:"NumberRange - Add New"}},{path:"specialApproval",component:Tn,data:{title:"Setup",module:"Special Approval"}},{path:"specialApproval-new/:code",component:En,data:{title:"Setup",module:"Special Approval - Add New"}},{path:"event",component:un,data:{title:"Master",module:"Event"}},{path:"event-new/:code",component:mn,data:{title:"Master",module:"Event - Add New"}},{path:"currencyExchangeRate",component:dn,data:{title:"Master",module:"CurrencyExchangeRate"}},{path:"currencyExchangeRate-new/:code",component:pn,data:{title:"Master",module:"CurrencyExchangeRate - Add New"}},{path:"iata",component:vn,data:{title:"Master",module:"Iata"}},{path:"iata-new/:code",component:_n,data:{title:"Master",module:"Iata - Add New"}},{path:"airportCode",component:kn,data:{title:"Master",module:"AirportCode"}},{path:"airportCode-new/:code",component:Fn,data:{title:"Master",module:"AirportCode - Add New"}}],Mn=(()=>{let s=class s{};s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=Jt({type:s}),s.\u0275inj=Yt({imports:[Ii.forChild(Qd),Ii]});let n=s;return n})();var Lu=(()=>{let s=class s{};s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=Jt({type:s}),s.\u0275inj=Yt({imports:[Fi,Mn,Mi]});let n=s;return n})();export{Lu as MasterModule};
