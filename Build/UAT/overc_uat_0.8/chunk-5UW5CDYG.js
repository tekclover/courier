import{a as xi}from"./chunk-AHWDA4HQ.js";import{a as Si}from"./chunk-SJOIZFOC.js";import{a as Qt}from"./chunk-WSSFXFTH.js";import{a as Je,b as Ut,c as Ct,d as Ei}from"./chunk-T2ERRVST.js";import"./chunk-GFJV3LPZ.js";import{a as bi,b as Ii}from"./chunk-J5Y7PI5O.js";import{a as te}from"./chunk-M25YEJQX.js";import{a as yt,b as vt}from"./chunk-JKZWSLYV.js";import{a as W}from"./chunk-VUSORBJH.js";import{$ as ke,$a as $,A as pe,Aa as ei,Ab as je,B as p,Ba as ae,C as bt,Ca as H,Cb as We,D as I,Da as G,Db as gt,E as i,Ea as q,Eb as ft,F as e,G as c,Ga as De,H as Me,Ha as st,I as Fe,Ia as Q,J as P,Ja as U,K as x,Ka as gi,L as y,La as z,M as Kt,Ma as fi,N as rt,Na as he,O as ot,Oa as V,Ob as $e,P as at,Pa as R,Pb as Ye,Q as K,Qa as ne,Qb as ge,R as a,Ra as yi,Rb as Ze,S as b,Sa as vi,Sb as wi,T as F,Ta as ti,U as Y,Ua as ii,V as Z,Va as Ci,W as J,Wa as L,X as g,Y as It,Z as ue,Za as j,_ as ci,_a as B,aa as Be,ea as ie,eb as _i,fa as Ae,fb as re,ga as X,gb as Oe,ha as mi,hb as qt,ia as se,ib as Qe,ja as ui,jb as Ue,kb as St,la as hi,lb as Ve,mb as Re,n as Lt,na as Gt,nb as dt,o as jt,ob as pt,p as xt,q as D,qb as ct,r as Wt,rb as mt,s as _,t as w,tb as ze,u as pi,va as ee,w as Ht,x as o,xa as O,xb as ut,y as u,ya as Pe,yb as Le,z as C,zb as ht}from"./chunk-OEJ43FKK.js";var Ti=(()=>{let d=class d{constructor(t,n,l,m,h,f,E,S,N,M,k,A){this.dialogRef=t,this.data=n,this.cs=l,this.spin=m,this.route=h,this.router=f,this.path=E,this.fb=S,this.consignmentService=N,this.messageService=M,this.cas=k,this.auth=A,this.indicator=[],this.reorderedIndicator=[]}ngOnInit(){this.preAlertValidation()}preAlertValidation(){let t={};t.languageId=[this.auth.languageId],t.companyId=[this.auth.companyId],t.houseAirwayBill=[this.data.line.houseAirwayBill],this.consignmentService.findConsignmentPreAlertIndicator(t).subscribe({next:n=>{this.indicator=n,this.reorderedIndicator=this.indicator.map(l=>this.reorderFields(l))},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}reorderFields(t){let n={},l=[],m=[];for(let h in t)t[h]===null||t[h]===""?l.push({[h]:t[h]}):typeof t[h]=="object"&&!Array.isArray(t[h])?m.push({[h]:this.reorderFields(t[h])}):Array.isArray(t[h])?m.push({[h]:t[h].map(f=>this.reorderFields(f))}):m.push({[h]:t[h]});return l.forEach(h=>Object.assign(n,h)),m.forEach(h=>Object.assign(n,h)),n}save(){this.dialogRef.close()}};d.\u0275fac=function(n){return new(n||d)(u($e),u(Ye),u(j),u(L),u(ee),u(O),u(W),u(V),u(Je),u(R),u(te),u(B))},d.\u0275cmp=D({type:d,selectors:[["app-pre-alert-manifest-indicator"]],decls:16,vars:3,consts:[[1,"bgWhite","text-black","w-93","h-100","m-4","mt-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"mt-4"],[1,"d-flex-row"],[1,"scrollNew"],[1,"marginFieldNew","borderRadius12"],[1,"d-flex","float-right","py-2",2,"position","absolute","right","3.5%","bottom","7%"],["mat-dialog-close","",1,"buttom1","textBlack","mx-1"]],template:function(n,l){n&1&&(i(0,"div",0)(1,"div",1)(2,"p",2),a(3,"Pre-Alert Indicator"),e(),i(4,"div",1)(5,"button",3),a(6,"Transfer"),e()()(),i(7,"div",4)(8,"div",5)(9,"div",6)(10,"pre",7),a(11),ue(12,"json"),e()(),i(13,"div",8)(14,"button",9),a(15,"Cancel"),e()()()()()),n&2&&(o(11),F("                    ",ci(12,1,l.reorderedIndicator),`
                `))},dependencies:[Ze,ui],styles:[".deleteBody[_ngcontent-%COMP%]{font-family:Nunito;font-size:14px;font-weight:400;line-height:20.8px;text-align:center;color:#fffc;padding-bottom:1rem}.deleteHeader[_ngcontent-%COMP%]{font-family:Nunito;font-size:22px;font-weight:700;line-height:31.2px;text-align:left;padding-bottom:1rem}.cancelButton[_ngcontent-%COMP%]{padding:7px 25px;gap:10px;border-radius:6px;border:1px 0px 0px 0px;opacity:0px;background-color:var(--white);color:var(--black)}.saveButton[_ngcontent-%COMP%]{padding:7px 35px;gap:10px;border-radius:6px;opacity:0px;background-color:var(--overcOrange);color:var(--black)}  .mat-mdc-dialog-container .mdc-dialog__surface{border-radius:12px!important}.deleteDialog[_ngcontent-%COMP%]{padding:2rem 1rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 25rem);overflow-y:scroll}.circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:14px;line-height:30px}.img-icon[_ngcontent-%COMP%]{gap:2rem}"]});let r=d;return r})();var Et=(()=>{let d=class d{constructor(t,n){this.http=t,this.auth=n}Get(t){return this.http.get("/overc-midmile-service/bondedManifest/"+t)}Create(t){return this.http.post("/overc-midmile-service/bondedManifest/create",t)}Update(t){return this.http.patch("/overc-midmile-service/bondedManifest/update/list",t)}Delete(t){return this.http.post("/overc-midmile-service/bondedManifest/delete/list",t)}search(t){return this.http.post("/overc-midmile-service/bondedManifest/findBondedManifest",t)}};d.\u0275fac=function(n){return new(n||d)(xt(Gt),xt(B))},d.\u0275prov=Lt({token:d,factory:d.\u0275fac,providedIn:"root"});let r=d;return r})();var xe=(()=>{let d=class d{constructor(t,n){this.http=t,this.auth=n}Get(t){return this.http.get("/overc-midmile-service/console/"+t)}Create(t){return this.http.post("/overc-midmile-service/console/create/list",t)}CreateFromConsignment(t){return this.http.post("/overc-midmile-service/console/consignment",t)}Update(t){return this.http.patch("/overc-midmile-service/console/update/list",t)}UpdateCCR(t){return this.http.patch("/overc-midmile-service/ccr/update/list",t)}Transfer(t){return this.http.post("/overc-midmile-service/console/transfer",t)}Delete(t){return this.http.post("/overc-midmile-service/console/delete/list",t)}search(t){return this.http.post("/overc-midmile-service/console/findConsole",t)}};d.\u0275fac=function(n){return new(n||d)(xt(Gt),xt(B))},d.\u0275prov=Lt({token:d,factory:d.\u0275fac,providedIn:"root"});let r=d;return r})();var Ki=["preAlertManifest"],Gi=()=>({width:"180"}),qi=()=>({width:"80vw"}),He=()=>({width:"100%"}),Qi=()=>({width:"125rem"}),Ui=r=>({selectedRow:r}),zi=()=>({cursor:"pointer"});function $i(r,d){if(r&1&&(i(0,"th"),a(1),e()),r&2){let s=d.$implicit;o(),F(" ",s.header," ")}}function Yi(r,d){if(r&1&&(i(0,"tr")(1,"th",48),c(2,"p-tableHeaderCheckbox",49),e(),i(3,"th",48),a(4," Actions "),e(),C(5,$i,2,1,"th",50),e()),r&2){let s=d.$implicit;o(5),p("ngForOf",s)}}function Zi(r,d){if(r&1&&(Me(0),a(1),Fe()),r&2){let s=y().$implicit,t=y().$implicit;o(),F(" ",t[s.field]," ")}}function Ji(r,d){if(r&1&&(i(0,"span",59),c(1,"img",60),e()),r&2){let s=y(2).$implicit,t=y().$implicit;o(),Kt("alt",t[s.field]==0?"No":"Yes"),p("src",t[s.field]==1?"./assets/common/okCircle.png":"./assets/common/wrongCircle.png",Ht)}}function Xi(r,d){if(r&1&&(i(0,"span",59),c(1,"img",60),e()),r&2){let s=y(2).$implicit,t=y().$implicit;o(),Kt("alt",t[s.field]==0?"No":"Yes"),p("src",t[s.field]==1?"./assets/common/okCircle.png":"./assets/common/wrongCircle.png",Ht)}}function en(r,d){if(r&1){let s=P();i(0,"span",61),x("click",function(){_(s);let n=y(3).$implicit,l=y();return w(l.preAlertIndicator(n))}),c(1,"img",60),e()}if(r&2){let s=y(2).$implicit,t=y().$implicit;p("ngStyle",g(3,zi)),o(),Kt("alt",t[s.field]==0?"Yes":"No"),p("src",t[s.field]==0?"./assets/common/okCircle.png":"./assets/common/wrongCircle.png",Ht)}}function tn(r,d){if(r&1&&(i(0,"span"),a(1),ue(2,"date"),e()),r&2){let s=y(2).$implicit,t=y().$implicit;o(),b(ke(2,1,t[s.field],"dd-MM-yyyy HH:mm"))}}function nn(r,d){if(r&1&&C(0,Ji,2,2,"span",56)(1,Xi,2,2,"span",56)(2,en,2,4,"span",57)(3,tn,3,4,"span",58),r&2){let s=y().$implicit;p("ngIf",s.field==="consoleIndicator"),o(),p("ngIf",s.field==="manifestIndicator"),o(),p("ngIf",s.field==="preAlertManifestIndicator"),o(),p("ngIf",s.format==="date")}}function rn(r,d){if(r&1&&(i(0,"td"),C(1,Zi,2,1,"ng-container",55)(2,nn,4,4,"ng-template",null,4,Be),e()),r&2){let s=d.$implicit,t=K(3);o(),p("ngIf",s.format!=="date"&&s.format!=="boolean")("ngIfElse",t)}}function on(r,d){if(r&1&&(i(0,"tr",51)(1,"td",52),c(2,"p-tableCheckbox",53),e(),i(3,"td",52),c(4,"i",54),e(),C(5,rn,4,2,"td",50),e()),r&2){let s=d.$implicit,t=d.columns,n=d.expanded,l=y();p("ngClass",It(5,Ui,l.isSelected(s))),o(2),p("value",s),o(2),p("pRowToggler",s)("ngClass",n?"bi-chevron-up":"bi-chevron-right"),o(),p("ngForOf",t)}}function an(r,d){if(r&1&&(i(0,"td",62)(1,"div",63),c(2,"div",64),i(3,"div",65)(4,"div",24)(5,"div",66)(6,"p",67),a(7,"Partner MAWB"),e()(),i(8,"div",66)(9,"p",68),a(10),e()(),i(11,"div",66)(12,"p",67),a(13,"Qty"),e()(),i(14,"div",66)(15,"p",69),a(16),e()(),i(17,"div",66)(18,"p",67),a(19,"Unit Value"),e()(),i(20,"div",66)(21,"p",68),a(22),e()(),i(23,"div",66)(24,"p",67),a(25,"Total Value"),e()(),i(26,"div",66)(27,"p",69),a(28),e()(),i(29,"div",66)(30,"p",67),a(31,"Currency"),e()(),i(32,"div",66)(33,"p",68),a(34),e()(),i(35,"div",66)(36,"p",67),a(37,"Gross Weight"),e()(),i(38,"div",66)(39,"p",69),a(40),e()(),i(41,"div",66)(42,"p",67),a(43,"Net Weight"),e()(),i(44,"div",66)(45,"p",68),a(46),e()(),i(47,"div",66)(48,"p",67),a(49,"Weight Unit"),e()(),i(50,"div",66)(51,"p",68),a(52),e()()()()()()),r&2){let s=d.$implicit,t=y();pe("colspan",t.getColspan()),o(10),b(s.partnerMasterAirwayBill),o(5),p("ngClass",s.quantity?"bgOrange text-dark w-75 textCenter":""),o(),F(" ",s.quantity,""),o(6),b(s.unitValue),o(5),p("ngClass",s.declaredValue?"bgOrange text-dark w-75 textCenter":""),o(),F(" ",s.declaredValue,""),o(6),b(s.currency),o(5),p("ngClass",s.weight?"bgOrange text-dark w-75 textCenter":""),o(),F(" ",s.weight,""),o(6),b(s.weight),o(6),b(s.weightUnit)}}function ln(r,d){r&1&&(i(0,"tr")(1,"td")(2,"p",70),a(3,"No records found"),e()()()),r&2&&(o(),pe("colspan",4))}function sn(r,d){r&1&&(i(0,"button",71),a(1,"Edit"),e(),i(2,"button",71),a(3,"Confirm"),e())}var Ni=(()=>{let d=class d{constructor(t,n,l,m,h,f,E,S,N,M,k,A){this.messageService=t,this.cs=n,this.router=l,this.path=m,this.service=h,this.dialog=f,this.datePipe=E,this.auth=S,this.spin=N,this.manifest=M,this.console=k,this.fb=A,this.preAlertManifestTable=[],this.selectedPreAlertManifest=[],this.cols=[],this.target=[],this.searchform=this.fb.group({houseAirwayBill:[],masterAirwayBill:[],partnerId:[],pieceId:[],pieceItemId:[],manifestIndicator:[],consoleIndicator:[],shipperId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={houseAirwayBill:"Consignment No",masterAirwayBill:"MAWB",partnerId:"Partner",shipperId:"Shipper ID",pieceId:"Piece ID",pieceItemId:"Piece Item ID",statusId:"Status"},this.houseAirwayBillDropdown=[],this.masterAirwayBillDropdown=[],this.partnerDropdown=[],this.statusDropdown=[],this.indicatorDropdown=[]}ngOnInit(){let t=["Mid-Mile","Pre-Alert Manifest "];this.path.setData(t),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"houseAirwayBill",header:"Consignment No"},{field:"partnerMasterAirwayBill",header:"Partner MAWB"},{field:"partnerHouseAirwayBill",header:"Partner HAWB"},{field:"hsCode",header:"HS Code"},{field:"description",header:"Description"},{field:"consoleIndicator",header:"Console",format:"boolean"},{field:"manifestIndicator",header:"Bonded Manifest",format:"boolean"},{field:"preAlertManifestIndicator",header:"Pre-Alert Manifest",format:"boolean"},{field:"statusDescription",header:"Status"},{field:"eventText",header:"Event"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"languageId",header:"Language"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"}]}updateBulk(){this.dialog.open(Ut,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{title:"PreAlertManifest",code:this.selectedPreAlertManifest}}).afterClosed().subscribe(n=>{this.initialCall()})}initialCall(){setTimeout(()=>{this.spin.show();let t={};t.languageId=[this.auth.languageId],t.companyId=[this.auth.companyId],this.service.searchPrealert(t).subscribe({next:n=>{this.preAlertManifestTable=n,console.log(n),this.getSearchDropdown(),this.spin.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})},2e3)}isSelected(t){return this.selectedPreAlertManifest.includes(t)}onChange(){let t=this.selectedPreAlertManifest[this.selectedPreAlertManifest.length-1];this.selectedPreAlertManifest.length=0,this.selectedPreAlertManifest.push(t)}customTable(){this.dialog.open(vt,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(n=>{n&&this.deleterecord(this.selectedPreAlertManifest[0])})}openCrud(t="New",n=null){if(this.selectedPreAlertManifest.length===0&&t!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let l=this.cs.encrypt({line:n??this.selectedPreAlertManifest[0],pageflow:t});this.router.navigate(["/main/airport/preAlertManifest-new/"+l])}}deleteDialog(){if(this.selectedPreAlertManifest.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(yt,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedPreAlertManifest,module:"Pre Alert Manifest",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(n=>{n&&this.deleterecord(this.selectedPreAlertManifest)})}deleterecord(t){this.spin.show(),this.service.Delete(t).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:"Selected records deleted successfully"}),this.spin.hide(),this.initialCall()},error:n=>{this.cs.commonerrorNew(n),this.spin.hide()}})}downloadExcel(){let t=this.preAlertManifestTable.map(n=>{let l={};return this.cols.forEach(m=>{m.format=="date"?l[m.field]=this.datePipe.transform(n[m.field],"dd-MM-yyyy"):l[m.field]=n[m.field]}),l});this.cs.exportAsExcel(t,"Pre-Alert Manifest")}onRowExpand(t){}onRowCollapse(t){}getColspan(){return this.cols.length+2}createConsole(){if(this.selectedPreAlertManifest.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.spin.show();let t=this.selectedPreAlertManifest.map(n=>n.houseAirwayBill);this.service.search({houseAirwayBill:t}).subscribe({next:n=>{this.console.CreateFromConsignment(n).subscribe({next:l=>{this.messageService.add({severity:"success",summary:"Created",key:"br",detail:"Console has been created successfully"}),this.spin.hide(),this.initialCall()},error:l=>{this.spin.hide(),this.cs.commonerrorNew(l)}})}})}createManifest(){if(this.selectedPreAlertManifest.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.spin.show();let t=this.selectedPreAlertManifest.map(n=>n.houseAirwayBill);this.service.search({houseAirwayBill:t}).subscribe({next:n=>{this.manifest.Create(n).subscribe({next:l=>{this.messageService.add({severity:"success",summary:"Created",key:"br",detail:"Manifest has been created successfully"}),this.spin.hide(),this.initialCall()},error:l=>{this.spin.hide(),this.cs.commonerrorNew(l)}})}})}getSearchDropdown(){this.preAlertManifestTable.forEach(t=>{t.houseAirwayBill!=null&&(this.houseAirwayBillDropdown.push({value:t.houseAirwayBill,label:t.houseAirwayBill}),this.houseAirwayBillDropdown=this.cs.removeDuplicatesFromArrayList(this.houseAirwayBillDropdown,"value")),t.partnerId!=null&&(this.partnerDropdown.push({value:t.partnerId,label:t.partnerName}),this.partnerDropdown=this.cs.removeDuplicatesFromArrayList(this.partnerDropdown,"partnerId")),t.masterAirwayBill!=null&&(this.masterAirwayBillDropdown.push({value:t.masterAirwayBill,label:t.masterAirwayBill}),this.masterAirwayBillDropdown=this.cs.removeDuplicatesFromArrayList(this.masterAirwayBillDropdown,"partnerId")),t.statusId!=null&&(this.statusDropdown.push({value:t.statusId,label:t.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"statusId"))}),this.indicatorDropdown=[{value:1,label:"Created"},{value:0,label:"Not Created"}]}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let t=this.searchform.value;this.fieldsWithValue=Object.keys(t).filter(n=>t[n]!==null&&t[n]!==void 0&&n!=="companyId"&&n!=="languageId").map(n=>this.fieldDisplayNames[n]||n),this.spin.show(),this.service.searchPrealert(this.searchform.getRawValue()).subscribe({next:n=>{this.preAlertManifestTable=n,this.spin.hide(),this.overlayPanel.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({houseAirwayBill:[],masterAirwayBill:[],partnerId:[],pieceId:[],pieceItemId:[],shipperId:[],statusId:[],manifestIndicator:[],consoleIndicator:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(t){let n=Object.keys(this.fieldDisplayNames).find(l=>this.fieldDisplayNames[l]===t.value);n&&(this.searchform.get(n)?.reset(),this.search())}getSeverity(t){return t===0?"red":"green"}preAlertIndicator(t){console.log(t),this.dialog.open(Ti,{disableClose:!0,width:"70%",height:"70%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:t}}).afterClosed().subscribe(l=>{})}};d.\u0275fac=function(n){return new(n||d)(u(R),u(j),u(O),u(W),u(Je),u(ge),u(se),u(B),u(L),u(Et),u(xe),u(V))},d.\u0275cmp=D({type:d,selectors:[["app-pre-alert-manifest"]],viewQuery:function(n,l){if(n&1&&rt(Ki,5),n&2){let m;ot(m=at())&&(l.overlayPanel=m.first)}},decls:77,vars:57,consts:[["op",""],["preAlertManifest",""],["preAlertManifestTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],[1,"d-flex","flex-column"],["mat-menu-item","",1,"w-100",2,"width","8rem",3,"click"],["src","./assets/common/upload.png","srcset","",2,"padding-right","10px","width","2rem"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-between","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],[1,"d-flex","justify-content-end","align-items-center"],["iconPosition","right"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","masterAirwayBill","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","houseAirwayBill","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","partnerId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","consoleIndicator","appendTo","body",3,"options","panelStyle"],["placeholder","Select","selectionLimit","1","filter","true","formControlName","manifestIndicator","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],["type","button",1,"btn","ml-2","addNewbuttom","hoverButton",3,"click"],[1,"bi","bi-plus-circle","pr-2"],[1,"tableProperties"],["selectionMode","multiple","sortField","createdOn","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm","dataKey","pieceItemId","rowExpandMode","single",1,"custom-table",3,"selectionChange","onRowExpand","onRowCollapse","columns","value","scrollable","sortOrder","selection","paginator","rows","showCurrentPageReport","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3"],[4,"ngFor","ngForOf"],[3,"ngClass"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"value"],[2,"font-size","14px",3,"pRowToggler","ngClass"],[4,"ngIf","ngIfElse"],["class","badge px-2 py-0",4,"ngIf"],["class","badge px-2 py-0",3,"ngStyle","click",4,"ngIf"],[4,"ngIf"],[1,"badge","px-2","py-0"],[2,"height","1.1rem","width","1.1rem",3,"src","alt"],[1,"badge","px-2","py-0",3,"click","ngStyle"],[1,"px-4"],[1,"d-flex","justify-content","animate__animated","animate__fadeIn"],[1,"lineBorder"],[1,"contentBox"],[1,"col-2","spacingBottom"],[1,"mb-0","headerText"],[1,"mb-0","valueText","chip"],[1,"mb-0","valueText","chip",3,"ngClass"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(n,l){if(n&1){let m=P();i(0,"div",5)(1,"div",6)(2,"p",7),a(3,"Pre-Alert Manifest "),e(),i(4,"div",6)(5,"img",8),x("click",function(){return _(m),w(l.openCrud("Edit"))}),e(),i(6,"img",9),x("click",function(){return _(m),w(l.downloadExcel())}),e(),i(7,"img",10),x("click",function(){return _(m),w(l.deleteDialog())}),e(),i(8,"img",11),x("click",function(f){_(m);let E=K(10);return w(E.toggle(f))}),e(),i(9,"p-overlayPanel",null,0)(11,"div",12)(12,"button",13),x("click",function(){return _(m),w(l.updateBulk())}),c(13,"img",14),a(14,"Bulk Update"),e()()(),i(15,"button",15),x("click",function(){return _(m),w(l.openCrud("New"))}),c(16,"i",16),a(17," Add New"),e()()(),i(18,"div",17)(19,"div",18)(20,"p-iconField",19)(21,"p-inputIcon",20),x("click",function(f){_(m);let E=K(24);return w(E.toggle(f))}),e(),i(22,"input",21),x("input",function(f){_(m);let E=K(69);return w(E.filterGlobal(f.target.value,"contains"))}),e()(),i(23,"p-overlayPanel",22,1)(25,"form",23)(26,"div",24)(27,"div",25)(28,"p",26),a(29,"MAWB"),e(),c(30,"p-multiSelect",27),e(),i(31,"div",25)(32,"p",26),a(33,"Consignment No"),e(),c(34,"p-multiSelect",28),e(),i(35,"div",25)(36,"p",26),a(37,"Partner"),e(),c(38,"p-multiSelect",29),e(),i(39,"div",25)(40,"p",26),a(41,"Console Status"),e(),c(42,"p-multiSelect",30),e(),i(43,"div",25)(44,"p",26),a(45,"Manifest Status"),e(),c(46,"p-multiSelect",31),e(),i(47,"div",25)(48,"p",26),a(49,"Status"),e(),c(50,"p-multiSelect",32),e()(),i(51,"div",33)(52,"div")(53,"img",34),x("click",function(){return _(m),w(l.reset())}),e()(),i(54,"div")(55,"button",35),x("click",function(){return _(m),w(l.closeOverLay())}),a(56,"Cancel"),e(),i(57,"button",36),x("click",function(){return _(m),w(l.search())}),a(58,"Apply"),e()()()()(),i(59,"p-chips",37),x("onRemove",function(f){return _(m),w(l.chipClear(f))}),J("ngModelChange",function(f){return _(m),Z(l.fieldsWithValue,f)||(l.fieldsWithValue=f),w(f)}),e()(),i(60,"div",18)(61,"button",38),x("click",function(){return _(m),w(l.createConsole())}),c(62,"i",39),a(63,"Console"),e(),i(64,"button",38),x("click",function(){return _(m),w(l.createManifest())}),c(65,"i",39),a(66,"Bonded"),e()()(),i(67,"div",40)(68,"p-table",41,2),J("selectionChange",function(f){return _(m),Z(l.selectedPreAlertManifest,f)||(l.selectedPreAlertManifest=f),w(f)}),x("onRowExpand",function(f){return _(m),w(l.onRowExpand(f))})("onRowCollapse",function(f){return _(m),w(l.onRowCollapse(f))}),C(70,Yi,6,1,"ng-template",42)(71,on,6,7,"ng-template",43)(72,an,53,12,"ng-template",44)(73,ln,4,1,"ng-template",45),e()()(),i(74,"mat-menu",46,3),C(76,sn,4,0,"ng-template",47),e()}n&2&&(o(9),I(g(42,Gi)),o(14),I(g(43,qi)),p("dismissable",!1)("styleClass","custom-overlay-panel"),o(2),p("formGroup",l.searchform),o(5),I(g(44,He)),p("options",l.masterAirwayBillDropdown)("panelStyle",g(45,He)),o(4),I(g(46,He)),p("options",l.houseAirwayBillDropdown)("panelStyle",g(47,He)),o(4),I(g(48,He)),p("options",l.partnerDropdown)("panelStyle",g(49,He)),o(4),I(g(50,He)),p("options",l.indicatorDropdown)("panelStyle",g(51,He)),o(4),I(g(52,He)),p("options",l.indicatorDropdown)("panelStyle",g(53,He)),o(4),I(g(54,He)),p("options",l.statusDropdown)("panelStyle",g(55,He)),o(9),Y("ngModel",l.fieldsWithValue),o(9),p("columns",l.cols)("value",l.preAlertManifestTable)("scrollable",!0)("sortOrder",-1),Y("selection",l.selectedPreAlertManifest),p("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",g(56,Qi)))},dependencies:[ie,Ae,X,mi,ne,Oe,St,Ve,Re,pt,dt,$,Q,G,q,st,ut,Le,ht,ft,We,gt,U,z,se],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}.contentBox[_ngcontent-%COMP%]{flex-grow:0;margin:10px 10px 10px 0;flex-direction:row;width:100%;justify-content:center;align-items:center;gap:80px;padding:1rem 2rem 0px;border-radius:16px;border:solid 1px var(--black);background-color:var(--white);color:var(--black);transition:background-color .3s ease}.contentBox[_ngcontent-%COMP%]:hover{background-color:var(--black);color:var(--white)}.lineBorder[_ngcontent-%COMP%]{width:8px;flex-grow:0;margin:10px 7px 10px 0;border-radius:20px;background-color:var(--overcOrange)}.chip[_ngcontent-%COMP%]{padding:3px 1rem 3px 0px;border-radius:6px;text-align:center}.headerText[_ngcontent-%COMP%]{flex-grow:1;font-family:Nunito;font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.3;letter-spacing:normal;text-align:left;padding-bottom:3px}.valueText[_ngcontent-%COMP%]{flex-grow:0;font-family:Nunito;font-size:14px;font-weight:700;font-stretch:normal;font-style:normal;line-height:1.3;letter-spacing:normal;text-align:left}.spacingBottom[_ngcontent-%COMP%]{padding-bottom:.8rem}.hoverButton[_ngcontent-%COMP%]{border:1px solid var(--black)!important;color:var(--black)}.hoverButton[_ngcontent-%COMP%]:hover{background-color:var(--overcOrange);border:none!important;color:var(--white)}.green[_ngcontent-%COMP%]{color:#00742b;background-color:#8efab6;font-size:10px;padding:2px 12px!important}.red[_ngcontent-%COMP%]{color:#ef4444;background-color:#ffacac;font-size:10px;padding:2px 12px!important}.pointer-cursor[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[yi("fadeLater",[ii("fade-in",ti({opacity:1,transform:"translateY(0)"})),ii("fade-out",ti({opacity:0,transform:"translateY(0)"})),Ci("fade-in <=> fade-out",vi("0.6s ease-in-out"))])]}});let r=d;return r})();var et=()=>({width:"100%"});function dn(r,d){if(r&1&&(i(0,"div",8)(1,"p",9),a(2,"HUB"),e(),c(3,"p-dropdown",22),e()),r&2){let s=y();o(3),I(g(4,et)),p("options",s.hubList)("panelStyle",g(5,et))}}function pn(r,d){r&1&&(i(0,"div",8)(1,"p",9),a(2,"Customs CCR NO "),e(),c(3,"input",23),e())}var $t=(()=>{let d=class d{constructor(t,n,l,m,h,f,E,S,N,M,k,A){this.dialogRef=t,this.data=n,this.cs=l,this.spin=m,this.route=h,this.router=f,this.path=E,this.fb=S,this.service=N,this.messageService=M,this.cas=k,this.auth=A,this.status=[],this.incoTerms=[],this.form=this.fb.group({actualCurrency:[],actualValue:[],airportOriginCode:[],bondedId:[],companyId:[],companyName:[],consigneeCivilId:[],consigneeName:[],consignmentCurrency:[],consignmentValue:[],consoleId:[],countryOfOrigin:[],createdBy:[],createdOn:[],currency:[],customsCurrency:[],customsKd:[],customsValue:[],declaredValue:[],deletionIndicator:[],description:[],eventCode:[],eventText:[],flightNo:[],eventTimestamp:[],expectedDuty:[],finalDestination:[],freightCharges:[],freightCurrency:[],goodsDescription:[],pieceId:[],pieceItemId:[],goodsType:[],grossWeight:[],houseAirwayBill:[],hsCode:[],hubCode:[],iataKd:[],incoTerms:[],invoiceDate:[],invoiceNumber:[],invoiceSupplierName:[],invoiceType:[],isConsolidatedShipment:[],isPendingShipment:[],isSplitBillOfLading:[],landedQuantity:[],languageDescription:[],languageId:[],manifestedGrossWeight:[],manifestedQuantity:[],masterAirwayBill:[],netWeight:[],noOfPackageMawb:[],noOfPieceHawb:[],notifyParty:[],partnerHouseAirwayBill:[],partnerId:[],partnerMasterAirwayBill:[],partnerName:[],partnerType:[],paymentType:[],productId:[],productName:[],quantity:[],referenceField1:[],referenceField10:[],referenceField11:[],referenceField12:[],referenceField13:[],referenceField14:[],referenceField15:[],referenceField16:[],referenceField17:[],eventDescription:[],referenceField18:[],referenceField19:[],referenceField2:[],referenceField20:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],selectedConsole:[],remarks:[],serviceTypeId:[],serviceTypeName:[],shipmentBagId:[],shipperId:[],shipperName:[],specialApprovalValue:[],statusId:[],statusTimestamp:[],customsCcrNo:[],subProductId:[],subProductName:[],primaryDo:[],secondaryDo:[],tareWeight:[],totalQuantity:[],updatedBy:[],updatedOn:[],volume:[]}),this.languageIdList=[],this.companyIdList=[],this.countryIdList=[],this.mawbList=[],this.hawbList=[],this.hsCodeList=[],this.originCodeList=[],this.statusList=[],this.consignorIdList=[],this.eventList=[],this.Consigment=[],this.hubList=[],this.showHub=!1,this.incoTerms=[{value:"DDU",label:"DDU"},{value:"DDU",label:"DDU"}]}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.opStatus.url,this.cas.dropdownlist.setup.country.url,this.cas.dropdownlist.setup.hsCode.url,this.cas.dropdownlist.setup.event.url,this.cas.dropdownlist.setup.consignor.url,this.cas.dropdownlist.setup.customer.url,this.cas.dropdownlist.setup.hub.url]).subscribe({next:t=>{this.statusList=this.cas.foreachlist(t[0],this.cas.dropdownlist.setup.opStatus.key),this.countryIdList=this.cas.forLanguageFilter(t[1],this.cas.dropdownlist.setup.country.key),this.hsCodeList=this.cas.forLanguageFilter(t[2],this.cas.dropdownlist.setup.hsCode.key),this.eventList=this.cas.forLanguageFilter(t[3],this.cas.dropdownlist.setup.event.key);let n=this.cas.forLanguageFilter(t[4],this.cas.dropdownlist.setup.consignor.key);this.cas.forLanguageFilter(t[5],this.cas.dropdownlist.setup.customer.key).forEach(m=>this.consignorIdList.push(m)),n.forEach(m=>this.consignorIdList.push(m)),this.consignorIdList=this.cs.removeDuplicatesFromArrayList(this.consignorIdList,"value"),this.hubList=this.cas.forLanguageFilter(t[6],this.cas.dropdownlist.setup.hub.key),this.statusList=this.cs.removeDuplicatesFromArrayList(this.statusList,"value"),this.eventList=this.cs.removeDuplicatesFromArrayList(this.eventList,"value"),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}ngOnInit(){this.dropdownlist(),this.Consigment=this.data.code}eventChange(){this.form.controls.eventCode.value=="15"&&this.data.title!="Console"&&(this.showHub=!0,console.log())}save(){this.form.controls.partnerMasterAirwayBill!=null&&this.Consigment.forEach(t=>{t.partnerMasterAirwayBill=this.form.controls.partnerMasterAirwayBill.value}),this.form.controls.countryOfOrigin!=null&&this.Consigment.forEach(t=>{t.countryOfOrigin=this.form.controls.countryOfOrigin.value}),this.form.controls.statusId!=null&&this.Consigment.forEach(t=>{t.statusId=this.form.controls.statusId.value}),this.form.controls.eventCode!=null&&this.Consigment.forEach(t=>{t.eventCode=this.form.controls.eventCode.value}),this.form.controls.flightNo!=null&&this.Consigment.forEach(t=>{t.flightNo=this.form.controls.flightNo.value}),this.form.controls.shipperId!=null&&this.Consigment.forEach(t=>{t.shipperId=this.form.controls.shipperId.value}),this.form.controls.primaryDo!=null&&this.Consigment.forEach(t=>{t.primaryDo=this.form.controls.primaryDo.value}),this.form.controls.secondaryDo!=null&&this.Consigment.forEach(t=>{t.secondaryDo=this.form.controls.secondaryDo.value}),this.form.controls.customsCcrNo!=null&&this.Consigment.forEach(t=>{t.customsCcrNo=this.form.controls.customsCcrNo.value}),this.form.controls.hubCode!=null&&this.Consigment.forEach(t=>{t.hubCode=this.form.controls.hubCode.value}),this.data.title=="Console"?this.service.Update(this.Consigment).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:"Selected Values has been updated successfully"}),this.data.title=="Console"&&(this.dialogRef.close(),this.router.navigate(["/main/airport/console"])),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}}):this.service.UpdateCCR(this.Consigment).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:"Selected Values has been updated successfully"}),this.dialogRef.close(),this.router.navigate(["/main/airport/ccr"]),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}cancel(){this.data.title=="Console"?(this.dialogRef.close(),this.router.navigate(["/main/airport/console"])):(this.dialogRef.close(),this.router.navigate(["/main/airport/ccr"]))}};d.\u0275fac=function(n){return new(n||d)(u($e),u(Ye),u(j),u(L),u(ee),u(O),u(W),u(V),u(xe),u(R),u(te),u(B))},d.\u0275cmp=D({type:d,selectors:[["app-console-bulk"]],decls:50,vars:30,consts:[[1,"bgWhite","text-black","w-93","h-100","m-4","mt-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"mt-4"],[3,"formGroup"],[1,"d-flex-row"],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["maxlength","50","pInputText","","formControlName","partnerMasterAirwayBill","pInputText","","placeholder","Enter",1,"w-100"],["formControlName","countryOfOrigin","appendTo","body","placeholder","Select",3,"options","disabled","panelStyle"],["placeholder","Select","filter","true","formControlName","statusId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","eventCode","appendTo","body",3,"onChange","options","panelStyle"],["class","col-6 marginFieldNew borderRadius12",4,"ngIf"],["maxlength","50","pInputText","","formControlName","flightNo","pInputText","","placeholder","Enter",1,"w-100"],["formControlName","shipperId","appendTo","body","placeholder","Select",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","formControlName","primaryDo","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","secondaryDo","pInputText","","placeholder","Enter",1,"w-100"],[1,"d-flex","float-right","py-2"],["mat-dialog-close","",1,"buttom1","textBlack","mx-1",3,"click"],["type","button",1,"buttom1","bgBlack","text-white","mx-1",3,"click"],["placeholder","Select","filter","true","formControlName","hubCode","appendTo","body",3,"options","panelStyle"],["maxlength","50","pInputText","","formControlName","customsCcrNo","pInputText","","placeholder","Enter",1,"w-100"]],template:function(n,l){n&1&&(i(0,"div",0)(1,"div",1)(2,"p",2),a(3),e(),i(4,"div",1)(5,"button",3),a(6,"Transfer"),e()()(),i(7,"div",4)(8,"form",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"p",9),a(13,"Partner MAWB"),e(),c(14,"input",10),e(),i(15,"div",8)(16,"p",9),a(17,"Origin Code"),e(),c(18,"p-dropdown",11),e(),i(19,"div",8)(20,"p",9),a(21,"Status"),e(),c(22,"p-dropdown",12),e(),i(23,"div",8)(24,"p",9),a(25,"Event"),e(),i(26,"p-dropdown",13),x("onChange",function(){return l.eventChange()}),e()(),C(27,dn,4,6,"div",14),i(28,"div",8)(29,"p",9),a(30,"Flight No "),e(),c(31,"input",15),e(),i(32,"div",8)(33,"p",9),a(34,"Customer/Consignor"),e(),c(35,"p-dropdown",16),e(),C(36,pn,4,0,"div",14),i(37,"div",8)(38,"p",9),a(39,"Primary DO "),e(),c(40,"input",17),e(),i(41,"div",8)(42,"p",9),a(43,"Secondary DO "),e(),c(44,"input",18),e()(),i(45,"div",19)(46,"button",20),x("click",function(){return l.cancel()}),a(47,"Cancel"),e(),i(48,"button",21),x("click",function(){return l.save()}),a(49,"Save"),e()()()()()()),n&2&&(o(3),F("",l.data.title," - Bulk Update"),o(5),p("formGroup",l.form),o(10),I(g(22,et)),p("options",l.countryIdList)("disabled",!0)("panelStyle",g(23,et)),o(4),I(g(24,et)),p("options",l.statusList)("panelStyle",g(25,et)),o(4),I(g(26,et)),p("options",l.eventList)("panelStyle",g(27,et)),o(),p("ngIf",l.showHub==!0),o(8),I(g(28,et)),p("options",l.consignorIdList)("disabled",!0)("panelStyle",g(29,et)),o(),p("ngIf",l.data.title=="CCR"))},dependencies:[X,re,$,Q,ae,G,q,he,Ze,U,z],styles:[".deleteBody[_ngcontent-%COMP%]{font-family:Nunito;font-size:14px;font-weight:400;line-height:20.8px;text-align:center;color:#fffc;padding-bottom:1rem}.deleteHeader[_ngcontent-%COMP%]{font-family:Nunito;font-size:22px;font-weight:700;line-height:31.2px;text-align:left;padding-bottom:1rem}.cancelButton[_ngcontent-%COMP%]{padding:7px 25px;gap:10px;border-radius:6px;border:1px 0px 0px 0px;opacity:0px;background-color:var(--white);color:var(--black)}.saveButton[_ngcontent-%COMP%]{padding:7px 35px;gap:10px;border-radius:6px;opacity:0px;background-color:var(--overcOrange);color:var(--black)}  .mat-mdc-dialog-container .mdc-dialog__surface{border-radius:12px!important}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:1.5rem}.deleteDialog[_ngcontent-%COMP%]{padding:2rem 1rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 20rem);overflow-y:scroll!important}"]});let r=d;return r})();var cn=["console"],mn=()=>({width:"180"}),un=()=>({width:"80vw"}),_t=()=>({width:"100%"}),hn=()=>({width:"100rem"}),gn=r=>({selectedRow:r});function fn(r,d){if(r&1&&(i(0,"th",45),a(1),c(2,"p-sortIcon",46),e()),r&2){let s=d.$implicit;p("pSortableColumn",s.field),o(),F(" ",s.header," "),o(),p("field",s.field)}}function yn(r,d){if(r&1&&(i(0,"tr")(1,"th",42),c(2,"p-tableHeaderCheckbox",43),e(),C(3,fn,3,3,"th",44),e()),r&2){let s=d.$implicit;o(3),p("ngForOf",s)}}function vn(r,d){if(r&1&&(Me(0),a(1),Fe()),r&2){let s=y().$implicit,t=y().$implicit;o(),F(" ",t[s.field]," ")}}function Cn(r,d){if(r&1&&(a(0),ue(1,"date")),r&2){let s=y(2).$implicit;F(" ",ke(1,1,s.createdOn,"dd-MM-yyyy HH:mm")," ")}}function _n(r,d){if(r&1&&(i(0,"td"),C(1,vn,2,1,"ng-container",51)(2,Cn,2,4,"ng-template",null,4,Be),e()),r&2){let s=d.$implicit,t=K(3);o(),p("ngIf",s.format!=="date")("ngIfElse",t)}}function wn(r,d){if(r&1&&(c(0,"tr"),i(1,"tr",47)(2,"td",48),c(3,"p-tableCheckbox",49),e(),C(4,_n,4,2,"td",50),e()),r&2){let s=d.$implicit,t=d.columns,n=y();bt("selectedRow",n.selectedConsole[0]===s),o(),p("ngClass",It(5,gn,n.isSelected(s))),o(2),p("value",s),o(),p("ngForOf",t)}}function xn(r,d){r&1&&(i(0,"tr")(1,"td")(2,"p",52),a(3,"No records found"),e()()()),r&2&&(o(),pe("colspan",4))}function bn(r,d){r&1&&(i(0,"button",53),a(1,"Edit"),e(),i(2,"button",53),a(3,"Confirm"),e())}var Mi=(()=>{let d=class d{constructor(t,n,l,m,h,f,E,S,N,M){this.messageService=t,this.cs=n,this.router=l,this.path=m,this.dialog=h,this.datePipe=f,this.fb=E,this.auth=S,this.spin=N,this.service=M,this.consoleTable=[],this.selectedConsole=[],this.cols=[],this.target=[],this.searchform=this.fb.group({houseAirwayBill:[],masterAirwayBill:[],partnerId:[],consoleId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={houseAirwayBill:"Consignment No",masterAirwayBill:"MAWB",partnerId:"Partner",consoleId:"Console ID",statusId:"Status"},this.houseAirwayBillDropdown=[],this.masterAirwayBillDropdown=[],this.partnerDropdown=[],this.statusDropdown=[],this.consoleIdDropdown=[]}ngOnInit(){let t=["Mid-Mile","Console "];this.path.setData(t),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyId",header:"Company"},{field:"consoleId",header:"Console ID"},{field:"houseAirwayBill",header:"Consignment No"},{field:"partnerMasterAirwayBill",header:"Partner MAWB"},{field:"partnerHouseAirwayBill",header:"Partner HAWB"},{field:"statusText",header:"Status"},{field:"eventText",header:"Event"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"statusId",header:"Status ID"},{field:"shipperId",header:"Shipper ID"},{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"}]}updateBulk(){this.dialog.open($t,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{title:"Console",code:this.selectedConsole}}).afterClosed().subscribe(n=>{this.initialCall()})}initialCall(){setTimeout(()=>{this.spin.show();let t={};t.languageId=[this.auth.languageId],t.companyId=[this.auth.companyId],this.service.search(t).subscribe({next:n=>{n=this.cs.removeDuplicatesFromArrayList(n,"consoleId"),this.consoleTable=n,this.getSearchDropdown(),this.spin.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})},2e3)}onChange(){let t=this.selectedConsole[this.selectedConsole.length-1];this.selectedConsole.length=0,this.selectedConsole.push(t)}customTable(){this.dialog.open(vt,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(n=>{n&&this.deleterecord(this.selectedConsole[0])})}openCrud(t="New",n=null){if(this.selectedConsole.length===0&&t!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let l=this.cs.encrypt({line:n??this.selectedConsole[0],pageflow:t});this.router.navigate(["/main/airport/console-new/"+l])}}openEdit(t="New",n=null){if(this.selectedConsole.length===0&&t!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any Row"});else{let l=this.cs.encrypt({line:n??this.selectedConsole[0],pageflow:t});this.router.navigate(["/main/airport/console-edit/"+l])}}deleteDialog(){if(this.selectedConsole.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(yt,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedConsole,module:"Console",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(n=>{if(n){let l=this.selectedConsole.map(m=>m.consoleId);this.service.search({consoleId:l,companyId:[this.auth.companyId]}).subscribe({next:m=>{this.deleterecord(m)},error:m=>{this.spin.hide(),this.cs.commonerrorNew(m)}})}})}deleterecord(t){this.spin.show(),this.service.Delete(t).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:"Selected records deleted successfully"}),this.spin.hide(),this.initialCall()},error:n=>{this.cs.commonerrorNew(n),this.spin.hide()}})}downloadExcel(){let t=this.consoleTable.map(n=>{let l={};return this.cols.forEach(m=>{m.format=="date"?l[m.field]=this.datePipe.transform(n[m.field],"dd-MM-yyyy"):l[m.field]=n[m.field]}),l});this.cs.exportAsExcel(t,"Console")}onRowExpand(t){}onRowCollapse(t){}getColspan(){return this.cols.length+2}isSelected(t){return this.selectedConsole.includes(t)}getSearchDropdown(){this.consoleTable.forEach(t=>{t.houseAirwayBill!=null&&(this.houseAirwayBillDropdown.push({value:t.houseAirwayBill,label:t.houseAirwayBill}),this.houseAirwayBillDropdown=this.cs.removeDuplicatesFromArrayList(this.houseAirwayBillDropdown,"value")),t.partnerId!=null&&(this.partnerDropdown.push({value:t.partnerId,label:t.partnerName}),this.partnerDropdown=this.cs.removeDuplicatesFromArrayList(this.partnerDropdown,"value")),t.masterAirwayBill!=null&&(this.masterAirwayBillDropdown.push({value:t.masterAirwayBill,label:t.masterAirwayBill}),this.masterAirwayBillDropdown=this.cs.removeDuplicatesFromArrayList(this.masterAirwayBillDropdown,"value")),t.statusId!=null&&(this.statusDropdown.push({value:t.statusId,label:t.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value")),t.consoleId!=null&&(this.consoleIdDropdown.push({value:t.consoleId,label:t.consoleId}),this.consoleIdDropdown=this.cs.removeDuplicatesFromArrayList(this.consoleIdDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let t=this.searchform.value;this.fieldsWithValue=Object.keys(t).filter(n=>t[n]!==null&&t[n]!==void 0&&n!=="companyId"&&n!=="languageId").map(n=>this.fieldDisplayNames[n]||n),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:n=>{this.consoleTable=n,this.spin.hide(),this.overlayPanel.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({houseAirwayBill:[],masterAirwayBill:[],partnerId:[],consoleId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(t){let n=Object.keys(this.fieldDisplayNames).find(l=>this.fieldDisplayNames[l]===t.value);n&&(this.searchform.get(n)?.reset(),this.search())}};d.\u0275fac=function(n){return new(n||d)(u(R),u(j),u(O),u(W),u(ge),u(se),u(V),u(B),u(L),u(xe))},d.\u0275cmp=D({type:d,selectors:[["app-console"]],viewQuery:function(n,l){if(n&1&&rt(cn,5),n&2){let m;ot(m=at())&&(l.overlayPanel=m.first)}},decls:60,vars:45,consts:[["op",""],["console",""],["consoleTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],[1,"d-flex","flex-column"],["mat-menu-item","",1,"w-100",2,"width","8rem",3,"click"],["src","./assets/common/upload.png","srcset","",2,"padding-right","10px","width","2rem"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","ConsoleId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","masterAirwayBill","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","houseAirwayBill","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","partnerId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","multiple","sortField","createdOn","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm",1,"custom-table",3,"selectionChange","columns","value","scrollable","selection","sortOrder","paginator","rows","showCurrentPageReport","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"ngClass"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"value"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(n,l){if(n&1){let m=P();i(0,"div",5)(1,"div",6)(2,"p",7),a(3,"Console "),e(),i(4,"div",6)(5,"img",8),x("click",function(){return _(m),w(l.openEdit("Edit"))}),e(),i(6,"img",9),x("click",function(){return _(m),w(l.downloadExcel())}),e(),i(7,"img",10),x("click",function(){return _(m),w(l.deleteDialog())}),e(),i(8,"img",11),x("click",function(f){_(m);let E=K(10);return w(E.toggle(f))}),e(),i(9,"p-overlayPanel",null,0)(11,"div",12)(12,"button",13),x("click",function(){return _(m),w(l.updateBulk())}),c(13,"img",14),a(14,"Bulk Update"),e()()(),i(15,"button",15),x("click",function(){return _(m),w(l.openCrud("New"))}),c(16,"i",16),a(17," Add New"),e()()(),i(18,"div",17)(19,"p-iconField",18)(20,"p-inputIcon",19),x("click",function(f){_(m);let E=K(23);return w(E.toggle(f))}),e(),i(21,"input",20),x("input",function(f){_(m);let E=K(53);return w(E.filterGlobal(f.target.value,"contains"))}),e()(),i(22,"p-overlayPanel",21,1)(24,"form",22)(25,"div",23)(26,"div",24)(27,"p",25),a(28,"Console ID"),e(),c(29,"p-multiSelect",26),e(),i(30,"div",24)(31,"p",25),a(32,"MAWB"),e(),c(33,"p-multiSelect",27),e(),i(34,"div",24)(35,"p",25),a(36,"HAWB"),e(),c(37,"p-multiSelect",28),e(),i(38,"div",24)(39,"p",25),a(40,"Partner"),e(),c(41,"p-multiSelect",29),e()(),i(42,"div",30)(43,"div")(44,"img",31),x("click",function(){return _(m),w(l.reset())}),e()(),i(45,"div")(46,"button",32),x("click",function(){return _(m),w(l.closeOverLay())}),a(47,"Cancel"),e(),i(48,"button",33),x("click",function(){return _(m),w(l.search())}),a(49,"Apply"),e()()()()(),i(50,"p-chips",34),x("onRemove",function(f){return _(m),w(l.chipClear(f))}),J("ngModelChange",function(f){return _(m),Z(l.fieldsWithValue,f)||(l.fieldsWithValue=f),w(f)}),e()(),i(51,"div",35)(52,"p-table",36,2),J("selectionChange",function(f){return _(m),Z(l.selectedConsole,f)||(l.selectedConsole=f),w(f)}),C(54,yn,4,1,"ng-template",37)(55,wn,5,7,"ng-template",38)(56,xn,4,1,"ng-template",39),e()()(),i(57,"mat-menu",40,3),C(59,bn,4,0,"ng-template",41),e()}n&2&&(o(9),I(g(34,mn)),o(13),I(g(35,un)),p("dismissable",!1)("styleClass","custom-overlay-panel"),o(2),p("formGroup",l.searchform),o(5),I(g(36,_t)),p("options",l.consoleIdDropdown)("panelStyle",g(37,_t)),o(4),I(g(38,_t)),p("options",l.masterAirwayBillDropdown)("panelStyle",g(39,_t)),o(4),I(g(40,_t)),p("options",l.houseAirwayBillDropdown)("panelStyle",g(41,_t)),o(4),I(g(42,_t)),p("options",l.partnerDropdown)("panelStyle",g(43,_t)),o(9),Y("ngModel",l.fieldsWithValue),o(2),p("columns",l.cols)("value",l.consoleTable)("scrollable",!0),Y("selection",l.selectedConsole),p("sortOrder",-1)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",g(44,hn)))},dependencies:[ie,Ae,X,ne,Oe,Qe,Ue,Ve,Re,pt,dt,$,Q,G,q,st,ut,Le,ht,ft,We,gt,U,z,se],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}.contentBox[_ngcontent-%COMP%]{flex-grow:0;margin:10px 10px 10px 0;flex-direction:row;width:100%;justify-content:center;align-items:center;gap:80px;padding:1rem 2rem 0px;border-radius:16px;border:solid 1px var(--black);background-color:var(--white);color:var(--black);transition:background-color .3s ease}.contentBox[_ngcontent-%COMP%]:hover{background-color:var(--black);color:var(--white)}.lineBorder[_ngcontent-%COMP%]{width:8px;flex-grow:0;margin:10px 7px 10px 0;border-radius:20px;background-color:var(--overcOrange)}.chip[_ngcontent-%COMP%]{padding:3px 1rem 3px 0px;border-radius:6px;text-align:center}.headerText[_ngcontent-%COMP%]{flex-grow:1;font-family:Nunito;font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.3;letter-spacing:normal;text-align:left;padding-bottom:3px}.valueText[_ngcontent-%COMP%]{flex-grow:0;font-family:Nunito;font-size:14px;font-weight:700;font-stretch:normal;font-style:normal;line-height:1.3;letter-spacing:normal;text-align:left}.spacingBottom[_ngcontent-%COMP%]{padding-bottom:.8rem}.hoverButton[_ngcontent-%COMP%]{border:1px solid var(--black)!important;color:var(--black)}.hoverButton[_ngcontent-%COMP%]:hover{background-color:var(--black);border:none;color:var(--white)}"]});let r=d;return r})();var In=["bondedmanifest"],Sn=()=>({width:"180"}),En=()=>({width:"80vw"}),tt=()=>({width:"100%"}),Tn=()=>({width:"110rem"}),Nn=r=>({selectedRow:r});function Mn(r,d){if(r&1&&(i(0,"th",47),a(1),c(2,"p-sortIcon",48),e()),r&2){let s=d.$implicit;p("pSortableColumn",s.field),o(),F(" ",s.header," "),o(),p("field",s.field)}}function Fn(r,d){if(r&1&&(i(0,"tr")(1,"th",44),c(2,"p-tableHeaderCheckbox",45),e(),i(3,"th",44),a(4," Actions "),e(),C(5,Mn,3,3,"th",46),e()),r&2){let s=d.$implicit;o(5),p("ngForOf",s)}}function kn(r,d){if(r&1&&(Me(0),a(1),Fe()),r&2){let s=y().$implicit,t=y().$implicit;o(),F(" ",t[s.field]," ")}}function Bn(r,d){if(r&1&&(a(0),ue(1,"date")),r&2){let s=y(2).$implicit;F(" ",ke(1,1,s.createdOn,"dd-MM-yyyy HH:mm")," ")}}function An(r,d){if(r&1&&(i(0,"td"),C(1,kn,2,1,"ng-container",54)(2,Bn,2,4,"ng-template",null,4,Be),e()),r&2){let s=d.$implicit,t=K(3);o(),p("ngIf",s.format!=="date")("ngIfElse",t)}}function Pn(r,d){if(r&1&&(i(0,"tr",49)(1,"td",50),c(2,"p-tableCheckbox",51),e(),i(3,"td",50),c(4,"i",52),e(),C(5,An,4,2,"td",53),e()),r&2){let s=d.$implicit,t=d.columns,n=d.expanded,l=y();p("ngClass",It(5,Nn,l.isSelected(s))),o(2),p("value",s),o(2),p("pRowToggler",s)("ngClass",n?"bi-chevron-up":"bi-chevron-right"),o(),p("ngForOf",t)}}function Dn(r,d){if(r&1&&(i(0,"td",55)(1,"div",56),c(2,"div",57),i(3,"div",58)(4,"div",23)(5,"div",59)(6,"p",60),a(7,"MAWB"),e()(),i(8,"div",59)(9,"p",61),a(10),e()(),i(11,"div",59)(12,"p",60),a(13,"Partner HAWB"),e()(),i(14,"div",59)(15,"p",61),a(16),e()(),i(17,"div",59)(18,"p",60),a(19,"Origin"),e()(),i(20,"div",59)(21,"p",62),a(22),e()(),i(23,"div",59)(24,"p",60),a(25,"Bonded ID"),e()(),i(26,"div",59)(27,"p",61),a(28),e()(),i(29,"div",59)(30,"p",60),a(31,"Bill of Lading\xA0No"),e()(),i(32,"div",59)(33,"p",61),a(34),e()(),i(35,"div",59)(36,"p",60),a(37,"Bill of Lading For"),e()(),i(38,"div",59)(39,"p",61),a(40),e()(),i(41,"div",59)(42,"p",60),a(43,"Payment Type"),e()(),i(44,"div",59)(45,"p",61),a(46),e()(),i(47,"div",59)(48,"p",60),a(49,"No of Pcs"),e()(),i(50,"div",59)(51,"p",61),a(52),e()(),i(53,"div",59)(54,"p",60),a(55,"Weight"),e()(),i(56,"div",59)(57,"p",61),a(58),e()()()()()()),r&2){let s=d.$implicit,t=y();pe("colspan",t.getColspan()),o(10),b(s.masterAirwayBill),o(6),b(s.partnerHouseAirwayBill),o(5),p("ngClass",s.countryOfOrigin?"bgOrange text-dark w-75 textCenter":""),o(),b(s.countryOfOrigin),o(6),b(s.bondedId),o(6),b(s.houseAirwayBill),o(6),b(s.billOfLadingFor),o(6),b(s.paymentType),o(6),b(s.quantity),o(6),b(s.grossWeight)}}function On(r,d){r&1&&(i(0,"tr")(1,"td")(2,"p",63),a(3,"No records found"),e()()()),r&2&&(o(),pe("colspan",4))}function Vn(r,d){r&1&&(i(0,"button",64),a(1,"Edit"),e(),i(2,"button",64),a(3,"Confirm"),e())}var Fi=(()=>{let d=class d{constructor(t,n,l,m,h,f,E,S,N,M){this.messageService=t,this.cs=n,this.router=l,this.path=m,this.service=h,this.dialog=f,this.datePipe=E,this.auth=S,this.fb=N,this.spin=M,this.bondedManifestTable=[],this.selectedBondedManifest=[],this.cols=[],this.target=[],this.searchform=this.fb.group({houseAirwayBill:[],masterAirwayBill:[],partnerId:[],bondedId:[],hsCode:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={houseAirwayBill:"Consignment No",masterAirwayBill:"MAWB",partnerId:"Partner",bondedId:"Bonded ID",hsCode:"HS Code",statusId:"Status"},this.houseAirwayBillDropdown=[],this.masterAirwayBillDropdown=[],this.partnerDropdown=[],this.statusDropdown=[],this.hsCodeDropdown=[],this.bondedIdDropdown=[]}ngOnInit(){let t=["Mid-Mile","Bonded Manifest"];this.path.setData(t),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyId",header:"Company"},{field:"bondedId",header:"Bonded ID"},{field:"houseAirwayBill",header:"Consignment No"},{field:"partnerMasterAirwayBill",header:"Partner MAWB"},{field:"partnerHouseAirwayBill",header:"Partner HAWB"},{field:"description",header:"Commodity"},{field:"hsCode",header:"HS Code"},{field:"statusText",header:"Status"},{field:"eventText",header:"Event"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"}]}initialCall(){setTimeout(()=>{this.spin.show();let t={};t.languageId=[this.auth.languageId],t.companyId=[this.auth.companyId],this.service.search(t).subscribe({next:n=>{this.bondedManifestTable=n,this.getSearchDropdown(),this.spin.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})},2e3)}onChange(){let t=this.selectedBondedManifest[this.selectedBondedManifest.length-1];this.selectedBondedManifest.length=0,this.selectedBondedManifest.push(t)}updateBulk(){this.dialog.open(Ut,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{title:"Bonded Manifest",code:this.selectedBondedManifest}}).afterClosed().subscribe(n=>{this.initialCall()})}customTable(){this.dialog.open(vt,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(n=>{n&&this.deleterecord(this.selectedBondedManifest[0])})}openCrud(t="New",n=null){if(this.selectedBondedManifest.length===0&&t!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let l=this.cs.encrypt({line:n??this.selectedBondedManifest[0],pageflow:t});this.router.navigate(["/main/airport/bondedManifest-new/"+l])}}deleteDialog(){if(this.selectedBondedManifest.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(yt,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedBondedManifest,module:"Bonded Manifest",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(n=>{n&&this.deleterecord(this.selectedBondedManifest)})}deleterecord(t){this.spin.show(),this.service.Delete(t).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:"Selected records deleted successfully"}),this.spin.hide(),this.initialCall()},error:n=>{this.cs.commonerrorNew(n),this.spin.hide()}})}downloadExcel(){let t=this.bondedManifestTable.map(n=>{let l={};return this.cols.forEach(m=>{m.format=="date"?l[m.field]=this.datePipe.transform(n[m.field],"dd-MM-yyyy"):l[m.field]=n[m.field]}),l});this.cs.exportAsExcel(t,"Bonded Manifest")}onRowExpand(t){}onRowCollapse(t){}getColspan(){return this.cols.length+2}isSelected(t){return this.selectedBondedManifest.includes(t)}getSearchDropdown(){this.bondedManifestTable.forEach(t=>{t.houseAirwayBill!=null&&(this.houseAirwayBillDropdown.push({value:t.houseAirwayBill,label:t.houseAirwayBill}),this.houseAirwayBillDropdown=this.cs.removeDuplicatesFromArrayList(this.houseAirwayBillDropdown,"value")),t.partnerId!=null&&(this.partnerDropdown.push({value:t.partnerId,label:t.partnerName}),this.partnerDropdown=this.cs.removeDuplicatesFromArrayList(this.partnerDropdown,"value")),t.masterAirwayBill!=null&&(this.masterAirwayBillDropdown.push({value:t.masterAirwayBill,label:t.masterAirwayBill}),this.masterAirwayBillDropdown=this.cs.removeDuplicatesFromArrayList(this.masterAirwayBillDropdown,"value")),t.statusId!=null&&(this.statusDropdown.push({value:t.statusId,label:t.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value")),t.bondedId!=null&&(this.bondedIdDropdown.push({value:t.bondedId,label:t.bondedId}),this.bondedIdDropdown=this.cs.removeDuplicatesFromArrayList(this.bondedIdDropdown,"value")),t.hsCode!=null&&(this.hsCodeDropdown.push({value:t.hsCode,label:t.hsCode}),this.hsCodeDropdown=this.cs.removeDuplicatesFromArrayList(this.hsCodeDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let t=this.searchform.value;this.fieldsWithValue=Object.keys(t).filter(n=>t[n]!==null&&t[n]!==void 0&&n!=="companyId"&&n!=="languageId").map(n=>this.fieldDisplayNames[n]||n),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:n=>{this.bondedManifestTable=n,this.spin.hide(),this.overlayPanel.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({houseAirwayBill:[],masterAirwayBill:[],partnerId:[],bondedId:[],hsCode:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(t){let n=Object.keys(this.fieldDisplayNames).find(l=>this.fieldDisplayNames[l]===t.value);n&&(this.searchform.get(n)?.reset(),this.search())}};d.\u0275fac=function(n){return new(n||d)(u(R),u(j),u(O),u(W),u(Et),u(ge),u(se),u(B),u(V),u(L))},d.\u0275cmp=D({type:d,selectors:[["app-bonded-manifest"]],viewQuery:function(n,l){if(n&1&&rt(In,5),n&2){let m;ot(m=at())&&(l.overlayPanel=m.first)}},decls:65,vars:51,consts:[["op",""],["bondedmanifest",""],["bondedManifestTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],[1,"d-flex","flex-column"],["mat-menu-item","",1,"w-100",2,"width","8rem",3,"click"],["src","./assets/common/upload.png","srcset","",2,"padding-right","10px","width","2rem"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","bondedId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","masterAirwayBill","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","houseAirwayBill","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","partnerId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","hsCode","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","multiple","sortField","createdOn","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm","dataKey","pieceItemId","rowExpandMode","single",1,"custom-table",3,"selectionChange","onRowExpand","onRowCollapse","columns","value","scrollable","selection","sortOrder","paginator","rows","showCurrentPageReport","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"ngClass"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"value"],[2,"font-size","14px",3,"pRowToggler","ngClass"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"px-4"],[1,"d-flex","justify-content","animate__animated","animate__fadeIn"],[1,"lineBorder"],[1,"contentBox"],[1,"col-2","spacingBottom"],[1,"mb-0","headerText"],[1,"mb-0","valueText","chip"],[1,"mb-0","valueText","chip",3,"ngClass"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(n,l){if(n&1){let m=P();i(0,"div",5)(1,"div",6)(2,"p",7),a(3,"Bonded Manifest "),e(),i(4,"div",6)(5,"img",8),x("click",function(){return _(m),w(l.openCrud("Edit"))}),e(),i(6,"img",9),x("click",function(){return _(m),w(l.downloadExcel())}),e(),i(7,"img",10),x("click",function(){return _(m),w(l.deleteDialog())}),e(),i(8,"img",11),x("click",function(f){_(m);let E=K(10);return w(E.toggle(f))}),e(),i(9,"p-overlayPanel",null,0)(11,"div",12)(12,"button",13),x("click",function(){return _(m),w(l.updateBulk())}),c(13,"img",14),a(14,"Bulk Update"),e()()(),i(15,"button",15),x("click",function(){return _(m),w(l.openCrud("New"))}),c(16,"i",16),a(17," Add New"),e()()(),i(18,"div",17)(19,"p-iconField",18)(20,"p-inputIcon",19),x("click",function(f){_(m);let E=K(23);return w(E.toggle(f))}),e(),i(21,"input",20),x("input",function(f){_(m);let E=K(57);return w(E.filterGlobal(f.target.value,"contains"))}),e()(),i(22,"p-overlayPanel",21,1)(24,"form",22)(25,"div",23)(26,"div",24)(27,"p",25),a(28,"Bonded ID"),e(),c(29,"p-multiSelect",26),e(),i(30,"div",24)(31,"p",25),a(32,"MAWB"),e(),c(33,"p-multiSelect",27),e(),i(34,"div",24)(35,"p",25),a(36,"HAWB"),e(),c(37,"p-multiSelect",28),e(),i(38,"div",24)(39,"p",25),a(40,"Partner"),e(),c(41,"p-multiSelect",29),e(),i(42,"div",24)(43,"p",25),a(44,"HS Code"),e(),c(45,"p-multiSelect",30),e()(),i(46,"div",31)(47,"div")(48,"img",32),x("click",function(){return _(m),w(l.reset())}),e()(),i(49,"div")(50,"button",33),x("click",function(){return _(m),w(l.closeOverLay())}),a(51,"Cancel"),e(),i(52,"button",34),x("click",function(){return _(m),w(l.search())}),a(53,"Apply"),e()()()()(),i(54,"p-chips",35),x("onRemove",function(f){return _(m),w(l.chipClear(f))}),J("ngModelChange",function(f){return _(m),Z(l.fieldsWithValue,f)||(l.fieldsWithValue=f),w(f)}),e()(),i(55,"div",36)(56,"p-table",37,2),J("selectionChange",function(f){return _(m),Z(l.selectedBondedManifest,f)||(l.selectedBondedManifest=f),w(f)}),x("onRowExpand",function(f){return _(m),w(l.onRowExpand(f))})("onRowCollapse",function(f){return _(m),w(l.onRowCollapse(f))}),C(58,Fn,6,1,"ng-template",38)(59,Pn,6,7,"ng-template",39)(60,Dn,59,11,"ng-template",40)(61,On,4,1,"ng-template",41),e()()(),i(62,"mat-menu",42,3),C(64,Vn,4,0,"ng-template",43),e()}n&2&&(o(9),I(g(38,Sn)),o(13),I(g(39,En)),p("dismissable",!1)("styleClass","custom-overlay-panel"),o(2),p("formGroup",l.searchform),o(5),I(g(40,tt)),p("options",l.bondedIdDropdown)("panelStyle",g(41,tt)),o(4),I(g(42,tt)),p("options",l.masterAirwayBillDropdown)("panelStyle",g(43,tt)),o(4),I(g(44,tt)),p("options",l.houseAirwayBillDropdown)("panelStyle",g(45,tt)),o(4),I(g(46,tt)),p("options",l.partnerDropdown)("panelStyle",g(47,tt)),o(4),I(g(48,tt)),p("options",l.hsCodeDropdown)("panelStyle",g(49,tt)),o(9),Y("ngModel",l.fieldsWithValue),o(2),p("columns",l.cols)("value",l.bondedManifestTable)("scrollable",!0),Y("selection",l.selectedBondedManifest),p("sortOrder",-1)("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",g(50,Tn)))},dependencies:[ie,Ae,X,ne,Oe,Qe,St,Ue,Ve,Re,pt,dt,$,Q,G,q,st,ut,Le,ht,ft,We,gt,U,z,se],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}.contentBox[_ngcontent-%COMP%]{flex-grow:0;margin:10px 10px 10px 0;flex-direction:row;width:100%;justify-content:center;align-items:center;gap:80px;padding:1rem 2rem 0px;border-radius:16px;border:solid 1px var(--black);background-color:var(--white);color:var(--black);transition:background-color .3s ease}.contentBox[_ngcontent-%COMP%]:hover{background-color:var(--black);color:var(--white)}.lineBorder[_ngcontent-%COMP%]{width:8px;flex-grow:0;margin:10px 7px 10px 0;border-radius:20px;background-color:var(--overcOrange)}.chip[_ngcontent-%COMP%]{padding:3px 1rem 3px 0px;border-radius:6px}.headerText[_ngcontent-%COMP%]{flex-grow:1;font-family:Nunito;font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.3;letter-spacing:normal;text-align:left;padding-bottom:3px}.valueText[_ngcontent-%COMP%]{flex-grow:0;font-family:Nunito;font-size:14px;font-weight:700;font-stretch:normal;font-style:normal;line-height:1.3;letter-spacing:normal;text-align:left}.spacingBottom[_ngcontent-%COMP%]{padding-bottom:.8rem}.hoverButton[_ngcontent-%COMP%]{border:1px solid var(--black)!important;color:var(--black)}.hoverButton[_ngcontent-%COMP%]:hover{background-color:var(--black);border:none;color:var(--white)}"]});let r=d;return r})();var Rn=["fileInput"],Ln=["ccr"],jn=()=>({width:"180"}),Wn=()=>({width:"80vw"}),it=()=>({width:"100%"}),Hn=()=>({width:"100rem"});function Kn(r,d){if(r&1&&(i(0,"th",52),a(1),c(2,"p-sortIcon",53),e()),r&2){let s=d.$implicit;p("pSortableColumn",s.field),o(),F(" ",s.header," "),o(),p("field",s.field)}}function Gn(r,d){if(r&1&&(i(0,"tr")(1,"th",49),c(2,"p-tableHeaderCheckbox",50),e(),i(3,"th",49),a(4," Actions "),e(),C(5,Kn,3,3,"th",51),e()),r&2){let s=d.$implicit;o(2),p("disabled",!0),o(3),p("ngForOf",s)}}function qn(r,d){if(r&1&&(Me(0),a(1),Fe()),r&2){let s=y().$implicit,t=y().$implicit;o(),F(" ",t[s.field]," ")}}function Qn(r,d){if(r&1&&(a(0),ue(1,"date")),r&2){let s=y(2).$implicit;F(" ",ke(1,1,s.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Un(r,d){if(r&1&&(i(0,"td"),C(1,qn,2,1,"ng-container",58)(2,Qn,2,4,"ng-template",null,5,Be),e()),r&2){let s=d.$implicit,t=K(3);o(),p("ngIf",s.format!=="date")("ngIfElse",t)}}function zn(r,d){if(r&1&&(i(0,"tr")(1,"td",54),c(2,"p-tableCheckbox",55),e(),i(3,"td",54),c(4,"i",56),e(),C(5,Un,4,2,"td",57),e()),r&2){let s=d.$implicit,t=d.columns,n=d.expanded;o(2),p("value",s),o(2),p("pRowToggler",s)("ngClass",n?"bi-chevron-up":"bi-chevron-right"),o(),p("ngForOf",t)}}function $n(r,d){if(r&1&&(i(0,"td",59)(1,"div",60),c(2,"div",61),i(3,"div",62)(4,"div",28)(5,"div",63)(6,"p",64),a(7,"HAWB"),e()(),i(8,"div",63)(9,"p",65),a(10),e()(),i(11,"div",63)(12,"p",64),a(13,"Origin"),e()(),i(14,"div",63)(15,"p",66),a(16),e()(),i(17,"div",63)(18,"p",64),a(19,"Item Total Price"),e()(),i(20,"div",63)(21,"p",65),a(22),e()(),i(23,"div",63)(24,"p",64),a(25,"Customs CCR No"),e()(),i(26,"div",63)(27,"p",65),a(28),e()(),i(29,"div",63)(30,"p",64),a(31,"Bill No"),e()(),i(32,"div",63)(33,"p",65),a(34),e()(),i(35,"div",63)(36,"p",64),a(37,"Payment Type"),e()(),i(38,"div",63)(39,"p",65),a(40),e()(),i(41,"div",63)(42,"p",64),a(43,"No of Pcs"),e()(),i(44,"div",63)(45,"p",65),a(46),e()(),i(47,"div",63)(48,"p",64),a(49,"Weight"),e()(),i(50,"div",63)(51,"p",65),a(52),e()()()()()()),r&2){let s=d.$implicit,t=y();pe("colspan",t.getColspan()),o(10),b(s.houseAirwayBill),o(5),p("ngClass",s.origin?"bgOrange text-dark w-75 textCenter":""),o(),b(s.origin),o(6),b(s.itemTotalPrice),o(6),b(s.customsCcrNo),o(6),b(s.billNo),o(6),b(s.paymentType),o(6),b(s.quantity),o(6),b(s.grossWeight)}}function Yn(r,d){r&1&&(i(0,"tr")(1,"td")(2,"p",67),a(3,"No records found"),e()()()),r&2&&(o(),pe("colspan",4))}function Zn(r,d){r&1&&(i(0,"button",68),a(1,"Edit"),e(),i(2,"button",68),a(3,"Confirm"),e())}var ki=(()=>{let d=class d{constructor(t,n,l,m,h,f,E,S,N,M,k){this.messageService=t,this.cs=n,this.router=l,this.path=m,this.service=h,this.dialog=f,this.datePipe=E,this.auth=S,this.fb=N,this.spin=M,this.label=k,this.actualResult=[],this.ccrTable=[],this.selectedCcr=[],this.cols=[],this.target=[],this.selectedFiles=null,this.searchform=this.fb.group({houseAirwayBill:[],masterAirwayBill:[],partnerId:[],ccrId:[],consoleId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.fieldDisplayNames={houseAirwayBill:"Consignment No",masterAirwayBill:"MAWB",partnerId:"Partner",ccrId:"CCR ID",consoleId:"Console ID",statusId:"Status"},this.houseAirwayBillDropdown=[],this.masterAirwayBillDropdown=[],this.partnerDropdown=[],this.statusDropdown=[],this.ccrIdDropdown=[],this.consoleIdDropdown=[],this.removeDuplicated=[],this.uniquePieceId=[],this.uniqueHouseAirway=[]}ngOnInit(){let t=["Mid-Mile","CCR"];this.path.setData(t),this.callTableHeader(),this.initialCall()}callTableHeader(){this.cols=[{field:"companyId",header:"Company"},{field:"ccrId",header:"CCR ID"},{field:"houseAirwayBill",header:"Consignment No"},{field:"partnerMasterAirwayBill",header:"Partner MAWB"},{field:"partnerHouseAirwayBill",header:"Partner HAWB"},{field:"statusText",header:"Status"},{field:"eventText",header:"Event"},{field:"createdBy",header:"Created By"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[{field:"referenceField1",header:"Reference Field 1"},{field:"referenceField2",header:"Reference Field 2"},{field:"referenceField3",header:"Reference Field 3"},{field:"referenceField4",header:"Reference Field 4"},{field:"referenceField5",header:"Reference Field 5"}]}updateBulk(){this.dialog.open($t,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{title:"CCR",code:this.selectedCcr}}).afterClosed().subscribe(n=>{this.initialCall()})}initialCall(){setTimeout(()=>{this.spin.show();let t={};t.languageId=[this.auth.languageId],t.companyId=[this.auth.companyId],this.service.search(t).subscribe({next:n=>{this.ccrTable=n,this.actualResult=n,this.ccrTable=this.cs.removeDuplicatesFromArrayList(this.ccrTable,"ccrId"),this.getSearchDropdown(),this.spin.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})},2e3)}onChange(){let t=this.selectedCcr[this.selectedCcr.length-1];this.selectedCcr.length=0,this.selectedCcr.push(t)}customTable(){this.dialog.open(vt,{disableClose:!0,width:"70%",maxWidth:"80%",position:{top:"6.5%",left:"30%"},data:{target:this.cols,source:this.target}}).afterClosed().subscribe(n=>{n&&this.deleterecord(this.selectedCcr[0])})}openCrud(t="New",n=null){if(this.selectedCcr.length===0&&t!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let l=this.cs.encrypt({line:n??this.selectedCcr[0],pageflow:t});this.router.navigate(["/main/airport/ccr-new/"+l])}}openEdit(t="New",n=null){if(this.selectedCcr.length===0&&t!="New")this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});else{let l=this.cs.encrypt({line:n??this.selectedCcr[0],pageflow:t});this.router.navigate(["/main/airport/ccr-edit/"+l])}}deleteDialog(){if(this.selectedCcr.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.dialog.open(yt,{disableClose:!0,width:"60%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{line:this.selectedCcr,module:"CCR",body:"This action cannot be undone. All values associated with this field will be lost."}}).afterClosed().subscribe(n=>{n&&this.deleterecord(this.selectedCcr)})}deleterecord(t){this.spin.show(),this.service.Delete(t).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"Deleted",key:"br",detail:"Selected records deleted successfully"}),this.spin.hide(),this.initialCall()},error:n=>{this.cs.commonerrorNew(n),this.spin.hide()}})}downloadExcel(){let t=this.ccrTable.map(n=>{let l={};return this.cols.forEach(m=>{m.format=="date"?l[m.field]=this.datePipe.transform(n[m.field],"dd-MM-yyyy"):l[m.field]=n[m.field]}),l});this.cs.exportAsExcel(t,"Bonded Manifest")}onRowExpand(t){}onRowCollapse(t){}getColspan(){return this.cols.length+2}isSelected(t){return this.selectedCcr.includes(t)}uploadBayan(){if(this.selectedCcr.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}this.fileInput.nativeElement.click()}onFileSelected(t){let n="/"+this.selectedCcr[0].ccrId+"/",l=t.target.files[0];this.selectedFiles=l,this.spin.show(),this.service.uploadBayan(this.selectedFiles,n).subscribe({next:m=>{this.messageService.add({severity:"success",summary:"Uploaded",key:"br",detail:"File uploaded successfully"}),this.spin.hide()},error:m=>{this.spin.hide(),this.cs.commonerrorNew(m)}})}getSearchDropdown(){this.ccrTable.forEach(t=>{t.houseAirwayBill!=null&&(this.houseAirwayBillDropdown.push({value:t.houseAirwayBill,label:t.houseAirwayBill}),this.houseAirwayBillDropdown=this.cs.removeDuplicatesFromArrayList(this.houseAirwayBillDropdown,"value")),t.partnerId!=null&&(this.partnerDropdown.push({value:t.partnerId,label:t.partnerName}),this.partnerDropdown=this.cs.removeDuplicatesFromArrayList(this.partnerDropdown,"value")),t.masterAirwayBill!=null&&(this.masterAirwayBillDropdown.push({value:t.masterAirwayBill,label:t.masterAirwayBill}),this.masterAirwayBillDropdown=this.cs.removeDuplicatesFromArrayList(this.masterAirwayBillDropdown,"value")),t.statusId!=null&&(this.statusDropdown.push({value:t.statusId,label:t.statusDescription}),this.statusDropdown=this.cs.removeDuplicatesFromArrayList(this.statusDropdown,"value")),t.ccrId!=null&&(this.ccrIdDropdown.push({value:t.ccrId,label:t.ccrId}),this.ccrIdDropdown=this.cs.removeDuplicatesFromArrayList(this.ccrIdDropdown,"value")),t.consoleId!=null&&(this.consoleIdDropdown.push({value:t.consoleId,label:t.consoleId}),this.consoleIdDropdown=this.cs.removeDuplicatesFromArrayList(this.consoleIdDropdown,"value"))})}closeOverLay(){this.overlayPanel.hide()}search(){this.fieldsWithValue=null;let t=this.searchform.value;this.fieldsWithValue=Object.keys(t).filter(n=>t[n]!==null&&t[n]!==void 0&&n!=="companyId"&&n!=="languageId").map(n=>this.fieldDisplayNames[n]||n),this.spin.show(),this.service.search(this.searchform.getRawValue()).subscribe({next:n=>{this.ccrTable=n,this.spin.hide(),this.overlayPanel.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}reset(){this.searchform.reset(),this.searchform=this.fb.group({houseAirwayBill:[],masterAirwayBill:[],partnerId:[],ccrId:[],consoleId:[],statusId:[],companyId:[[this.auth.companyId]],languageId:[[this.auth.languageId]]}),this.search()}chipClear(t){let n=Object.keys(this.fieldDisplayNames).find(l=>this.fieldDisplayNames[l]===t.value);n&&(this.searchform.get(n)?.reset(),this.search())}generateLabel(){if(this.uniquePieceId=[],this.selectedCcr.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}let t={};t.ccrId=[this.selectedCcr[0].ccrId],this.service.search(t).subscribe({next:n=>{this.uniquePieceId=this.cs.removeDuplicatesFromArrayList(n,"pieceId");let l=this.uniquePieceId.map(m=>m.pieceId);this.label.getResultLabel(l)},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}generateInvoice(){if(this.uniqueHouseAirway=[],this.selectedCcr.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}let t={};t.ccrId=[this.selectedCcr[0].ccrId],this.service.search(t).subscribe({next:n=>{this.uniqueHouseAirway=this.cs.removeDuplicatesFromArrayList(n,"houseAirwayBill");let l=this.uniqueHouseAirway.map(m=>m.houseAirwayBill);this.label.getResultInvoice(l)},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}generateMerge(){if(this.uniqueHouseAirway=[],this.uniquePieceId=[],this.selectedCcr.length===0){this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"});return}let t={};t.ccrId=[this.selectedCcr[0].ccrId],this.service.search(t).subscribe({next:n=>{this.uniquePieceId=this.cs.removeDuplicatesFromArrayList(n,"pieceId"),this.uniqueHouseAirway=this.cs.removeDuplicatesFromArrayList(n,"houseAirwayBill");let l=this.uniquePieceId.map(h=>h.pieceId),m=this.uniqueHouseAirway.map(h=>h.houseAirwayBill);this.label.generateMutiple(l,m)},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}};d.\u0275fac=function(n){return new(n||d)(u(R),u(j),u(O),u(W),u(Ct),u(ge),u(se),u(B),u(V),u(L),u(Ei))},d.\u0275cmp=D({type:d,selectors:[["app-ccr"]],viewQuery:function(n,l){if(n&1&&(rt(Rn,5),rt(Ln,5)),n&2){let m;ot(m=at())&&(l.fileInput=m.first),ot(m=at())&&(l.overlayPanel=m.first)}},decls:83,vars:51,consts:[["fileInput",""],["op",""],["ccr",""],["ccrTag",""],["menu","matMenu"],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","file",2,"display","none",3,"change"],["type","button","src","./assets/common/edit.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/download.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/deletetool.png","alt","","srcset","",2,"margin","0 17px","height","1.5rem",3,"click"],["type","button","src","./assets/common/settings.png","alt","","srcset","",2,"margin-left","19px","margin-right","28px","height","1.5rem",3,"click"],[1,"d-flex","flex-column"],["mat-menu-item","",1,"w-100",2,"width","8rem",3,"click"],["src","./assets/common/upload.png","srcset","",2,"padding-right","10px","width","2rem"],["src","./assets/common/document.png","srcset","",2,"padding-right","10px","width","2rem"],["src","./assets/common2x/invoice.png","srcset","",2,"padding-right","10px","width","2rem"],["src","./assets/common2x/merge.png","srcset","",2,"padding-right","10px","width","2rem"],["type","button",1,"btn","ml-2","addNewbuttom","bgBlack","text-white",3,"click"],[1,"bi","bi-plus-square","pr-2"],[1,"d-flex","justify-content-start","align-items-center",2,"margin-bottom","1.1rem !important","margin-top","0.8rem"],["iconPosition","right",1,"mr-2"],["type","button","styleClass","pi pi-filter",3,"click"],["type","text","id","toolInput1","pInputText","","placeholder","Advance filter",3,"input"],["appendTo","body",3,"dismissable","styleClass"],[2,"padding","2rem",3,"formGroup"],[1,"row"],[1,"col-3","mb-3","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["placeholder","Select","filter","true","formControlName","ccrId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","masterAirwayBill","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","houseAirwayBill","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","partnerId","appendTo","body",3,"options","panelStyle"],["placeholder","Select","filter","true","formControlName","consoleId","appendTo","body",3,"options","panelStyle"],[1,"d-flex","justify-content-between"],["type","button","src","./assets/common/reset.png","alt","","srcset","",3,"click"],[1,"buttom1","textBlack","mx-1",3,"click"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"inputborderLess",3,"onRemove","ngModelChange","ngModel"],[1,"tableProperties"],["selectionMode","multiple","sortField","createdOn","scrollHeight","calc(100vh - 20.8rem)","sortField","createdOn","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm","dataKey","ccrId","rowExpandMode","single",1,"custom-table",3,"selectionChange","onRowExpand","onRowCollapse","columns","value","scrollable","sortOrder","selection","paginator","rows","showCurrentPageReport","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[1,"customClass"],["matMenuContent",""],[2,"width","5rem"],[1,"pl-3",3,"disabled"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[2,"width","5rem","justify-content","center"],[1,"pl-3",3,"value"],[2,"font-size","14px",3,"pRowToggler","ngClass"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"px-4"],[1,"d-flex","justify-content","animate__animated","animate__fadeIn"],[1,"lineBorder"],[1,"contentBox"],[1,"col-2","spacingBottom"],[1,"mb-0","headerText"],[1,"mb-0","valueText","chip"],[1,"mb-0","valueText","chip",3,"ngClass"],[1,"my-2","w-100","pl-3"],["mat-menu-item",""]],template:function(n,l){if(n&1){let m=P();i(0,"div",6)(1,"div",7)(2,"p",8),a(3,"CCR "),e(),i(4,"input",9,0),x("change",function(f){return _(m),w(l.onFileSelected(f))}),e(),i(6,"div",7)(7,"img",10),x("click",function(){return _(m),w(l.openEdit("Edit"))}),e(),i(8,"img",11),x("click",function(){return _(m),w(l.downloadExcel())}),e(),i(9,"img",12),x("click",function(){return _(m),w(l.deleteDialog())}),e(),i(10,"img",13),x("click",function(f){_(m);let E=K(12);return w(E.toggle(f))}),e(),i(11,"p-overlayPanel",null,1)(13,"div",14)(14,"button",15),x("click",function(){return _(m),w(l.uploadBayan())}),c(15,"img",16),a(16,"Upload Bayan"),e()(),i(17,"div",14)(18,"button",15),x("click",function(){return _(m),w(l.updateBulk())}),c(19,"img",16),a(20,"Bulk Update"),e()(),i(21,"div",14)(22,"button",15),x("click",function(){return _(m),w(l.generateLabel())}),c(23,"img",17),a(24,"Label "),e()(),i(25,"div",14)(26,"button",15),x("click",function(){return _(m),w(l.generateInvoice())}),c(27,"img",18),a(28,"Invoice "),e()(),i(29,"div",14)(30,"button",15),x("click",function(){return _(m),w(l.generateMerge())}),c(31,"img",19),a(32,"Invoice & Label "),e()()(),i(33,"button",20),x("click",function(){return _(m),w(l.openCrud("New"))}),c(34,"i",21),a(35," Add New"),e()()(),i(36,"div",22)(37,"p-iconField",23)(38,"p-inputIcon",24),x("click",function(f){_(m);let E=K(41);return w(E.toggle(f))}),e(),i(39,"input",25),x("input",function(f){_(m);let E=K(75);return w(E.filterGlobal(f.target.value,"contains"))}),e()(),i(40,"p-overlayPanel",26,2)(42,"form",27)(43,"div",28)(44,"div",29)(45,"p",30),a(46,"CCR ID"),e(),c(47,"p-multiSelect",31),e(),i(48,"div",29)(49,"p",30),a(50,"MAWB"),e(),c(51,"p-multiSelect",32),e(),i(52,"div",29)(53,"p",30),a(54,"HAWB"),e(),c(55,"p-multiSelect",33),e(),i(56,"div",29)(57,"p",30),a(58,"Partner"),e(),c(59,"p-multiSelect",34),e(),i(60,"div",29)(61,"p",30),a(62,"Console ID"),e(),c(63,"p-multiSelect",35),e()(),i(64,"div",36)(65,"div")(66,"img",37),x("click",function(){return _(m),w(l.reset())}),e()(),i(67,"div")(68,"button",38),x("click",function(){return _(m),w(l.closeOverLay())}),a(69,"Cancel"),e(),i(70,"button",39),x("click",function(){return _(m),w(l.search())}),a(71,"Apply"),e()()()()(),i(72,"p-chips",40),x("onRemove",function(f){return _(m),w(l.chipClear(f))}),J("ngModelChange",function(f){return _(m),Z(l.fieldsWithValue,f)||(l.fieldsWithValue=f),w(f)}),e()(),i(73,"div",41)(74,"p-table",42,3),J("selectionChange",function(f){return _(m),Z(l.selectedCcr,f)||(l.selectedCcr=f),w(f)}),x("onRowExpand",function(f){return _(m),w(l.onRowExpand(f))})("onRowCollapse",function(f){return _(m),w(l.onRowCollapse(f))}),C(76,Gn,6,2,"ng-template",43)(77,zn,6,4,"ng-template",44)(78,$n,53,10,"ng-template",45)(79,Yn,4,1,"ng-template",46),e()()(),i(80,"mat-menu",47,4),C(82,Zn,4,0,"ng-template",48),e()}n&2&&(o(11),I(g(38,jn)),o(29),I(g(39,Wn)),p("dismissable",!1)("styleClass","custom-overlay-panel"),o(2),p("formGroup",l.searchform),o(5),I(g(40,it)),p("options",l.ccrIdDropdown)("panelStyle",g(41,it)),o(4),I(g(42,it)),p("options",l.masterAirwayBillDropdown)("panelStyle",g(43,it)),o(4),I(g(44,it)),p("options",l.houseAirwayBillDropdown)("panelStyle",g(45,it)),o(4),I(g(46,it)),p("options",l.partnerDropdown)("panelStyle",g(47,it)),o(4),I(g(48,it)),p("options",l.consoleIdDropdown)("panelStyle",g(49,it)),o(9),Y("ngModel",l.fieldsWithValue),o(2),p("columns",l.cols)("value",l.ccrTable)("scrollable",!0)("sortOrder",-1),Y("selection",l.selectedCcr),p("paginator",!0)("rows",100)("showCurrentPageReport",!0)("sortOrder",-1)("tableStyle",g(50,Hn)))},dependencies:[ie,Ae,X,ne,Oe,Qe,St,Ue,Ve,Re,pt,dt,$,Q,G,q,st,ut,Le,ht,ft,We,gt,U,z,se],styles:[".customClass{border-radius:12px!important;box-shadow:0 .5rem 1rem #00000026!important}.custom-height[_ngcontent-%COMP%]{height:calc(100vh - 19.3rem)!important;overflow-y:scroll!important}.contentBox[_ngcontent-%COMP%]{flex-grow:0;margin:10px 10px 10px 0;flex-direction:row;width:100%;justify-content:center;align-items:center;gap:80px;padding:1rem 2rem 0px;border-radius:16px;border:solid 1px var(--black);background-color:var(--white);color:var(--black);transition:background-color .3s ease}.contentBox[_ngcontent-%COMP%]:hover{background-color:var(--black);color:var(--white)}.lineBorder[_ngcontent-%COMP%]{width:8px;flex-grow:0;margin:10px 7px 10px 0;border-radius:20px;background-color:var(--overcOrange)}.chip[_ngcontent-%COMP%]{padding:3px 1rem 3px 0px;border-radius:6px;text-align:center}.headerText[_ngcontent-%COMP%]{flex-grow:1;font-family:Nunito;font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.3;letter-spacing:normal;text-align:left;padding-bottom:3px}.valueText[_ngcontent-%COMP%]{flex-grow:0;font-family:Nunito;font-size:14px;font-weight:700;font-stretch:normal;font-style:normal;line-height:1.3;letter-spacing:normal;text-align:left}.spacingBottom[_ngcontent-%COMP%]{padding-bottom:.8rem}.hoverButton[_ngcontent-%COMP%]{border:1px solid var(--black)!important;color:var(--black)}.hoverButton[_ngcontent-%COMP%]:hover{background-color:var(--black);border:none;color:var(--white)}"]});let r=d;return r})();var Ge=()=>({width:"100%"});function Jn(r,d){r&1&&(i(0,"p",15),a(1,"1"),e())}function Xn(r,d){r&1&&c(0,"img",16)}function er(r,d){if(r&1){let s=P();i(0,"div",10),x("click",function(){let n=_(s).onClick;return w(n.emit())}),i(1,"div",11),C(2,Jn,2,0,"p",12)(3,Xn,1,0,"img",13),e(),i(4,"div")(5,"p",14),a(6,"General"),e()()()}if(r&2){let s=y();o(2),p("ngIf",s.active==0),o(),p("ngIf",s.active!=0)}}function tr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function ir(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function nr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function rr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function or(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function ar(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function lr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function sr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function dr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function pr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function cr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function mr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function ur(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function hr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function gr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function fr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function yr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function vr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function Cr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function _r(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function wr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function xr(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function br(r,d){if(r&1&&(i(0,"mat-error",67)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function Ir(r,d){if(r&1){let s=P();i(0,"div",17)(1,"div",18)(2,"p",19),a(3,"Company"),e(),c(4,"p-dropdown",20),C(5,tr,3,1,"mat-error",21),e(),i(6,"div",18)(7,"p",22),a(8,"Partner Type"),e(),i(9,"p-dropdown",23),x("onChange",function(){_(s);let n=y();return w(n.partnerTypeChanged())}),e(),C(10,ir,3,1,"mat-error",21),e(),i(11,"div",24)(12,"p",22),a(13,"Partner ID"),e(),c(14,"p-dropdown",25),C(15,nr,3,1,"mat-error",21),e(),i(16,"div",26)(17,"p",19),a(18,"Partner MAWB"),e(),c(19,"input",27),C(20,rr,3,1,"mat-error",21),e(),i(21,"div",28)(22,"p",19),a(23,"Partner HAWB"),e(),c(24,"input",29),C(25,or,3,1,"mat-error",21),e(),i(26,"div",30)(27,"p",19),a(28,"Inco Terms"),e(),c(29,"input",31),C(30,ar,3,1,"mat-error",21),e(),i(31,"div",32)(32,"p",19),a(33,"Sender"),e(),c(34,"input",33),C(35,lr,3,1,"mat-error",21),e(),i(36,"div",34)(37,"p",19),a(38,"Receiver"),e(),c(39,"input",33),C(40,sr,3,1,"mat-error",21),e(),i(41,"div",35)(42,"p",19),a(43,"Origin"),e(),c(44,"p-dropdown",36),C(45,dr,3,1,"mat-error",21),e(),i(46,"div",37)(47,"p",19),a(48,"Destination"),e(),c(49,"p-dropdown",38),C(50,pr,3,1,"mat-error",21),e(),i(51,"div",39)(52,"p",19),a(53,"Commodity"),e(),c(54,"input",40),C(55,cr,3,1,"mat-error",21),e(),i(56,"div",41)(57,"p",19),a(58,"Goods Description"),e(),c(59,"input",42),C(60,mr,3,1,"mat-error",21),e(),i(61,"div",43)(62,"p",19),a(63,"Weight"),e(),c(64,"input",44),C(65,ur,3,1,"mat-error",21),e(),i(66,"div",45)(67,"p",19),a(68,"HS Code"),e(),c(69,"p-dropdown",46),C(70,hr,3,1,"mat-error",21),e(),i(71,"div",35)(72,"p",19),a(73,"Origin Port"),e(),c(74,"input",47),C(75,gr,3,1,"mat-error",21),e(),i(76,"div",48)(77,"p",19),a(78,"Destination Port"),e(),c(79,"input",49),C(80,fr,3,1,"mat-error",21),e(),i(81,"div",50)(82,"p",22),a(83,"Estimated Time Of Departure"),e(),c(84,"p-calendar",51),C(85,yr,3,1,"mat-error",21),e(),i(86,"div",52)(87,"p",19),a(88,"Estimated Time Of Arrival"),e(),c(89,"input",53),C(90,vr,3,1,"mat-error",21),e(),i(91,"div",54)(92,"p",19),a(93,"Total Shipments"),e(),c(94,"input",55),C(95,Cr,3,1,"mat-error",21),e(),i(96,"div",56)(97,"p",19),a(98,"Number Of CRT"),e(),c(99,"input",57),C(100,_r,3,1,"mat-error",21),e(),i(101,"div",58)(102,"p",19),a(103,"Total Shipment Weight"),e(),c(104,"input",59),C(105,wr,3,1,"mat-error",21),e(),i(106,"div",60)(107,"p",19),a(108,"Total Value"),e(),c(109,"input",61),C(110,xr,3,1,"mat-error",21),e(),i(111,"div",62)(112,"p",19),a(113,"Currency"),e(),c(114,"input",63),C(115,br,3,1,"mat-error",21),e()(),i(116,"div",64)(117,"button",65),a(118,"Cancel"),e(),i(119,"button",66),x("click",function(){_(s);let n=y();return w(n.save())}),a(120),e()()}if(r&2){let s,t,n,l,m,h,f,E,S,N,M,k,A,ce,me,Se,Ee,Te,Ne,v=y();o(4),I(g(72,Ge)),p("options",v.companyIdList)("disabled",!0)("panelStyle",g(73,Ge)),o(),p("ngIf",v.errorHandling("companyId")),o(4),I(g(74,Ge)),p("options",v.partnerType)("panelStyle",g(75,Ge)),o(),p("ngIf",v.errorHandling("partnerType")),o(4),I(g(76,Ge)),p("options",v.customerIdList)("ngClass",(s=v.form.get("partnerId"))!=null&&s.invalid&&v.submitted?"ng-invalid ng-dirty":"")("panelStyle",g(77,Ge)),o(),p("ngIf",v.errorHandling("partnerId")),o(4),p("ngClass",(t=v.form.get("partnerMasterAirwayBill"))!=null&&t.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("partnerMasterAirwayBill")),o(4),p("ngClass",(n=v.form.get("partnerHouseAirwayBill"))!=null&&n.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("partnerHouseAirwayBill")),o(4),p("ngClass",(l=v.form.get("incoTerms"))!=null&&l.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("incoTerms")),o(4),p("ngClass",(m=v.form.get("name"))!=null&&m.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("name")),o(4),p("ngClass",(h=v.form.get("name"))!=null&&h.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("name")),o(4),I(g(78,Ge)),p("options",v.countryIdList)("disabled",!0)("panelStyle",g(79,Ge)),o(),p("ngIf",v.errorHandling("countryOfOrigin")),o(4),I(g(80,Ge)),p("options",v.countryIdList)("disabled",!0)("panelStyle",g(81,Ge)),o(),p("ngIf",v.errorHandling("countryOfDestination")),o(4),p("ngClass",(f=v.form.get("description"))!=null&&f.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("description")),o(4),p("ngClass",(E=v.form.get("goodsDescription"))!=null&&E.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("goodsDescription")),o(4),p("ngClass",(S=v.form.get("weight"))!=null&&S.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("weight")),o(4),I(g(82,Ge)),p("options",v.hsCodeList)("ngClass",(N=v.form.get("hsCode"))!=null&&N.invalid&&v.submitted?"ng-invalid ng-dirty":"")("panelStyle",g(83,Ge)),o(),p("ngIf",v.errorHandling("hsCode")),o(4),p("ngClass",(M=v.form.get("countryOfOrigin"))!=null&&M.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("countryOfOrigin")),o(4),p("ngClass",(k=v.form.get("airportDestinationCode"))!=null&&k.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("airportDestinationCode")),o(4),p("ngClass",(A=v.form.get("estimatedDepartureTimeFE"))!=null&&A.invalid&&v.submitted?"ng-invalid ng-dirty":"")("iconDisplay","input")("showIcon",!0),o(),p("ngIf",v.errorHandling("estimatedDepartureTime")),o(4),p("ngClass",(ce=v.form.get("flightArrivalTime"))!=null&&ce.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("flightArrivalTime")),o(4),p("ngClass",(me=v.form.get("noOfPackageMawb"))!=null&&me.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("noOfPackageMawb")),o(4),p("ngClass",(Se=v.form.get("noOfCrt"))!=null&&Se.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("noOfCrt")),o(4),p("ngClass",(Ee=v.form.get("totalShipmentWeight"))!=null&&Ee.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("totalShipmentWeight")),o(4),p("ngClass",(Te=v.form.get("consignmentValue"))!=null&&Te.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("consignmentValue")),o(4),p("ngClass",(Ne=v.form.get("consignmentCurrency"))!=null&&Ne.invalid&&v.submitted?"ng-invalid ng-dirty":""),o(),p("ngIf",v.errorHandling("consignmentCurrency")),o(5),b(v.pageToken.pageflow!="New"?"Update":"Save")}}function Sr(r,d){if(r&1){let s=P();i(0,"div",10),x("click",function(){let n=_(s).onClick;return w(n.emit())}),i(1,"div",11)(2,"p",68),a(3," 2"),e()(),i(4,"div")(5,"p",69),a(6," Admin"),e()()()}if(r&2){let s=y(2);o(2),p("ngClass",s.active==2?"borderCircle":"disabled text-muted"),o(3),p("ngClass",s.active==2?"textBlack f600":"text-muted")}}function Er(r,d){if(r&1){let s=P();i(0,"div",70)(1,"div",18)(2,"p",19),a(3,"Created By"),e(),c(4,"input",71),e(),i(5,"div",18)(6,"p",19),a(7,"Created On"),e(),c(8,"input",72),e(),i(9,"div",18)(10,"p",19),a(11,"Updated By"),e(),c(12,"input",73),e(),i(13,"div",18)(14,"p",19),a(15,"Updated On"),e(),c(16,"input",74),e()(),i(17,"div",64)(18,"button",75),x("click",function(){let n=_(s).prevCallback;return w(n.emit())}),a(19,"Back"),e(),i(20,"button",66),x("click",function(){_(s);let n=y(2);return w(n.save())}),a(21),e()()}if(r&2){let s=y(2);o(21),b(s.pageToken.pageflow!="New"?"Update":"Save")}}function Tr(r,d){r&1&&(i(0,"p-stepperPanel"),C(1,Sr,7,2,"ng-template",7)(2,Er,22,1,"ng-template",8),e())}var Bi=(()=>{let d=class d{constructor(t,n,l,m,h,f,E,S,N,M,k,A,ce,me){this.cs=t,this.spin=n,this.route=l,this.router=m,this.path=h,this.fb=f,this.service=E,this.customerService=S,this.consignorService=N,this.messageService=M,this.cas=k,this.auth=A,this.el=ce,this.dialog=me,this.partnerType=[],this.active=0,this.OriginDetails=this.fb.group({name:[],companyName:[],country:[]}),this.DestinationDetails=this.fb.group({name:[],companyName:[],country:[]}),this.form=this.fb.group({companyId:[this.auth.companyId,H.required],languageId:[this.auth.languageId,H.required],partnerHouseAirwayBill:[],partnerMasterAirwayBill:[],originDetails:this.OriginDetails,destinationDetails:this.DestinationDetails,goodsDescription:[],consigneeName:[],incoTerms:[],shipperName:[],description:[],weight:[,],consignmentValue:[],masterAirwayBill:[],houseAirwayBill:[],consignmentCurrency:[],airportDestinationCode:[],hsCode:[],partnerType:[""],countryOfOrigin:[],countryOfDestination:[],flightArrivalTime:[],estimatedDepartureTime:[""],estimatedDepartureTimeFE:[new Date],noOfPackageMawb:[],noOfCrt:[],totalShipmentWeight:[],totalValue:[],createdOn:[""],createdBy:[],updatedBy:[],updatedOn:[""],partnerId:["",H.required]}),this.submitted=!1,this.email=new De("",[H.required,H.email]),this.companyIdList=[],this.countryIdList=[],this.customerIdList=[],this.hsCodeList=[],this.partnerType=[{value:"customer",label:"Customer"},{value:"consignor",label:"Consignor"}]}errorHandling(t,n="required"){let l=this.form.get(t);return l&&l.hasError(n)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let t=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(t);let n=["Mid-Mile","Pre Alert Manifest",this.pageToken.pageflow];this.path.setData(n),this.dropdownlist(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"&&(this.fill(this.pageToken.line),this.form.controls.companyId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable())}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.country.url,this.cas.dropdownlist.setup.hsCode.url,this.cas.dropdownlist.setup.consignor.url,this.cas.dropdownlist.setup.customer.url]).subscribe({next:t=>{this.companyIdList=this.cas.foreachlist(t[0],this.cas.dropdownlist.setup.company.key),this.countryIdList=this.cas.forLanguageFilter(t[1],this.cas.dropdownlist.setup.country.key),this.hsCodeList=this.cas.forLanguageFilterWithoutKey(t[2],this.cas.dropdownlist.setup.hsCode.key);let n=this.cas.forLanguageFilter(t[3],this.cas.dropdownlist.setup.consignor.key);this.cas.forLanguageFilter(t[4],this.cas.dropdownlist.setup.customer.key).forEach(m=>this.customerIdList.push(m)),n.forEach(m=>this.customerIdList.push(m)),this.customerIdList=this.cs.removeDuplicatesFromArrayList(this.customerIdList,"value"),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}fill(t){this.service.search({houseAirwayBill:[t.houseAirwayBill]}).subscribe({next:n=>{n&&(this.form.patchValue(n[0]),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value)),this.form.controls.estimatedDepartureTime.value&&this.form.controls.estimatedDepartureTimeFE.patchValue(this.cs.pCalendar(this.form.controls.estimatedDepartureTime.value)))},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}save(){if(this.submitted=!0,this.form.invalid){for(let n in this.form.controls)if(this.form.get(n)?.invalid){let m=this.el.nativeElement.querySelector(`#${n}`);if(m){m.scrollIntoView({behavior:"smooth",block:"center"});break}}}if(this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}let t=this.cs.jsonDate(this.form.controls.estimatedDepartureTimeFE.value);this.form.controls.estimatedDepartureTime.patchValue(t),this.pageToken.pageflow!="New"?(this.spin.show(),this.service.UpdatePreAlertManifest([this.form.getRawValue()]).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:n[0].consignmentId+" has been updated successfully"}),this.router.navigate(["/main/airport/preAlertManifest"]),this.spin.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})):(this.spin.show(),this.service.Create([this.form.getRawValue()]).subscribe({next:n=>{n&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:" has been created successfully"}),this.router.navigate(["/main/airport/preAlertManifest"]),this.spin.hide())},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}}))}partnerTypeChanged(){if(this.form.controls.partnerType.value=="customer"){let t={};t.companyId=[this.auth.companyId],this.customerIdList=[],this.spin.show(),this.customerService.search(t).subscribe({next:n=>{this.customerIdList=this.cas.foreachlist(n,{key:"customerId",value:"customerName"}),this.shipperType="Customer",this.form.controls.shipperName.patchValue(this.shipperType),this.spin.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}else{let t={};t.companyId=[this.auth.companyId],this.customerIdList=[],this.spin.show(),this.consignorService.search(t).subscribe({next:n=>{this.customerIdList=this.cas.foreachlist(n,{key:"consignorId",value:"consignorName"}),this.shipperType="Consignor",this.form.controls.shipperName.patchValue(this.shipperType),this.spin.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}}};d.\u0275fac=function(n){return new(n||d)(u(j),u(L),u(ee),u(O),u(W),u(V),u(Je),u(bi),u(Ii),u(R),u(te),u(B),u(pi),u(ge))},d.\u0275cmp=D({type:d,selectors:[["app-pre-alert-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["placeholder","Select","filter","true","formControlName","partnerType","appendTo","body",3,"onChange","options","panelStyle"],["id","partnerId",1,"col-6","marginFieldNew","borderRadius12"],["placeholder","Select","filter","true","formControlName","partnerId","appendTo","body",3,"options","ngClass","panelStyle"],["id","partnerMasterAirwayBill",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","100","pInputText","","pKeyFilter","num","formControlName","partnerMasterAirwayBill","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["id","partnerHouseAirwayBill",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","100","pInputText","","pKeyFilter","num","formControlName","partnerHouseAirwayBill","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["id","incoTerms",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","100","pInputText","","formControlName","incoTerms","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["id","name","formGroupName","originDetails",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","100","pInputText","","formControlName","name","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["id","name","formGroupName","destinationDetails",1,"col-6","marginFieldNew","borderRadius12"],["id","countryOfOrigin",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","countryOfOrigin","appendTo","body","placeholder","Select",3,"options","disabled","panelStyle"],["id","countryOfDestination",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","countryOfDestination","appendTo","body","placeholder","Select",3,"options","disabled","panelStyle"],["id","commodity",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","100","pInputText","","formControlName","description","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["id","goodsDescription",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","100","pInputText","","formControlName","goodsDescription","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["id","weight",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","100","pInputText","","formControlName","weight","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["id","hsCode",1,"col-6","marginFieldNew","borderRadius12"],["placeholder","Select","filter","true","formControlName","hsCode","appendTo","body",3,"options","ngClass","panelStyle"],["maxlength","100","pInputText","","formControlName","countryOfOrigin","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["id","airportDestinationCode",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","100","pInputText","","formControlName","airportDestinationCode","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["id","estimatedDepartureTime",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","estimatedDepartureTimeFE","appendTo","body","placeholder","Filter by Date",1,"w-100","small-calendar",3,"ngClass","iconDisplay","showIcon"],["id","flightArrivalTime",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","100","pInputText","","formControlName","flightArrivalTime","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["id","noOfPackageMawb",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","100","pInputText","","formControlName","noOfPackageMawb","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["id","noOfCrt",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","100","pInputText","","formControlName","noOfCrt","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["id","totalShipmentWeight",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","100","pInputText","","formControlName","totalShipmentWeight","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["id","consignmentValue",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","100","pInputText","","formControlName","consignmentValue","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],["id","consignmentCurrency",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","100","pInputText","","formControlName","consignmentCurrency","pInputText","","placeholder","Enter",1,"w-100",3,"ngClass"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/airport/preAlertManifest",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(n,l){n&1&&(i(0,"div",0)(1,"div",1)(2,"p",2),a(3),e(),i(4,"div",1)(5,"button",3),a(6,"Transfer"),e()()(),i(7,"div",4)(8,"form",5)(9,"p-stepper",6),J("activeStepChange",function(h){return Z(l.active,h)||(l.active=h),h}),i(10,"p-stepperPanel"),C(11,er,7,2,"ng-template",7)(12,Ir,121,84,"ng-template",8),e(),C(13,Tr,3,0,"p-stepperPanel",9),e()()()()),n&2&&(o(3),F("Pre Alert Manifest - ",l.pageToken.pageflow,""),o(5),p("formGroup",l.form),o(),Y("activeStep",l.active),o(4),p("ngIf",l.pageToken.pageflow!="New"))},dependencies:[ie,X,Pe,ne,re,$,_i,mt,ct,Q,ae,G,q,he,ze,je,U,z,gi],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let r=d;return r})();var nt=()=>({width:"100%"});function Nr(r,d){r&1&&(i(0,"p",14),a(1,"1"),e())}function Mr(r,d){r&1&&c(0,"img",15)}function Fr(r,d){if(r&1){let s=P();i(0,"div",9),x("click",function(){let n=_(s).onClick;return w(n.emit())}),i(1,"div",10),C(2,Nr,2,0,"p",11)(3,Mr,1,0,"img",12),e(),i(4,"div")(5,"p",13),a(6,"General"),e()()()}if(r&2){let s=y();o(2),p("ngIf",s.active==0),o(),p("ngIf",s.active!=0)}}function kr(r,d){if(r&1&&(i(0,"mat-error",73)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function Br(r,d){if(r&1&&(i(0,"mat-error",73)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function Ar(r,d){if(r&1&&(i(0,"mat-error",73)(1,"small"),a(2),e()()),r&2){let s=y(3);o(2),b(s.getErrorMessage())}}function Pr(r,d){if(r&1&&(i(0,"div",74)(1,"p",18),a(2,"Manifest Number"),e(),c(3,"input",75),C(4,Ar,3,1,"mat-error",20),e()),r&2){let s,t=y(2);o(3),p("ngClass",(s=t.form.get("bondedId"))!=null&&s.invalid&&((s=t.form.get("bondedId"))!=null&&s.dirty)?"invalid":""),o(),p("ngIf",t.errorHandling("bondedId"))}}function Dr(r,d){if(r&1&&(i(0,"mat-error",73)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function Or(r,d){if(r&1&&(i(0,"mat-error",73)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function Vr(r,d){if(r&1&&(i(0,"mat-error",73)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function Rr(r,d){if(r&1&&(i(0,"mat-error",73)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function Lr(r,d){if(r&1&&(i(0,"mat-error",73)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function jr(r,d){if(r&1){let s=P();i(0,"div",16)(1,"div",17)(2,"p",18),a(3,"Language"),e(),c(4,"p-dropdown",19),C(5,kr,3,1,"mat-error",20),e(),i(6,"div",17)(7,"p",18),a(8,"Company"),e(),c(9,"p-dropdown",21),C(10,Br,3,1,"mat-error",20),e(),C(11,Pr,5,2,"div",22),i(12,"div",23)(13,"p",24),a(14,"Partner MAWB"),e(),c(15,"input",25),C(16,Dr,3,1,"mat-error",20),e(),i(17,"div",26)(18,"p",24),a(19,"Partner HAWB"),e(),c(20,"input",27),C(21,Or,3,1,"mat-error",20),e(),i(22,"div",28)(23,"p",18),a(24," Description "),e(),c(25,"input",29),C(26,Vr,3,1,"mat-error",20),e(),i(27,"div",30)(28,"p",18),a(29," Bill Of Lading For "),e(),c(30,"p-dropdown",31),C(31,Rr,3,1,"mat-error",20),e(),i(32,"div",32)(33,"p",18),a(34," Net Weight (Kgs) "),e(),c(35,"input",33),e(),i(36,"div",34)(37,"p",18),a(38," Manifested Gross Weight (Kgs) "),e(),c(39,"input",35),e(),i(40,"div",36)(41,"p",18),a(42," Gross Weight (Kgs) "),e(),c(43,"input",37),e(),i(44,"div",38)(45,"p",18),a(46," Tare Weight (Kgs) "),e(),c(47,"input",39),e(),i(48,"div",40)(49,"p",18),a(50," Manifested Quantity "),e(),c(51,"input",41),e(),i(52,"div",42)(53,"p",18),a(54," Landed Quantity "),e(),c(55,"input",43),e(),i(56,"div",44)(57,"p",18),a(58," Total Quantity "),e(),c(59,"input",45),e(),i(60,"div",46)(61,"p",18),a(62," Volume "),e(),c(63,"input",47),e(),i(64,"div",48)(65,"p",18),a(66," Port Of Shipping "),e(),c(67,"input",49),e(),i(68,"div",50)(69,"p",18),a(70," Final Destination "),e(),c(71,"input",51),e(),i(72,"div",52)(73,"p",18),a(74," Notify Party "),e(),c(75,"input",53),e(),i(76,"div",54)(77,"p",18),a(78," Consignee Name "),e(),c(79,"input",55),e(),i(80,"div",56)(81,"p",18),a(82,"Shipper"),e(),c(83,"p-dropdown",57),C(84,Lr,3,1,"mat-error",20),e(),i(85,"div",58)(86,"p",18),a(87," Remark "),e(),c(88,"input",59),e(),i(89,"div",60)(90,"p",18),a(91,"Is Consolidated Shipment"),e(),c(92,"p-dropdown",61),e(),i(93,"div",62)(94,"p",18),a(95,"Is Split Bill of Lading"),e(),c(96,"p-dropdown",63),e(),i(97,"div",64)(98,"p",18),a(99," Consolidated Bill Number "),e(),c(100,"input",65),e(),i(101,"div",66)(102,"p",18),a(103," Is Pending Shipment "),e(),c(104,"p-dropdown",67),e(),i(105,"div",68)(106,"p",18),a(107," BWHInvestor "),e(),c(108,"input",69),e()(),i(109,"div",70)(110,"button",71),a(111," Cancel "),e(),i(112,"button",72),x("click",function(){_(s);let n=y();return w(n.save())}),a(113),e()()}if(r&2){let s,t,n,l,m,h,f,E,S,N,M,k,A,ce,me,Se,Ee,Te,Ne,v=y();o(4),I(g(55,nt)),p("options",v.languageIdList)("disabled",!0)("panelStyle",g(56,nt)),o(),p("ngIf",v.errorHandling("languageId")),o(4),I(g(57,nt)),p("options",v.companyIdList)("disabled",!0)("panelStyle",g(58,nt)),o(),p("ngIf",v.errorHandling("companyId")),o(),p("ngIf",v.pageToken.pageflow!="New"),o(4),p("ngClass",(s=v.form.get("partnerMasterAirwayBill"))!=null&&s.invalid&&((s=v.form.get("partnerMasterAirwayBill"))!=null&&s.dirty)?"invalid":""),o(),p("ngIf",v.errorHandling("partnerMasterAirwayBill")),o(4),p("ngClass",(t=v.form.get("partnerHouseAirwayBill"))!=null&&t.invalid&&((t=v.form.get("partnerHouseAirwayBill"))!=null&&t.dirty)?"invalid":""),o(),p("ngIf",v.errorHandling("partnerHouseAirwayBill")),o(4),p("ngClass",(n=v.form.get("description"))!=null&&n.invalid&&v.submitted?"ng-invalid ng-dirty":"")("ngClass",(l=v.form.get("description"))!=null&&l.invalid&&((l=v.form.get("description"))!=null&&l.dirty)?"invalid":""),o(),p("ngIf",v.errorHandling("description")),o(4),I(g(59,nt)),p("options",v.billOfLadingFor),o(),p("ngIf",v.errorHandling("billOfLadingFor")),o(4),p("ngClass",(m=v.form.get("netWeight"))!=null&&m.invalid&&((m=v.form.get("netWeight"))!=null&&m.dirty)?"invalid":""),o(4),p("ngClass",(h=v.form.get("manifestedGrossWeight"))!=null&&h.invalid&&((h=v.form.get("manifestedGrossWeight"))!=null&&h.dirty)?"invalid":""),o(4),p("ngClass",(f=v.form.get("grossWeight"))!=null&&f.invalid&&((f=v.form.get("grossWeight"))!=null&&f.dirty)?"invalid":""),o(4),p("ngClass",(E=v.form.get("tareWeight"))!=null&&E.invalid&&((E=v.form.get("tareWeight"))!=null&&E.dirty)?"invalid":""),o(4),p("ngClass",(S=v.form.get("manifestedQuantity"))!=null&&S.invalid&&((S=v.form.get("manifestedQuantity"))!=null&&S.dirty)?"invalid":""),o(4),p("ngClass",(N=v.form.get("landedQuantity"))!=null&&N.invalid&&((N=v.form.get("landedQuantity"))!=null&&N.dirty)?"invalid":""),o(4),p("ngClass",(M=v.form.get("totalQuantity"))!=null&&M.invalid&&((M=v.form.get("totalQuantity"))!=null&&M.dirty)?"invalid":""),o(4),p("ngClass",(k=v.form.get("volume"))!=null&&k.invalid&&((k=v.form.get("volume"))!=null&&k.dirty)?"invalid":""),o(4),p("ngClass",(A=v.form.get("portOfShipping"))!=null&&A.invalid&&((A=v.form.get("portOfShipping"))!=null&&A.dirty)?"invalid":""),o(4),p("ngClass",(ce=v.form.get("finalDestination"))!=null&&ce.invalid&&((ce=v.form.get("finalDestination"))!=null&&ce.dirty)?"invalid":""),o(4),p("ngClass",(me=v.form.get("notifyParty"))!=null&&me.invalid&&((me=v.form.get("notifyParty"))!=null&&me.dirty)?"invalid":""),o(4),p("ngClass",(Se=v.form.get("consigneeName"))!=null&&Se.invalid&&((Se=v.form.get("consigneeName"))!=null&&Se.dirty)?"invalid":""),o(4),I(g(60,nt)),p("options",v.consignorIdList)("disabled",!0)("panelStyle",g(61,nt)),o(),p("ngIf",v.errorHandling("shipperId")),o(4),p("ngClass",(Ee=v.form.get("remark"))!=null&&Ee.invalid&&((Ee=v.form.get("remark"))!=null&&Ee.dirty)?"invalid":""),o(4),I(g(62,nt)),p("options",v.flag),o(4),I(g(63,nt)),p("options",v.flag),o(4),p("ngClass",(Te=v.form.get("consolidatedBillNo"))!=null&&Te.invalid&&((Te=v.form.get("consolidatedBillNo"))!=null&&Te.dirty)?"invalid":""),o(4),I(g(64,nt)),p("options",v.flag),o(4),p("ngClass",(Ne=v.form.get("bwhInvestor"))!=null&&Ne.invalid&&((Ne=v.form.get("bwhInvestor"))!=null&&Ne.dirty)?"invalid":""),o(5),F(" ",v.pageToken.pageflow!="New"?"Update":"Save"," ")}}var Ai=(()=>{let d=class d{constructor(t,n,l,m,h,f,E,S,N,M){this.cs=t,this.spin=n,this.route=l,this.router=m,this.path=h,this.fb=f,this.service=E,this.messageService=S,this.cas=N,this.auth=M,this.active=0,this.status=[],this.flag=[],this.billOfLadingFor=[],this.form=this.fb.group({bondedId:[],billOfLandingDate:[],description:[],netWeigth:[],manifestedGrossWeight:[],grossWeight:[],tareWeight:[],manifestedQuantity:[],landedQuantity:[],totalQuantity:[],volume:[],portOfShipping:[],finalDestination:[],consigneeCivilId:[,],notifyParty:[],consigneeName:[],shipper:[,],remark:[],isConsolidatedShipment:[],isSplitBillOfLanding:[],consolidatedBillNo:[],isPendingShipment:[],bwhInvestor:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[],actualCurrency:[],billOfLoadingFor:[],chasisNo:[],companyId:[this.auth.companyId],consignmentCurrency:[],consignmentValue:[],containerNo:[],containerSize:[],containerType:[],countryOfOrigin:[],currency:[],declaredValue:[],engineNo:[],enginePower:[],eventCode:[],eventText:[],eventTimestamp:[],fclLcl:[],freightCharges:[],freightCurrency:[],goodsDescription:[],goodsType:[],houseAirwayBill:[],hsCode:[],incoTerms:[],invoiceDate:[],invoiceNumber:[],invoiceSupplierName:[],invoiceType:[],kind:[],languageId:[this.auth.languageId],load:[],markId:[],markType:[],masterAirwayBill:[],billOfLadingFor:["Import"],netWeight:[],noOfPackagesMawb:[],noOfPiecesHawb:[],numberOfCylinders:[],partnerHouseAirwayBill:[,H.required],partnerId:[],partnerMasterAirwayBill:[,H.required],partnerName:[],partnerType:[],passenger:[],paymentType:[],productId:[],productName:[],quantity:[],remarks:[],sealNo:[],pieceId:[],pieceItemId:[],serviceTypeId:[],serviceTypeName:[],shipperId:[],shipperName:[],statusTimestamp:[],subProductId:[],subProductName:[],totalDuty:[],vehicleBodyColor:[],vehicleBrand:[],vehicleModel:[],vehicleNationality:[],vehicleType:[],yearOfManufacture:[]}),this.submitted=!1,this.email=new De("",[H.required,H.email]),this.languageIdList=[],this.companyIdList=[],this.countryIdList=[],this.consigneeCivilIdList=[],this.consignorIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}],this.flag=[{value:"0",label:"False"},{value:"1",label:"True"}],this.billOfLadingFor=[{value:"Import",label:"Import"},{value:"Export",label:"Export"},{value:"Free Zone",label:"Free Zone"},{value:"Transit",label:"Transit"}]}errorHandling(t,n="required"){let l=this.form.get(t);return l&&l.hasError(n)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let t=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(t);let n=["Mid-Mile","BondedManifest",this.pageToken.pageflow];this.path.setData(n),this.dropdownlist(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"&&(this.fill(this.pageToken.line),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.form.controls.shipper.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable(),this.form.controls.bondedId.disable())}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.country.url,this.cas.dropdownlist.setup.consignor.url,this.cas.dropdownlist.setup.customer.url]).subscribe({next:t=>{this.languageIdList=this.cas.foreachlist(t[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(t[1],this.cas.dropdownlist.setup.company.key),this.countryIdList=this.cas.forLanguageFilter(t[2],this.cas.dropdownlist.setup.country.key);let n=this.cas.forLanguageFilter(t[3],this.cas.dropdownlist.setup.consignor.key);this.cas.forLanguageFilter(t[4],this.cas.dropdownlist.setup.customer.key).forEach(m=>this.consignorIdList.push(m)),n.forEach(m=>this.consignorIdList.push(m)),this.consignorIdList=this.cs.removeDuplicatesFromArrayList(this.consignorIdList,"value"),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}fill(t){this.form.patchValue(t),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update([this.form.getRawValue()]).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:t[0].bondedId+" has been updated successfully"}),this.router.navigate(["/main/airport/bondedManifest"]),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})):(this.spin.show(),this.service.Create([this.form.getRawValue()]).subscribe({next:t=>{t&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:"Record has been created successfully"}),this.router.navigate(["/main/airport/bondedManifest"]),this.spin.hide())},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}}))}};d.\u0275fac=function(n){return new(n||d)(u(j),u(L),u(ee),u(O),u(W),u(V),u(Et),u(R),u(te),u(B))},d.\u0275cmp=D({type:d,selectors:[["app-bonded-manifest-new"]],decls:13,vars:3,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["class","col-6 marginFieldNew borderRadius12","id","bondedId",4,"ngIf"],["id","partnerMasterAirwayBill",1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["formControlName","partnerMasterAirwayBill","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum","required","",1,"w-100",3,"ngClass"],["id","partnerHouseAirwayBill",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","partnerHouseAirwayBill","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum","required","",1,"w-100",3,"ngClass"],["id","description",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","description","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","billOfLadingFor",1,"col-6","marginFieldNew","borderRadius12"],["appendTo","body","formControlName","billOfLadingFor","placeholder","Select\xA0",3,"options"],["id","netWeight",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","netWeight","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","num",1,"w-100",3,"ngClass"],["id","manifestedGrossWeight",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","manifestedGrossWeight","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","num",1,"w-100",3,"ngClass"],["id","grossWeight",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","grossWeight","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","num",1,"w-100",3,"ngClass"],["id","tareWeight",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","tareWeight","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","num",1,"w-100",3,"ngClass"],["id","manifestedQuantity",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","manifestedQuantity","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","num",1,"w-100",3,"ngClass"],["id","landedQuantity",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","landedQuantity","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","num",1,"w-100",3,"ngClass"],["id","totalQuantity",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","totalQuantity","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","num",1,"w-100",3,"ngClass"],["id","volume",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","volume","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","num",1,"w-100",3,"ngClass"],["id","portOfShipping",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","portOfShipping","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","finalDestination",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","finalDestination","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","notifyParty",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","notifyParty","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","consigneeName",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","consigneeName","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","shipperId",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","shipperId","appendTo","body","placeholder","Select",3,"options","disabled","panelStyle"],["id","remark",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","remark","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","isConsolidatedShipment",1,"col-6","marginFieldNew","borderRadius12"],["appendTo","body","formControlName","isConsolidatedShipment","placeholder","Select\xA0",3,"options"],["id","isSplitBillOfLanding",1,"col-6","marginFieldNew","borderRadius12"],["appendTo","body","formControlName","isSplitBillOfLanding","placeholder","Select\xA0",3,"options"],["id","consolidatedBillNo",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","consolidatedBillNo","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","isPendingShipment",1,"col-6","marginFieldNew","borderRadius12"],["appendTo","body","formControlName","isPendingShipment","placeholder","Select\xA0",3,"options"],["id","bwhInvestor",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","bwhInvestor","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/airport/bondedManifest",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],["id","bondedId",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","bondedId","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum","required","",1,"w-100",3,"ngClass"]],template:function(n,l){n&1&&(i(0,"div",0)(1,"div",1)(2,"p",2),a(3),e(),i(4,"div",1)(5,"button",3),a(6,"Transfer"),e()()(),i(7,"div",4)(8,"form",5)(9,"p-stepper",6),J("activeStepChange",function(h){return Z(l.active,h)||(l.active=h),h}),i(10,"p-stepperPanel"),C(11,Fr,7,2,"ng-template",7)(12,jr,114,65,"ng-template",8),e()()()()()),n&2&&(o(3),F(" Bonded Manifest - ",l.pageToken.pageflow," "),o(5),p("formGroup",l.form),o(),Y("activeStep",l.active))},dependencies:[ie,X,Pe,ne,re,$,mt,ct,Q,ae,G,q,fi,ze,je,U,z],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let r=d;return r})();var be=()=>({width:"100%"});function Wr(r,d){r&1&&(i(0,"p",14),a(1,"1"),e())}function Hr(r,d){r&1&&c(0,"img",15)}function Kr(r,d){if(r&1){let s=P();i(0,"div",9),x("click",function(){let n=_(s).onClick;return w(n.emit())}),i(1,"div",10),C(2,Wr,2,0,"p",11)(3,Hr,1,0,"img",12),e(),i(4,"div")(5,"p",13),a(6,"General"),e()()()}if(r&2){let s=y();o(2),p("ngIf",s.active==0),o(),p("ngIf",s.active!=0)}}function Gr(r,d){if(r&1&&(i(0,"mat-error",78)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function qr(r,d){if(r&1&&(i(0,"mat-error",78)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function Qr(r,d){if(r&1&&(i(0,"mat-error",78)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function Ur(r,d){if(r&1&&(i(0,"mat-error",78)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function zr(r,d){if(r&1&&(i(0,"mat-error",78)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function $r(r,d){if(r&1&&(i(0,"mat-error",78)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function Yr(r,d){if(r&1&&(i(0,"mat-error",78)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function Zr(r,d){if(r&1){let s=P();i(0,"div",16)(1,"div",17)(2,"p",18),a(3,"Language"),e(),c(4,"p-dropdown",19),C(5,Gr,3,1,"mat-error",20),e(),i(6,"div",17)(7,"p",18),a(8,"Company"),e(),c(9,"p-dropdown",21),C(10,qr,3,1,"mat-error",20),e(),i(11,"div",22)(12,"p",23),a(13,"MAWB"),e(),i(14,"p-dropdown",24),x("onChange",function(){_(s);let n=y();return w(n.mawbChanged())}),e(),C(15,Qr,3,1,"mat-error",20),e(),i(16,"div",25)(17,"p",23),a(18,"HAWB"),e(),i(19,"p-dropdown",26),x("onChange",function(){_(s);let n=y();return w(n.hawbChanged())}),e(),C(20,Ur,3,1,"mat-error",20),e(),i(21,"div",27)(22,"p",18),a(23," Consignee Name "),e(),c(24,"input",28),C(25,zr,3,1,"mat-error",20),e(),i(26,"div",29)(27,"p",18),a(28," Invoice Number "),e(),c(29,"input",30),e(),i(30,"div",31)(31,"p",18),a(32," Invoice Date "),e(),c(33,"input",32),e(),i(34,"div",33)(35,"p",18),a(36," Invoice Type "),e(),c(37,"input",34),e(),i(38,"div",35)(39,"p",23),a(40,"Currency"),e(),c(41,"p-dropdown",36),C(42,$r,3,1,"mat-error",20),e(),i(43,"div",37)(44,"p",18),a(45," Invoice Supplier Name "),e(),c(46,"input",38),e(),i(47,"div",39)(48,"p",18),a(49," Freight Currency "),e(),c(50,"input",40),e(),i(51,"div",41)(52,"p",18),a(53," Freight Charges "),e(),c(54,"input",42),e(),i(55,"div",43)(56,"p",18),a(57," Country Of Supply "),e(),c(58,"input",44),e(),i(59,"div",45)(60,"p",18),a(61," Bill Number "),e(),c(62,"input",46),e(),i(63,"div",47)(64,"p",18),a(65,"HS Code"),e(),c(66,"p-dropdown",48),C(67,Yr,3,1,"mat-error",20),e(),i(68,"div",49)(69,"p",18),a(70," Goods Description "),e(),c(71,"input",50),e(),i(72,"div",51)(73,"p",18),a(74," Country Of Origin "),e(),c(75,"input",52),e(),i(76,"div",53)(77,"p",18),a(78," Manufacturer "),e(),c(79,"input",54),e(),i(80,"div",55)(81,"p",18),a(82," No Of Packages "),e(),c(83,"input",56),e(),i(84,"div",57)(85,"p",18),a(86," Item Total Price "),e(),c(87,"input",58),e(),i(88,"div",59)(89,"p",18),a(90," Package Type "),e(),c(91,"input",60),e(),i(92,"div",61)(93,"p",18),a(94," Quantity "),e(),c(95,"input",62),e(),i(96,"div",63)(97,"p",18),a(98," Net Wight (Kgs) "),e(),c(99,"input",64),e(),i(100,"div",65)(101,"p",18),a(102," Gross Weight "),e(),c(103,"input",66),e(),i(104,"div",67)(105,"p",18),a(106," Is Exempted "),e(),c(107,"p-dropdown",68),e(),i(108,"div",69)(109,"p",18),a(110," Exemption For "),e(),c(111,"input",70),e(),i(112,"div",71)(113,"p",18),a(114," Exemption Beneficiary "),e(),c(115,"input",72),e(),i(116,"div",73)(117,"p",18),a(118," Exemption Reference "),e(),c(119,"input",74),e()(),i(120,"div",75)(121,"button",76),a(122," Cancel "),e(),i(123,"button",77),x("click",function(){_(s);let n=y();return w(n.save())}),a(124),e()()}if(r&2){let s,t,n,l,m,h,f,E,S,N,M,k,A,ce,me,Se,Ee,Te,Ne,v,At,Pt,Dt,Ot,Vt,Rt,T=y();o(4),I(g(65,be)),p("options",T.languageIdList)("disabled",!0)("panelStyle",g(66,be)),o(),p("ngIf",T.errorHandling("languageId")),o(4),I(g(67,be)),p("options",T.companyIdList)("disabled",!0)("panelStyle",g(68,be)),o(),p("ngIf",T.errorHandling("companyId")),o(4),I(g(69,be)),p("options",T.mawbList)("ngClass",(s=T.form.get("masterAirwayBill"))!=null&&s.invalid&&T.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",g(70,be)),o(),p("ngIf",T.errorHandling("masterAirwayBill")),o(4),I(g(71,be)),p("options",T.hawbList)("ngClass",(t=T.form.get("houseAirwayBill"))!=null&&t.invalid&&T.submitted?"ng-invalid ng-dirty":"")("panelStyle",g(72,be)),o(),p("ngIf",T.errorHandling("houseAirwayBill")),o(4),p("ngClass",(n=T.form.get("consigneeName"))!=null&&n.invalid&&T.submitted?"ng-invalid ng-dirty":"")("ngClass",(l=T.form.get("consigneeName"))!=null&&l.invalid&&((l=T.form.get("consigneeName"))!=null&&l.dirty)?"invalid":""),o(),p("ngIf",T.errorHandling("consigneeName")),o(4),p("ngClass",(m=T.form.get("invoiceNumber"))!=null&&m.invalid&&T.submitted?"ng-invalid ng-dirty":"")("ngClass",(h=T.form.get("invoiceNumber"))!=null&&h.invalid&&((h=T.form.get("invoiceNumber"))!=null&&h.dirty)?"invalid":""),o(4),p("ngClass",(f=T.form.get("invoiceDate"))!=null&&f.invalid&&((f=T.form.get("invoiceDate"))!=null&&f.dirty)?"invalid":""),o(4),p("ngClass",(E=T.form.get("invoiceType"))!=null&&E.invalid&&((E=T.form.get("invoiceType"))!=null&&E.dirty)?"invalid":""),o(4),I(g(73,be)),p("options",T.currencyIdList)("panelStyle",g(74,be)),o(),p("ngIf",T.errorHandling("currency")),o(4),p("ngClass",(S=T.form.get("invoiceSupplierName"))!=null&&S.invalid&&((S=T.form.get("invoiceSupplierName"))!=null&&S.dirty)?"invalid":""),o(4),p("ngClass",(N=T.form.get("freightCurrency"))!=null&&N.invalid&&((N=T.form.get("freightCurrency"))!=null&&N.dirty)?"invalid":""),o(4),p("ngClass",(M=T.form.get("freightCharges"))!=null&&M.invalid&&((M=T.form.get("freightCharges"))!=null&&M.dirty)?"invalid":""),o(4),p("ngClass",(k=T.form.get("countryOfSupply"))!=null&&k.invalid&&((k=T.form.get("countryOfSupply"))!=null&&k.dirty)?"invalid":""),o(4),p("ngClass",(A=T.form.get("billNumber"))!=null&&A.invalid&&((A=T.form.get("billNumber"))!=null&&A.dirty)?"invalid":""),o(4),I(g(75,be)),p("options",T.hsCodeList)("ngClass",(ce=T.form.get("hsCode"))!=null&&ce.invalid&&T.submitted?"ng-invalid ng-dirty":"")("panelStyle",g(76,be)),o(),p("ngIf",T.errorHandling("hsCode")),o(4),p("ngClass",(me=T.form.get("goodsDescription"))!=null&&me.invalid&&((me=T.form.get("goodsDescription"))!=null&&me.dirty)?"invalid":""),o(4),p("ngClass",(Se=T.form.get("countryOfOrigin"))!=null&&Se.invalid&&((Se=T.form.get("countryOfOrigin"))!=null&&Se.dirty)?"invalid":""),o(4),p("ngClass",(Ee=T.form.get("manufacturer"))!=null&&Ee.invalid&&((Ee=T.form.get("manufacturer"))!=null&&Ee.dirty)?"invalid":""),o(4),p("ngClass",(Te=T.form.get("noOfPackages"))!=null&&Te.invalid&&((Te=T.form.get("noOfPackages"))!=null&&Te.dirty)?"invalid":""),o(4),p("ngClass",(Ne=T.form.get("itemTotalPrice"))!=null&&Ne.invalid&&((Ne=T.form.get("itemTotalPrice"))!=null&&Ne.dirty)?"invalid":""),o(4),p("ngClass",(v=T.form.get("packageType"))!=null&&v.invalid&&((v=T.form.get("packageType"))!=null&&v.dirty)?"invalid":""),o(4),p("ngClass",(At=T.form.get("quantity"))!=null&&At.invalid&&((At=T.form.get("quantity"))!=null&&At.dirty)?"invalid":""),o(4),p("ngClass",(Pt=T.form.get("netWeight"))!=null&&Pt.invalid&&((Pt=T.form.get("netWeight"))!=null&&Pt.dirty)?"invalid":""),o(4),p("ngClass",(Dt=T.form.get("grossWeight"))!=null&&Dt.invalid&&((Dt=T.form.get("grossWeight"))!=null&&Dt.dirty)?"invalid":""),o(4),I(g(77,be)),p("options",T.value)("panelStyle",g(78,be)),o(4),p("ngClass",(Ot=T.form.get("exemptionFor"))!=null&&Ot.invalid&&((Ot=T.form.get("exemptionFor"))!=null&&Ot.dirty)?"invalid":""),o(4),p("ngClass",(Vt=T.form.get("exemptionBeneficiary"))!=null&&Vt.invalid&&((Vt=T.form.get("exemptionBeneficiary"))!=null&&Vt.dirty)?"invalid":""),o(4),p("ngClass",(Rt=T.form.get("exemptionReference"))!=null&&Rt.invalid&&((Rt=T.form.get("exemptionReference"))!=null&&Rt.dirty)?"invalid":""),o(5),F(" ",T.pageToken.pageflow!="New"?"Update":"Save"," ")}}var Pi=(()=>{let d=class d{constructor(t,n,l,m,h,f,E,S,N,M,k){this.cs=t,this.spin=n,this.route=l,this.router=m,this.path=h,this.fb=f,this.service=E,this.messageService=S,this.cas=N,this.auth=M,this.consignmentService=k,this.active=0,this.status=[],this.flag=[],this.value=[],this.form=this.fb.group({masterAirwayBill:[,H.required],houseAirwayBill:[,H.required],consigneeName:[,H.required],consigneeCivilId:[],invoiceNumber:[],invoiceDate:[],invoiceType:[],currency:[],invoiceSupplierName:[],freightCurrency:[],freightCharges:[],countryOfSupply:[],billNumber:[],hsCode:[,H.required],goodsDescription:[],countryOfOrigin:[],manufacturer:[],noOfPackages:[],itemTotalPrice:[],packageType:[],quantity:[],netWeight:[],grossWeight:[],isExempted:[],exemptionFor:[],exemptionBeneficiary:[],exemptionReference:[],partnerHouseAirwayBil:[],partnerMasterAirwayBill:[],createdOn:[""],createdBy:[],updatedOn:[""],updatedBy:[],pieceId:[],pieceItemId:[],airportOriginCode:[],actualCurrency:[],companyId:[this.auth.companyId],consignmentCurrency:[],consignmentValue:[],consoleId:[],customsCcrNo:[],customsKd:[],declaredValue:[],description:[],eventCode:[],eventText:[],eventTimestamp:[],finalDestination:[],flightArrivalTime:[],flightNo:[],iataKd:[],incoTerms:[],isConsolidatedShipment:[],isPendingShipment:[],isSplitBillOfLading:[],landedQuantity:[],languageId:[this.auth.languageId],manifestedGrossWeight:[],manifestedQuantity:[],noOfPackageMawb:[],noOfPieceHawb:[],notifyParty:[],partnerHouseAirwayBill:[],partnerId:[],partnerName:[],partnerType:[],paymentType:[],productId:[],productName:[],remarks:[],serviceTypeId:[],serviceTypeName:[],shipperId:[],shipperName:[],specialApprovalValue:[],statusTimestamp:[],subProductId:[],subProductName:[],tareWeight:[],totalDuty:[],totalQuantity:[],volume:[]}),this.submitted=!1,this.email=new De("",[H.required,H.email]),this.languageIdList=[],this.companyIdList=[],this.countryIdList=[],this.mawbList=[],this.hawbList=[],this.hsCodeList=[],this.currencyIdList=[],this.consignorIdList=[],this.status=[{value:"2",label:"Inactive"},{value:"1",label:"Active"}],this.flag=[{value:"0",label:"False"},{value:"1",label:"True"}],this.value=[{value:"Yes",label:"Yes"},{value:"No",label:"No"}]}errorHandling(t,n="required"){let l=this.form.get(t);return l&&l.hasError(n)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let t=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(t);let n=["Mid-Mile","CCR",this.pageToken.pageflow];this.path.setData(n),this.dropdownlist(),this.mawbDropdown(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"&&(this.fill(this.pageToken.line),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.form.controls.masterAirwayBill.disable(),this.form.controls.houseAirwayBill.disable(),this.form.controls.hsCode.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable())}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.currency.url,this.cas.dropdownlist.setup.country.url,this.cas.dropdownlist.setup.consignor.url,this.cas.dropdownlist.setup.hsCode.url,this.cas.dropdownlist.setup.hsCode.url]).subscribe({next:t=>{this.languageIdList=this.cas.foreachlist(t[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(t[1],this.cas.dropdownlist.setup.company.key),this.currencyIdList=this.cas.foreachlist(t[2],this.cas.dropdownlist.setup.currency.key),this.countryIdList=this.cas.forLanguageFilter(t[3],this.cas.dropdownlist.setup.country.key),this.consignorIdList=this.cas.forLanguageFilter(t[4],this.cas.dropdownlist.setup.consignor.key),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}fill(t){this.form.patchValue(t),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update([this.form.getRawValue()]).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:t[0].ccrId+" has been updated successfully"}),this.router.navigate(["/main/airport/ccr"]),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})):(this.spin.show(),this.service.Create([this.form.getRawValue()]).subscribe({next:t=>{t&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:t.partnerId+" has been created successfully"}),this.router.navigate(["/main/airport/ccr"]),this.spin.hide())},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}}))}mawbDropdown(){let t={};t.companyId=[this.auth.companyId],this.mawbList=[],this.spin.show(),this.consignmentService.search(t).subscribe({next:n=>{this.mawbList=this.cas.foreachlist(n,{key:"masterAirwayBill",value:"masterAirwayBill"}),this.spin.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}mawbChanged(){let t={};t.companyId=[this.auth.companyId],t.masterAirwayBill=[this.form.controls.masterAirwayBill.value],this.hawbList=[],this.spin.show(),this.consignmentService.search(t).subscribe({next:n=>{this.hawbList=this.cas.foreachlist(n,{key:"houseAirwayBill",value:"houseAirwayBill"}),this.spin.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}hawbChanged(){let t={};t.companyId=[this.auth.companyId],t.masterAirwayBill=[this.form.controls.masterAirwayBill.value],t.houseAirwayBill=[this.form.controls.houseAirwayBill.value],this.spin.show(),this.consignmentService.search(t).subscribe({next:n=>{this.form.patchValue(n[0]),this.spin.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}};d.\u0275fac=function(n){return new(n||d)(u(j),u(L),u(ee),u(O),u(W),u(V),u(Ct),u(R),u(te),u(B),u(Je))},d.\u0275cmp=D({type:d,selectors:[["app-ccr-new"]],decls:13,vars:3,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["id","masterAirwayBill",1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["placeholder","Select","filter","true","formControlName","masterAirwayBill","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],["id","houseAirwayBill",1,"col-6","marginFieldNew","borderRadius12"],["placeholder","Select","filter","true","formControlName","houseAirwayBill","appendTo","body",3,"onChange","options","ngClass","panelStyle"],["id","consigneeName",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","consigneeName","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","invoiceNumber",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","invoiceNumber","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","invoiceDate",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","invoiceDate","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","num",1,"w-100",3,"ngClass"],["id","invoiceType",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","invoiceType","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","num",1,"w-100",3,"ngClass"],["id","currency",1,"col-6","marginFieldNew","borderRadius12"],["placeholder","Select","filter","true","formControlName","currency","appendTo","body",3,"options","panelStyle"],["id","invoiceSupplierName",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","invoiceSupplierName","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","num",1,"w-100",3,"ngClass"],["id","freightCurrency",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","freightCurrency","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","num",1,"w-100",3,"ngClass"],["id","freightCharges",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","freightCharges","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","num",1,"w-100",3,"ngClass"],["id","countryOfSupply",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","countryOfSupply","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","num",1,"w-100",3,"ngClass"],["id","billNumber",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","billNumber","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","num",1,"w-100",3,"ngClass"],["id","hsCode",1,"col-6","marginFieldNew","borderRadius12"],["placeholder","Select","filter","true","formControlName","hsCode","appendTo","body",3,"options","ngClass","panelStyle"],["id","goodsDescription",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","goodsDescription","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","countryOfOrigin",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","countryOfOrigin","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","manufacturer",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","manufacturer","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","noOfPackages",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","noOfPackages","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","itemTotalPrice",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","itemTotalPrice","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","packageType",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","packageType","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","quantity",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","quantity","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","netWeight",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","netWeight","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","grossWeight",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","grossWeight","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","isExempted",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","isExempted","appendTo","body","placeholder","Select",3,"options","panelStyle"],["id","exemptionFor",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","exemptionFor","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","exemptionBeneficiary",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","exemptionBeneficiary","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],["id","exemptionReference",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","exemptionReference","pInputText","","placeholder","Enter","pInputText","","pKeyFilter","alphanum",1,"w-100",3,"ngClass"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/airport/ccr",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"]],template:function(n,l){n&1&&(i(0,"div",0)(1,"div",1)(2,"p",2),a(3),e(),i(4,"div",1)(5,"button",3),a(6,"Transfer"),e()()(),i(7,"div",4)(8,"form",5)(9,"p-stepper",6),J("activeStepChange",function(h){return Z(l.active,h)||(l.active=h),h}),i(10,"p-stepperPanel"),C(11,Kr,7,2,"ng-template",7)(12,Zr,125,79,"ng-template",8),e()()()()()),n&2&&(o(3),F(" CCR - ",l.pageToken.pageflow," "),o(5),p("formGroup",l.form),o(),Y("activeStep",l.active))},dependencies:[ie,X,Pe,ne,re,$,mt,ct,Q,ae,G,q,ze,je,U,z],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let r=d;return r})();var oe=()=>({width:"100%"});function Jr(r,d){r&1&&(i(0,"p",15),a(1,"1"),e())}function Xr(r,d){r&1&&c(0,"img",16)}function eo(r,d){if(r&1){let s=P();i(0,"div",10),x("click",function(){let n=_(s).onClick;return w(n.emit())}),i(1,"div",11),C(2,Jr,2,0,"p",12)(3,Xr,1,0,"img",13),e(),i(4,"div")(5,"p",14),a(6,"General"),e()()()}if(r&2){let s=y();o(2),p("ngIf",s.active==0),o(),p("ngIf",s.active!=0)}}function to(r,d){if(r&1&&(i(0,"mat-error",54)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function io(r,d){if(r&1&&(i(0,"mat-error",54)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function no(r,d){if(r&1&&(i(0,"mat-error",54)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function ro(r,d){if(r&1&&(i(0,"mat-error",54)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function oo(r,d){if(r&1&&(i(0,"mat-error",54)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function ao(r,d){if(r&1&&(i(0,"mat-error",54)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function lo(r,d){if(r&1&&(i(0,"mat-error",54)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function so(r,d){if(r&1&&(i(0,"mat-error",54)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function po(r,d){if(r&1&&(i(0,"mat-error",54)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function co(r,d){if(r&1&&(i(0,"mat-error",54)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function mo(r,d){if(r&1&&(i(0,"mat-error",54)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function uo(r,d){if(r&1&&(i(0,"mat-error",54)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function ho(r,d){if(r&1&&(i(0,"mat-error",54)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function go(r,d){if(r&1&&(i(0,"mat-error",54)(1,"small"),a(2),e()()),r&2){let s=y(2);o(2),b(s.getErrorMessage())}}function fo(r,d){if(r&1){let s=P();i(0,"div",17)(1,"div",18)(2,"p",19),a(3,"Language"),e(),c(4,"p-dropdown",20),C(5,to,3,1,"mat-error",21),e(),i(6,"div",18)(7,"p",19),a(8,"Company"),e(),c(9,"p-dropdown",22),C(10,io,3,1,"mat-error",21),e(),i(11,"div",23)(12,"p",24),a(13,"MAWB"),e(),i(14,"p-dropdown",25),x("onChange",function(){_(s);let n=y();return w(n.mawbChanged())}),e(),C(15,no,3,1,"mat-error",21),e(),i(16,"div",26)(17,"p",24),a(18,"HAWB"),e(),i(19,"p-dropdown",27),x("onChange",function(){_(s);let n=y();return w(n.hawbChanged())}),e(),C(20,ro,3,1,"mat-error",21),e(),i(21,"div",28)(22,"p",19),a(23,"Origin"),e(),c(24,"p-dropdown",29),e(),i(25,"div",30)(26,"p",24),a(27,"Airport Origin Code"),e(),c(28,"p-dropdown",31),C(29,oo,3,1,"mat-error",21),e(),i(30,"div",32)(31,"p",19),a(32,"Shipper"),e(),c(33,"p-dropdown",33),C(34,ao,3,1,"mat-error",21),e(),i(35,"div",34)(36,"p",19),a(37,"Weight"),e(),c(38,"input",35),C(39,lo,3,1,"mat-error",21),e(),i(40,"div",36)(41,"p",19),a(42,"Number of Pieces"),e(),c(43,"input",37),C(44,so,3,1,"mat-error",21),e(),i(45,"div",38)(46,"p",19),a(47,"Description"),e(),c(48,"input",39),C(49,po,3,1,"mat-error",21),e(),i(50,"div",40)(51,"p",19),a(52,"Consignee Name"),e(),c(53,"input",41),C(54,co,3,1,"mat-error",21),e(),i(55,"div",42)(56,"p",24),a(57,"Currency"),e(),c(58,"p-dropdown",43),C(59,mo,3,1,"mat-error",21),e(),i(60,"div",44)(61,"p",24),a(62,"Consignment Value"),e(),c(63,"input",45),C(64,uo,3,1,"mat-error",21),e(),i(65,"div",46)(66,"p",24),a(67,"Customs KD"),e(),c(68,"input",47),C(69,ho,3,1,"mat-error",21),e(),i(70,"div",48)(71,"p",24),a(72,"IATA"),e(),c(73,"p-dropdown",49),C(74,go,3,1,"mat-error",21),e(),i(75,"div",18)(76,"p",19),a(77,"Status"),e(),c(78,"p-dropdown",50),e()(),i(79,"div",51)(80,"button",52),a(81,"Cancel"),e(),i(82,"button",53),x("click",function(){_(s);let n=y();return w(n.save())}),a(83),e()()}if(r&2){let s,t,n,l,m,h,f,E,S=y();o(4),I(g(68,oe)),p("options",S.languageIdList)("disabled",!0)("panelStyle",g(69,oe)),o(),p("ngIf",S.errorHandling("languageId")),o(4),I(g(70,oe)),p("options",S.companyIdList)("disabled",!0)("panelStyle",g(71,oe)),o(),p("ngIf",S.errorHandling("companyId")),o(4),I(g(72,oe)),p("options",S.mawbList)("ngClass",(s=S.form.get("masterAirwayBill"))!=null&&s.invalid&&S.submitted?"ng-invalid ng-dirty":"")("disabled",!0)("panelStyle",g(73,oe)),o(),p("ngIf",S.errorHandling("masterAirwayBill")),o(4),I(g(74,oe)),p("options",S.hawbList)("ngClass",(t=S.form.get("houseAirwayBill"))!=null&&t.invalid&&S.submitted?"ng-invalid ng-dirty":"")("panelStyle",g(75,oe)),o(),p("ngIf",S.errorHandling("houseAirwayBill")),o(4),I(g(76,oe)),p("options",S.countryIdList)("disabled",!0)("panelStyle",g(77,oe)),o(4),I(g(78,oe)),p("options",S.countryIdList)("disabled",!0)("panelStyle",g(79,oe)),o(),p("ngIf",S.errorHandling("airportOriginCode")),o(4),I(g(80,oe)),p("options",S.consignorIdList)("disabled",!0)("panelStyle",g(81,oe)),o(),p("ngIf",S.errorHandling("shipperId")),o(4),p("ngClass",(n=S.form.get("grossWeight"))!=null&&n.invalid&&((n=S.form.get("grossWeight"))!=null&&n.dirty)?"invalid":""),o(),p("ngIf",S.errorHandling("grossWeight")),o(4),p("ngClass",(l=S.form.get("noOfPieceHawb"))!=null&&l.invalid&&((l=S.form.get("noOfPieceHawb"))!=null&&l.dirty)?"invalid":""),o(),p("ngIf",S.errorHandling("noOfPieceHawb")),o(4),p("ngClass",(m=S.form.get("goodsDescription"))!=null&&m.invalid&&((m=S.form.get("goodsDescription"))!=null&&m.dirty)?"invalid":""),o(),p("ngIf",S.errorHandling("goodsDescription")),o(4),p("ngClass",(h=S.form.get("consigneeName"))!=null&&h.invalid&&((h=S.form.get("consigneeName"))!=null&&h.dirty)?"invalid":""),o(),p("ngIf",S.errorHandling("consigneeName")),o(4),I(g(82,oe)),p("options",S.currencyIdList)("panelStyle",g(83,oe)),o(),p("ngIf",S.errorHandling("currency")),o(4),p("ngClass",(f=S.form.get("consignmentValue"))!=null&&f.invalid&&((f=S.form.get("consignmentValue"))!=null&&f.dirty)?"invalid":""),o(),p("ngIf",S.errorHandling("consignmentValue")),o(4),p("ngClass",(E=S.form.get("customsKd"))!=null&&E.invalid&&((E=S.form.get("customsKd"))!=null&&E.dirty)?"invalid":""),o(),p("ngIf",S.errorHandling("customsKd")),o(4),I(g(84,oe)),p("options",S.iataList)("panelStyle",g(85,oe)),o(),p("ngIf",S.errorHandling("iataKd")),o(4),I(g(86,oe)),p("options",S.status),o(5),b(S.pageToken.pageflow!="New"?"Update":"Save")}}function yo(r,d){if(r&1){let s=P();i(0,"div",10),x("click",function(){let n=_(s).onClick;return w(n.emit())}),i(1,"div",11)(2,"p",55),a(3," 2"),e()(),i(4,"div")(5,"p",56),a(6," Admin"),e()()()}if(r&2){let s=y(2);o(2),p("ngClass",s.active==2?"borderCircle":"disabled text-muted"),o(3),p("ngClass",s.active==2?"textBlack f600":"text-muted")}}function vo(r,d){if(r&1){let s=P();i(0,"div",57)(1,"div",18)(2,"p",19),a(3,"Created By"),e(),c(4,"input",58),e(),i(5,"div",18)(6,"p",19),a(7,"Created On"),e(),c(8,"input",59),e(),i(9,"div",18)(10,"p",19),a(11,"Updated By"),e(),c(12,"input",60),e(),i(13,"div",18)(14,"p",19),a(15,"Updated On"),e(),c(16,"input",61),e()(),i(17,"div",51)(18,"button",62),x("click",function(){let n=_(s).prevCallback;return w(n.emit())}),a(19,"Back"),e(),i(20,"button",53),x("click",function(){_(s);let n=y(2);return w(n.save())}),a(21),e()()}if(r&2){let s=y(2);o(21),b(s.pageToken.pageflow!="New"?"Update":"Save")}}function Co(r,d){r&1&&(i(0,"p-stepperPanel"),C(1,yo,7,2,"ng-template",7)(2,vo,22,1,"ng-template",8),e())}var Di=(()=>{let d=class d{constructor(t,n,l,m,h,f,E,S,N,M,k,A,ce){this.cs=t,this.spin=n,this.route=l,this.router=m,this.path=h,this.fb=f,this.service=E,this.messageService=S,this.cas=N,this.auth=M,this.consignmentService=k,this.currencyService=A,this.iataService=ce,this.active=0,this.status=[],this.form=this.fb.group({actualCurrency:[],actualValue:[],airportOriginCode:[],bondedId:[],consoleId:[],languageId:[this.auth.languageId],companyName:[],consigneeCivilId:[],consigneeName:[],consignmentCurrency:[],consignmentValue:[],countryOfOrigin:[],createdBy:[],pieceId:[],pieceItemId:[],createdOn:[""],currency:[],customsCurrency:[],customsKd:[],customsValue:[],declaredValue:[],deletionIndicator:[],description:[],expectedDuty:[],finalDestination:[],freightCharges:[],freightCurrency:[],goodsDescription:[],goodsType:[],grossWeight:[],houseAirwayBill:[,H.required],hsCode:[],iataKd:[],incoTerms:[],invoiceDate:[],invoiceNumber:[],invoiceSupplierName:[],invoiceType:[],isConsolidatedShipment:[],isPendingShipment:[],isSplitBillOfLading:[],landedQuantity:[],languageDescription:[],companyId:[this.auth.companyId],manifestedGrossWeight:[],manifestedQuantity:[],masterAirwayBill:[,H.required],netWeight:[],noOfPackageMawb:[],noOfPieceHawb:[],notifyParty:[],partnerHouseAirwayBill:[],partnerId:[],partnerMasterAirwayBill:[],partnerName:[],partnerType:[],productId:[],productName:[],quantity:[],referenceField1:[],referenceField10:[],referenceField11:[],referenceField12:[],referenceField13:[],referenceField14:[],referenceField15:[],referenceField16:[],referenceField17:[],referenceField18:[],referenceField19:[],referenceField2:[],referenceField20:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],remarks:[],serviceTypeId:[],serviceTypeName:[],shipperId:[],shipperName:[],specialApprovalValue:[],statusId:["16"],subProductId:[],subProductName:[],tareWeight:[],totalQuantity:[],updatedBy:[],updatedOn:[""],volume:[]}),this.submitted=!1,this.email=new De("",[H.required,H.email]),this.languageIdList=[],this.companyIdList=[],this.countryIdList=[],this.mawbList=[],this.hawbList=[],this.iataList=[],this.originCodeList=[],this.currencyIdList=[],this.consignorIdList=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(t,n="required"){let l=this.form.get(t);return l&&l.hasError(n)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}ngOnInit(){let t=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(t);let n=["Airport ","Console",this.pageToken.pageflow];this.path.setData(n),this.dropdownlist(),this.mawbDropdown(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"&&(this.fill(this.pageToken.line),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.form.controls.masterAirwayBill.disable(),this.form.controls.houseAirwayBill.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable())}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url,this.cas.dropdownlist.setup.currency.url,this.cas.dropdownlist.setup.country.url,this.cas.dropdownlist.setup.consignor.url,this.cas.dropdownlist.setup.iata.url]).subscribe({next:t=>{this.languageIdList=this.cas.foreachlist(t[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(t[1],this.cas.dropdownlist.setup.company.key),this.currencyIdList=this.cas.foreachlist(t[2],this.cas.dropdownlist.setup.currency.key),this.countryIdList=this.cas.forLanguageFilter(t[3],this.cas.dropdownlist.setup.country.key),this.consignorIdList=this.cas.forLanguageFilter(t[4],this.cas.dropdownlist.setup.consignor.key),this.iataList=this.cas.forLanguageFilter(t[5],this.cas.dropdownlist.setup.iata.key),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}fill(t){this.form.patchValue(t),this.form.controls.updatedOn.patchValue(this.cs.dateExcel(this.form.controls.updatedOn.value)),this.form.controls.createdOn.patchValue(this.cs.dateExcel(this.form.controls.createdOn.value))}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:" Please fill required fields to continue"});return}this.pageToken.pageflow!="New"?(this.spin.show(),this.service.Update([this.form.getRawValue()]).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:t[0].consoleId+" has been updated successfully"}),this.router.navigate(["/main/airport/console"]),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})):(this.spin.show(),this.service.Create([this.form.getRawValue()]).subscribe({next:t=>{t&&(this.messageService.add({severity:"success",summary:"Created",key:"br",detail:t[0].consoleId+" has been created successfully"}),this.router.navigate(["/main/airport/console"]),this.spin.hide())},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}}))}mawbDropdown(){let t={};t.companyId=[this.auth.companyId],this.mawbList=[],this.spin.show(),this.consignmentService.search(t).subscribe({next:n=>{this.mawbList=this.cas.foreachlist(n,{key:"masterAirwayBill",value:"masterAirwayBill"}),this.hawbList=this.cas.foreachlist(n,{key:"houseAirwayBill",value:"houseAirwayBill"}),this.spin.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}mawbChanged(){let t={};t.companyId=[this.auth.companyId],t.masterAirwayBill=[this.form.controls.masterAirwayBill.value],this.hawbList=[],this.spin.show(),this.consignmentService.search(t).subscribe({next:n=>{this.hawbList=this.cas.foreachlist(n,{key:"houseAirwayBill",value:"houseAirwayBill"}),this.spin.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}hawbChanged(){let t={};t.companyId=[this.auth.companyId],t.masterAirwayBill=[this.form.controls.masterAirwayBill.value],t.houseAirwayBill=[this.form.controls.houseAirwayBill.value],this.spin.show(),this.consignmentService.search(t).subscribe({next:n=>{this.form.patchValue(n[0]),this.spin.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}};d.\u0275fac=function(n){return new(n||d)(u(j),u(L),u(ee),u(O),u(W),u(V),u(xe),u(R),u(te),u(B),u(Je),u(xi),u(Si))},d.\u0275cmp=D({type:d,selectors:[["app-console-new"]],decls:14,vars:4,consts:[[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"w-75","mt-4","mx-auto"],[3,"formGroup"],[3,"activeStepChange","activeStep"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["class","circle borderCircle mb-0",4,"ngIf"],["src","./assets/dashboard/tick.png","alt","","srcset","",4,"ngIf"],[1,"mb-0","mt-2","f600","textBlack"],[1,"circle","borderCircle","mb-0"],["src","./assets/dashboard/tick.png","alt","","srcset",""],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["id","masterAirwayBill",1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["placeholder","Select","filter","true","formControlName","masterAirwayBill","appendTo","body",3,"onChange","options","ngClass","disabled","panelStyle"],["id","houseAirwayBill",1,"col-6","marginFieldNew","borderRadius12"],["placeholder","Select","filter","true","formControlName","houseAirwayBill","appendTo","body",3,"onChange","options","ngClass","panelStyle"],["id","countryOfOrigin",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","countryOfOrigin","appendTo","body","placeholder","Select",3,"options","disabled","panelStyle"],["id","airportOriginCode",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","airportOriginCode","appendTo","body","placeholder","Select",3,"options","disabled","panelStyle"],["id","shipperId",1,"col-6","marginFieldNew","borderRadius12"],["formControlName","shipperId","appendTo","body","placeholder","Select",3,"options","disabled","panelStyle"],["id","grossWeight",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","50","pInputText","","formControlName","grossWeight","placeholder","Enter",1,"w-100",3,"ngClass"],["id","noOfPieceHawb",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","50","pInputText","","formControlName","noOfPieceHawb","placeholder","Enter",1,"w-100",3,"ngClass"],["id","goodsDescription",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","50","pInputText","","formControlName","goodsDescription","placeholder","Enter",1,"w-100",3,"ngClass"],["id","consigneeName",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","50","pInputText","","formControlName","consigneeName","placeholder","Enter",1,"w-100",3,"ngClass"],["id","currency",1,"col-6","marginFieldNew","borderRadius12"],["placeholder","Select","filter","true","formControlName","currency","appendTo","body",3,"options","panelStyle"],["id","consignmentValue",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","50","pInputText","","formControlName","consignmentValue","placeholder","Enter",1,"w-100",3,"ngClass"],["id","customsKd",1,"col-6","marginFieldNew","borderRadius12"],["maxlength","50","pInputText","","formControlName","customsKd","placeholder","Enter",1,"w-100",3,"ngClass"],["id","iataKd",1,"col-6","marginFieldNew","borderRadius12"],["placeholder","Select","filter","true","formControlName","iataKd","appendTo","body",3,"options","panelStyle"],["appendTo","body","formControlName","statusId","placeholder","Select","filter","true",3,"options"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/airport/console",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],[1,"circle","mb-0",3,"ngClass"],[1,"mb-0","mt-2","f600",3,"ngClass"],[1,"row"],["type","text","formControlName","createdBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","createdOn","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedBy","pInputText","","placeholder","Enter",1,"w-100"],["type","text","formControlName","updatedOn","pInputText","","placeholder","Enter",1,"w-100"],[1,"buttom1","textBlack","mx-1",3,"click"]],template:function(n,l){n&1&&(i(0,"div",0)(1,"div",1)(2,"p",2),a(3),e(),i(4,"div",1)(5,"button",3),a(6,"Transfer"),e()()(),i(7,"div",4)(8,"form",5)(9,"p-stepper",6),J("activeStepChange",function(h){return Z(l.active,h)||(l.active=h),h}),i(10,"p-stepperPanel"),C(11,eo,7,2,"ng-template",7)(12,fo,84,87,"ng-template",8),e(),C(13,Co,3,0,"p-stepperPanel",9),e()()()()),n&2&&(o(3),F("Console - ",l.pageToken.pageflow,""),o(5),p("formGroup",l.form),o(),Y("activeStep",l.active),o(4),p("ngIf",l.pageToken.pageflow!="New"))},dependencies:[ie,X,Pe,ne,re,$,mt,ct,Q,ae,G,q,he,je,U,z],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:2.5rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 24rem);overflow-y:scroll}"]});let r=d;return r})();var Tt=()=>({width:"100%"}),Oi=(()=>{let d=class d{constructor(t,n,l,m,h,f,E,S,N,M,k,A){this.dialogRef=t,this.data=n,this.cs=l,this.spin=m,this.route=h,this.router=f,this.path=E,this.fb=S,this.service=N,this.messageService=M,this.cas=k,this.auth=A,this.status=[],this.form=this.fb.group({actualCurrency:[],actualValue:[],airportOriginCode:[],bondedId:[],companyId:[],companyName:[],consigneeCivilId:[],consigneeName:[],consignmentCurrency:[],consignmentValue:[],consoleId:[],countryOfOrigin:[],createdBy:[],createdOn:[],currency:[],customsCurrency:[],customsKd:[],customsValue:[],declaredValue:[],deletionIndicator:[],description:[],eventCode:[],eventText:[],eventTimestamp:[],expectedDuty:[],finalDestination:[],freightCharges:[],freightCurrency:[],goodsDescription:[],goodsType:[],grossWeight:[],houseAirwayBill:[],hsCode:[],iata:[],incoTerms:[],invoiceDate:[],invoiceNumber:[],invoiceSupplierName:[],invoiceType:[],isConsolidatedShipment:[],isPendingShipment:[],isSplitBillOfLading:[],landedQuantity:[],languageDescription:[],languageId:[],manifestedGrossWeight:[],manifestedQuantity:[],masterAirwayBill:[],netWeight:[],noOfPackageMawb:[],noOfPieceHawb:[],notifyParty:[],partnerHouseAirwayBill:[],partnerId:[],partnerMasterAirwayBill:[],partnerName:[],partnerType:[],paymentType:[],productId:[],productName:[],quantity:[],referenceField1:[],referenceField10:[],referenceField11:[],referenceField12:[],referenceField13:[],referenceField14:[],referenceField15:[],referenceField16:[],referenceField17:[],referenceField18:[],referenceField19:[],referenceField2:[],referenceField20:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],selectedConsole:[],remarks:[],serviceTypeId:[],serviceTypeName:[],shipmentBagId:[],shipperId:[],shipperName:[],specialApprovalValue:[],statusId:[],statusTimestamp:[],subProductId:[],subProductName:[],tareWeight:[],totalQuantity:[],updatedBy:[],updatedOn:[],volume:[]}),this.languageIdList=[],this.companyIdList=[],this.countryIdList=[],this.mawbList=[],this.hawbList=[],this.iataList=[],this.originCodeList=[],this.currencyIdList=[],this.consignorIdList=[],this.selecetedTrasnfer=[]}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.currency.url,this.cas.dropdownlist.setup.country.url,this.cas.dropdownlist.setup.consignor.url,this.cas.dropdownlist.setup.iata.url]).subscribe({next:t=>{this.currencyIdList=this.cas.foreachlist(t[0],this.cas.dropdownlist.setup.currency.key),this.countryIdList=this.cas.forLanguageFilter(t[1],this.cas.dropdownlist.setup.country.key),this.consignorIdList=this.cas.forLanguageFilter(t[2],this.cas.dropdownlist.setup.consignor.key),this.iataList=this.cas.forLanguageFilterWithoutKey(t[3],this.cas.dropdownlist.setup.iata.key),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}ngOnInit(){this.dropdownlist(),this.data.pageflow=="Edit"&&(this.form.patchValue(this.data.code),this.form.controls.masterAirwayBill.disable(),this.form.controls.partnerHouseAirwayBill.disable(),this.form.controls.houseAirwayBill.disable(),this.form.controls.partnerMasterAirwayBill.disable())}save(){this.dialogRef.close(this.form.getRawValue())}};d.\u0275fac=function(n){return new(n||d)(u($e),u(Ye),u(j),u(L),u(ee),u(O),u(W),u(V),u(xe),u(R),u(te),u(B))},d.\u0275cmp=D({type:d,selectors:[["app-console-editpopup"]],decls:80,vars:22,consts:[[1,"bgWhite","text-black","w-93","h-100","m-4","mt-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"mt-4"],[3,"formGroup"],[1,"d-flex-row"],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["maxlength","50","formControlName","houseAirwayBill","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","masterAirwayBill","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","partnerHouseAirwayBill","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","partnerMasterAirwayBill","pInputText","","placeholder","Enter",1,"w-100"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","50","pInputText","","formControlName","airportOriginCode","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","goodsDescription","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","grossWeight","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","noOfPieceHawb","pInputText","","placeholder","Enter",1,"w-100"],["formControlName","countryOfOrigin","appendTo","body","placeholder","Select",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","formControlName","hsCode","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","consigneeName","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","consignmentValue","pInputText","","placeholder","Enter",1,"w-100"],["placeholder","Select","filter","true","formControlName","consignmentCurrency","appendTo","body",3,"options","panelStyle"],["maxlength","50","pInputText","","formControlName","customsValue","placeholder","Enter",1,"w-100",3,"ngClass"],["maxlength","50","pInputText","","formControlName","customsKd","placeholder","Enter",1,"w-100",3,"ngClass"],["placeholder","Select","filter","true","formControlName","iata","appendTo","body",3,"options","panelStyle"],[1,"d-flex","float-right","py-2"],["mat-dialog-close","",1,"buttom1","textBlack","mx-1"],["type","button",1,"buttom1","bgBlack","text-white","mx-1",3,"click"]],template:function(n,l){if(n&1&&(i(0,"div",0)(1,"div",1)(2,"p",2),a(3," Console - Edit"),e(),i(4,"div",1)(5,"button",3),a(6,"Transfer"),e()()(),i(7,"div",4)(8,"form",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"p",9),a(13,"HAWB"),e(),c(14,"input",10),e(),i(15,"div",8)(16,"p",9),a(17,"MWAB"),e(),c(18,"input",11),e(),i(19,"div",8)(20,"p",9),a(21,"Partner HWAB"),e(),c(22,"input",12),e(),i(23,"div",8)(24,"p",9),a(25,"Partner MWAB"),e(),c(26,"input",13),e(),i(27,"div",8)(28,"p",14),a(29,"Airport Origin Code"),e(),c(30,"input",15),e(),i(31,"div",8)(32,"p",9),a(33,"Commodity"),e(),c(34,"input",16),e(),i(35,"div",8)(36,"p",9),a(37,"Weight"),e(),c(38,"input",17),e(),i(39,"div",8)(40,"p",9),a(41,"No Of Piece"),e(),c(42,"input",18),e(),i(43,"div",8)(44,"p",9),a(45,"Origin"),e(),c(46,"p-dropdown",19),e(),i(47,"div",8)(48,"p",9),a(49,"HS Code "),e(),c(50,"input",20),e(),i(51,"div",8)(52,"p",9),a(53,"Consignee Name "),e(),c(54,"input",21),e(),i(55,"div",8)(56,"p",9),a(57,"Consignment Value "),e(),c(58,"input",22),e(),i(59,"div",8)(60,"p",14),a(61,"Consignment Currency"),e(),c(62,"p-dropdown",23),e(),i(63,"div",8)(64,"p",14),a(65,"Customs Value"),e(),c(66,"input",24),e(),i(67,"div",8)(68,"p",14),a(69,"Customs Charges"),e(),c(70,"input",25),e(),i(71,"div",8)(72,"p",14),a(73,"IATA Charges"),e(),c(74,"p-dropdown",26),e()(),i(75,"div",27)(76,"button",28),a(77,"Cancel"),e(),i(78,"button",29),x("click",function(){return l.save()}),a(79,"Save"),e()()()()()()),n&2){let m,h;o(8),p("formGroup",l.form),o(38),I(g(16,Tt)),p("options",l.countryIdList)("disabled",!0)("panelStyle",g(17,Tt)),o(16),I(g(18,Tt)),p("options",l.currencyIdList)("panelStyle",g(19,Tt)),o(4),p("ngClass",(m=l.form.get("customsValue"))!=null&&m.invalid&&((m=l.form.get("customsKd"))!=null&&m.dirty)?"invalid":""),o(4),p("ngClass",(h=l.form.get("customsKd"))!=null&&h.invalid&&((h=l.form.get("customsKd"))!=null&&h.dirty)?"invalid":""),o(4),I(g(20,Tt)),p("options",l.iataList)("panelStyle",g(21,Tt))}},dependencies:[ie,re,$,Q,ae,G,q,he,Ze,U,z],styles:[".deleteBody[_ngcontent-%COMP%]{font-family:Nunito;font-size:14px;font-weight:400;line-height:20.8px;text-align:center;color:#fffc;padding-bottom:1rem}.deleteHeader[_ngcontent-%COMP%]{font-family:Nunito;font-size:22px;font-weight:700;line-height:31.2px;text-align:left;padding-bottom:1rem}.cancelButton[_ngcontent-%COMP%]{padding:7px 25px;gap:10px;border-radius:6px;border:1px 0px 0px 0px;opacity:0px;background-color:var(--white);color:var(--black)}.saveButton[_ngcontent-%COMP%]{padding:7px 35px;gap:10px;border-radius:6px;opacity:0px;background-color:var(--overcOrange);color:var(--black)}  .mat-mdc-dialog-container .mdc-dialog__surface{border-radius:12px!important}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:1.5rem}.deleteDialog[_ngcontent-%COMP%]{padding:2rem 1rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 20rem);overflow-y:scroll!important}"]});let r=d;return r})();var Vi=()=>({width:"100%"}),Zt=(()=>{let d=class d{constructor(t,n,l,m,h,f,E,S,N,M,k,A){this.dialogRef=t,this.data=n,this.cs=l,this.spin=m,this.route=h,this.router=f,this.path=E,this.fb=S,this.service=N,this.messageService=M,this.cas=k,this.auth=A,this.status=[],this.form=this.fb.group({fromConsoleId:[],houseAirwayBill:[],toConsoleId:[]}),this.consoleList=[],this.selecetedTrasnfer=[],this.selecetedTrasnfer2=[]}ngOnInit(){this.getConsoleDropdown(),this.selecetedTrasnfer=this.data,this.data.pageflow=="Edit"&&this.form.patchValue(this.data.code)}getConsoleDropdown(){let t={};t.companyId=[this.auth.companyId],t.languageId=[this.auth.languageId],this.spin.show(),this.service.search(t).subscribe({next:n=>{this.consoleList=this.cas.forLanguageFilterWithoutKey(n,{key:"consoleId",value:"consoleId",languageId:"languageId",companyId:"companyId"}),this.consoleList=this.cs.removeDuplicatesFromArrayList(this.consoleList,"value"),this.consoleList=this.consoleList.filter(l=>l.value!==this.data[0].consoleId),this.spin.hide()},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}save(){this.spin.show();for(let t=0;t<this.selecetedTrasnfer.length;t++)this.selecetedTrasnfer[t].fromConsoleId=this.selecetedTrasnfer[t].consoleId,this.selecetedTrasnfer[t].houseAirwayBill=this.selecetedTrasnfer[t].houseAirwayBill,this.selecetedTrasnfer[t].toConsoleId=this.form.controls.toConsoleId.value;this.service.Transfer(this.selecetedTrasnfer).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:"Selcted Values has been Transfered successfully"}),this.dialogRef.close(),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}};d.\u0275fac=function(n){return new(n||d)(u($e),u(Ye),u(j),u(L),u(ee),u(O),u(W),u(V),u(xe),u(R),u(te),u(B))},d.\u0275cmp=D({type:d,selectors:[["app-console-transfer"]],decls:20,vars:8,consts:[[1,"bgWhite","text-black","w-93","h-100","m-4","mt-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"mt-4"],[3,"formGroup"],[1,"d-flex-row"],[1,"row"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","toConsoleId","appendTo","body","placeholder","Select",3,"options","disabled","panelStyle"],[1,"d-flex","float-right","py-2",2,"position","absolute","right","3.5%","bottom","7%"],["mat-dialog-close","",1,"buttom1","textBlack","mx-1"],["type","button",1,"buttom1","bgBlack","text-white","mx-1",3,"click"]],template:function(n,l){n&1&&(i(0,"div",0)(1,"div",1)(2,"p",2),a(3,"Transfer Console"),e(),i(4,"div",1)(5,"button",3),a(6,"Transfer"),e()()(),i(7,"div",4)(8,"form",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"p",9),a(13,"To Console"),e(),c(14,"p-dropdown",10),e()(),i(15,"div",11)(16,"button",12),a(17,"Cancel"),e(),i(18,"button",13),x("click",function(){return l.save()}),a(19,"Save"),e()()()()()()),n&2&&(o(8),p("formGroup",l.form),o(6),I(g(6,Vi)),p("options",l.consoleList)("disabled",!0)("panelStyle",g(7,Vi)))},dependencies:[re,Q,G,q,Ze,U,z],styles:[".deleteBody[_ngcontent-%COMP%]{font-family:Nunito;font-size:14px;font-weight:400;line-height:20.8px;text-align:center;color:#fffc;padding-bottom:1rem}.deleteHeader[_ngcontent-%COMP%]{font-family:Nunito;font-size:22px;font-weight:700;line-height:31.2px;text-align:left;padding-bottom:1rem}.cancelButton[_ngcontent-%COMP%]{padding:7px 25px;gap:10px;border-radius:6px;border:1px 0px 0px 0px;opacity:0px;background-color:var(--white);color:var(--black)}.saveButton[_ngcontent-%COMP%]{padding:7px 35px;gap:10px;border-radius:6px;opacity:0px;background-color:var(--overcOrange);color:var(--black)}  .mat-mdc-dialog-container .mdc-dialog__surface{border-radius:12px!important}.deleteDialog[_ngcontent-%COMP%]{padding:2rem 1rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 35rem);overflow-y:scroll}"]});let r=d;return r})();var Jt=()=>({width:"100%"}),wo=()=>({width:"190rem"}),xo=()=>({width:"180"});function bo(r,d){if(r&1){let s=P();i(0,"button",26),x("click",function(){_(s);let n=y();return w(n.transfer())}),a(1,"Transfer"),e()}}function Io(r,d){if(r&1&&(i(0,"mat-error",27)(1,"small"),a(2),e()()),r&2){let s=y();o(2),b(s.getErrorMessage())}}function So(r,d){if(r&1&&(i(0,"mat-error",27)(1,"small"),a(2),e()()),r&2){let s=y();o(2),b(s.getErrorMessage())}}function Eo(r,d){if(r&1&&(i(0,"th",32),a(1),c(2,"p-sortIcon",33),e()),r&2){let s=d.$implicit;p("pSortableColumn",s.field),o(),F(" ",s.header," "),o(),p("field",s.field)}}function To(r,d){if(r&1&&(i(0,"tr")(1,"th",28),c(2,"p-tableHeaderCheckbox",29),e(),C(3,Eo,3,3,"th",30),i(4,"th",31),a(5," Actions "),e()()),r&2){let s=d.$implicit;o(3),p("ngForOf",s)}}function No(r,d){if(r&1&&(Me(0),a(1),Fe()),r&2){let s=y().$implicit,t=y().$implicit;o(),F(" ",t[s.field]," ")}}function Mo(r,d){if(r&1&&(a(0),ue(1,"date")),r&2){let s=y(2).$implicit;F(" ",ke(1,1,s.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Fo(r,d){if(r&1&&(i(0,"td"),C(1,No,2,1,"ng-container",43)(2,Mo,2,4,"ng-template",null,2,Be),e()),r&2){let s=d.$implicit,t=K(3);o(),p("ngIf",s.format!=="date")("ngIfElse",t)}}function ko(r,d){if(r&1){let s=P();i(0,"tr")(1,"td",34),c(2,"p-tableCheckbox",35),e(),C(3,Fo,4,2,"td",36),i(4,"td",37)(5,"img",38),x("click",function(n){_(s);let l=K(7);return w(l.toggle(n))}),e(),i(6,"p-overlayPanel",null,1)(8,"div",39)(9,"button",40),x("click",function(){let n=_(s).$implicit,l=K(7);return y().editItem("Edit",n),w(l.hide())}),c(10,"img",41),a(11,"Edit"),e(),i(12,"button",40),x("click",function(){let n=_(s).$implicit,l=y();return w(l.removeItem(n))}),c(13,"img",42),a(14,"Delete"),e()()()()()}if(r&2){let s=d.$implicit,t=d.columns,n=y();bt("selectedRow",n.selectedConsole[0]===s),o(2),p("value",s),o(),p("ngForOf",t),o(3),I(g(6,xo))}}function Bo(r,d){r&1&&(i(0,"tr")(1,"td")(2,"p",44),a(3,"No records found"),e()()()),r&2&&(o(),pe("colspan",4))}var Ri=(()=>{let d=class d{constructor(t,n,l,m,h,f,E,S,N,M,k,A){this.cs=t,this.spin=n,this.route=l,this.router=m,this.path=h,this.fb=f,this.service=E,this.numberRangeService=S,this.messageService=N,this.cas=M,this.auth=k,this.dialog=A,this.active=0,this.status=[],this.selectedConsole=[],this.form=this.fb.group({actualCurrency:[],actualValue:[],airportOriginCode:[],bondedId:[],companyId:[],companyName:[],consigneeCivilId:[],consigneeName:[],consignmentCurrency:[],consignmentValue:[],consoleId:[],countryOfOrigin:[],createdBy:[],createdOn:[],currency:[],customsCurrency:[],customsKd:[],customsValue:[],declaredValue:[],deletionIndicator:[],description:[],eventCode:[],eventText:[],eventTimestamp:[],expectedDuty:[],finalDestination:[],freightCharges:[],freightCurrency:[],goodsDescription:[],goodsType:[],grossWeight:[],houseAirwayBill:[],hsCode:[],iataKd:[],pieceId:[],pieceItemId:[],incoTerms:[],invoiceDate:[],invoiceNumber:[],invoiceSupplierName:[],invoiceType:[],isConsolidatedShipment:[],isPendingShipment:[],isSplitBillOfLading:[],landedQuantity:[],languageDescription:[],languageId:[],manifestedGrossWeight:[],manifestedQuantity:[],masterAirwayBill:[],netWeight:[],noOfPackageMawb:[],noOfPieceHawb:[],notifyParty:[],partnerHouseAirwayBill:[],partnerId:[],partnerMasterAirwayBill:[],partnerName:[],partnerType:[],paymentType:[],productId:[],productName:[],quantity:[],referenceField1:[],referenceField10:[],referenceField11:[],referenceField12:[],referenceField13:[],referenceField14:[],referenceField15:[],referenceField16:[],referenceField17:[],referenceField18:[],referenceField19:[],referenceField2:[],referenceField20:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],selectedConsole:[],remarks:[],serviceTypeId:[],serviceTypeName:[],shipmentBagId:[],shipperId:[],shipperName:[],specialApprovalValue:[],statusId:[],statusText:[],statusTimestamp:[],subProductId:[],subProductName:[],tareWeight:[],totalQuantity:[],updatedBy:[],updatedOn:[],volume:[]}),this.submitted=!1,this.email=new De("",[H.required,H.email]),this.cols=[],this.target=[],this.languageIdList=[],this.companyIdList=[],this.subProductArray=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(t,n="required"){let l=this.form.get(t);return l&&l.hasError(n)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}onChange(){let t=this.selectedConsole[this.selectedConsole.length-1];this.selectedConsole.length=0,this.selectedConsole.push(t)}ngOnInit(){let t=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(t);let n=["Mid-Mile","Console",this.pageToken.pageflow];this.path.setData(n),this.dropdownlist(),this.callTableHeader(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.form.controls.consoleId.disable(),this.form.controls.statusText.disable(),this.pageToken.pageflow!="New"&&(this.fill(this.pageToken.line),this.form.controls.subProductId.disable(),this.form.controls.updatedBy.disable(),this.form.controls.createdBy.disable(),this.form.controls.updatedOn.disable(),this.form.controls.createdOn.disable(),this.form.controls.statusId.disable())}callTableHeader(){this.cols=[{field:"masterAirwayBill",header:"MAWB"},{field:"houseAirwayBill",header:"HAWB"},{field:"partnerMasterAirwayBill",header:"Partner MAWB"},{field:"partnerHouseAirwayBill",header:"Partner HAWB"},{field:"description",header:"Commodity"},{field:"quantity",header:"No of Piece"},{field:"countryOfOrigin",header:"Origin"},{field:"grossWeight",header:"Weight"},{field:"airportOriginCode",header:"Airport Origin Code"},{field:"hsCode",header:"HS Code"},{field:"consigneeName",header:"Consignee Name"},{field:"consignmentValue",header:"Consignment Value"},{field:"consignmentCurrency",header:"Consignment Currency"},{field:"customsValue",header:"Customs Value"},{field:"iata",header:"IATA Charges"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[]}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url]).subscribe({next:t=>{this.languageIdList=this.cas.foreachlist(t[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(t[1],this.cas.dropdownlist.setup.company.key),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}addValues(){}removeItem(t){this.subProductArray.splice(t,1)}fill(t){this.form.patchValue(t),this.spin.show();let n={};n.languageId=[this.auth.languageId],n.companyId=[this.auth.companyId],n.consoleId=[t.consoleId],this.service.search(n).subscribe({next:l=>{this.subProductArray=l,this.spin.hide()},error:l=>{this.spin.hide(),this.cs.commonerrorNew(l)}})}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}if(this.pageToken.pageflow!="New"){if(this.selectedConsole.length==0){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Kindly select any row"});return}this.spin.show(),this.selectedConsole.forEach(n=>{n.eventCode=10});let t=this.subProductArray.filter(n=>n.eventCode==10);console.log(t),console.log(this.subProductArray.length),this.service.Update(this.selectedConsole).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:n[0].consoleId+" has been updated successfully"}),this.subProductArray.length==t.length?this.router.navigate(["/main/airport/console"]):setTimeout(()=>{this.fill(this.pageToken.line)},2e3)},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}}editItem(t,n){this.dialog.open(Oi,{disableClose:!0,width:"70%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{pageflow:t,code:n}}).afterClosed().subscribe(m=>{m&&(this.subProductArray.splice(n,0),this.subProductArray.splice(n,1,m),this.subProductArray=[...this.subProductArray])})}transfer(){this.selectedConsole.length===0&&this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"}),this.dialog.open(Zt,{disableClose:!0,width:"70%",height:"40%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:this.selectedConsole}).afterClosed().subscribe(n=>{n&&this.fill(this.pageToken.line)})}};d.\u0275fac=function(n){return new(n||d)(u(j),u(L),u(ee),u(O),u(W),u(V),u(xe),u(Qt),u(R),u(te),u(B),u(ge))},d.\u0275cmp=D({type:d,selectors:[["app-console-edit"]],decls:39,vars:28,consts:[["ccrTag",""],["op",""],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button","class","buttom1 bgBlack text-white ml-2",3,"click",4,"ngIf"],[1,"mx-auto","mt-4"],[3,"formGroup"],[1,"d-flex-row"],[1,"row","scrollNew"],[1,"col-3","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","consoleId","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","statusText","pInputText","","placeholder","Enter",1,"w-100"],[1,"tableProperties"],["selectionMode","multiple","sortField","createdOn","scrollHeight","calc(100vh - 23rem)","sortField","createdOn","styleClass","p-datatable-sm",1,"custom-table",3,"selectionChange","columns","value","scrollable","sortOrder","selection","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/airport/console",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],["type","button",1,"buttom1","bgBlack","text-white","ml-2",3,"click"],[1,"text-danger"],["pFrozenColumn","",2,"width","5rem"],[1,"pl-3"],[3,"pSortableColumn",4,"ngFor","ngForOf"],["pFrozenColumn","","alignFrozen","right",2,"width","5rem"],[3,"pSortableColumn"],[3,"field"],["pFrozenColumn","",2,"width","5rem","justify-content","center"],[1,"pl-3",3,"value"],[4,"ngFor","ngForOf"],["pFrozenColumn","","alignFrozen","right",2,"padding-left","1.5rem !important"],["type","button","src","./assets/common/actions.png","alt","","srcset","",2,"height","1.4rem",3,"click"],[1,"d-flex","flex-column"],["mat-menu-item","",1,"w-100",2,"width","8rem",3,"click"],["src","./assets/common/edit.png","srcset","",2,"padding-right","10px","width","2rem"],["src","./assets/common/deletetool.png","srcset","",2,"padding-right","10px","width","2rem"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"]],template:function(n,l){if(n&1){let m=P();i(0,"div",3)(1,"div",4)(2,"p",5),a(3),e(),i(4,"div",4),C(5,bo,2,0,"button",6),e()(),i(6,"div",7)(7,"form",8)(8,"div",9)(9,"div",10)(10,"div",11)(11,"p",12),a(12,"Language"),e(),c(13,"p-dropdown",13),C(14,Io,3,1,"mat-error",14),e(),i(15,"div",11)(16,"p",12),a(17,"Company"),e(),c(18,"p-dropdown",15),C(19,So,3,1,"mat-error",14),e(),i(20,"div",11)(21,"p",12),a(22,"Console ID"),e(),c(23,"input",16),e(),i(24,"div",11)(25,"p",12),a(26,"Status"),e(),c(27,"input",17),e()(),i(28,"div",18)(29,"p-table",19,0),J("selectionChange",function(f){return _(m),Z(l.selectedConsole,f)||(l.selectedConsole=f),w(f)}),C(31,To,6,1,"ng-template",20)(32,ko,15,7,"ng-template",21)(33,Bo,4,1,"ng-template",22),e()()(),i(34,"div",23)(35,"button",24),a(36,"Cancel"),e(),i(37,"button",25),x("click",function(){return _(m),w(l.save())}),a(38),e()()()()()}n&2&&(o(3),F("Console - ",l.pageToken.pageflow,""),o(2),p("ngIf",l.pageToken.pageflow=="Edit"),o(2),p("formGroup",l.form),o(6),I(g(23,Jt)),p("options",l.languageIdList)("disabled",!0)("panelStyle",g(24,Jt)),o(),p("ngIf",l.errorHandling("languageId")),o(4),I(g(25,Jt)),p("options",l.companyIdList)("disabled",!0)("panelStyle",g(26,Jt)),o(),p("ngIf",l.errorHandling("companyId")),o(10),p("columns",l.cols)("value",l.subProductArray)("scrollable",!0)("sortOrder",-1),Y("selection",l.selectedConsole),p("sortOrder",-1)("tableStyle",g(27,wo)),o(9),b(l.pageToken.pageflow!="New"?"Confirm":"Save"))},dependencies:[Ae,X,Pe,ne,Oe,Qe,qt,Ue,Ve,Re,re,$,Q,ae,G,q,he,ze,Le,je,We,U,z,se],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:1.5rem}.img-icon[_ngcontent-%COMP%]{gap:2rem}"]});let r=d;return r})();var Nt=()=>({width:"100%"}),Li=(()=>{let d=class d{constructor(t,n,l,m,h,f,E,S,N,M,k,A){this.dialogRef=t,this.data=n,this.cs=l,this.spin=m,this.route=h,this.router=f,this.path=E,this.fb=S,this.service=N,this.messageService=M,this.cas=k,this.auth=A,this.status=[],this.form=this.fb.group({actualCurrency:[],airportOriginCode:[],bondedId:[],ccrId:[],companyId:[],companyName:[],consigneeCivilId:[],consigneeName:[],consignmentCurrency:[],consignmentValue:[],consoleId:[],countryOfOrigin:[],createdBy:[],createdOn:[],currency:[],customsCcrNo:[],customsKd:[],declaredValue:[],deletionIndicator:[],description:[],eventCode:[],eventText:[],eventTimestamp:[],exemptionBeneficiary:[],exemptionFor:[],exemptionReference:[],finalDestination:[],flightArrivalTime:[],flightNo:[],freightCharges:[],freightCurrency:[],goodsDescription:[],goodsType:[],grossWeight:[],houseAirwayBill:[],hsCode:[],iataKd:[],incoTerms:[],invoiceDate:[],invoiceNumber:[],invoiceSupplierName:[],invoiceType:[],isConsolidatedShipment:[],isExempted:[],isPendingShipment:[],isSplitBillOfLading:[],landedQuantity:[],languageDescription:[],languageId:[],manifestedGrossWeight:[],manifestedQuantity:[],manufacturer:[],masterAirwayBill:[],netWeight:[],noOfPackageMawb:[],noOfPieceHawb:[],notifyParty:[],packageType:[],partnerHouseAirwayBill:[],partnerId:[],partnerMasterAirwayBill:[],partnerName:[],partnerType:[],paymentType:[],pieceId:[],pieceItemId:[],primaryDo:[],productId:[],productName:[],quantity:[],referenceField1:[],referenceField10:[],referenceField11:[],referenceField12:[],referenceField13:[],referenceField14:[],referenceField15:[],referenceField16:[],referenceField17:[],referenceField18:[],referenceField19:[],referenceField2:[],referenceField20:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],remarks:[],secondaryDo:[],serviceTypeId:[],serviceTypeName:[],shipperId:[],shipperName:[],specialApprovalValue:[],statusId:[],statusTimestamp:[],subProductId:[],subProductName:[],tareWeight:[],totalDuty:[],totalQuantity:[],updatedBy:[],updatedOn:[],volume:[]}),this.languageIdList=[],this.companyIdList=[],this.countryIdList=[],this.mawbList=[],this.hawbList=[],this.iataList=[],this.originCodeList=[],this.currencyIdList=[],this.consignorIdList=[],this.selecetedTrasnfer=[]}dropdownlist(){this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.currency.url,this.cas.dropdownlist.setup.country.url,this.cas.dropdownlist.setup.consignor.url,this.cas.dropdownlist.setup.iata.url]).subscribe({next:t=>{this.currencyIdList=this.cas.foreachlist(t[0],this.cas.dropdownlist.setup.currency.key),this.countryIdList=this.cas.forLanguageFilter(t[1],this.cas.dropdownlist.setup.country.key),this.consignorIdList=this.cas.forLanguageFilter(t[2],this.cas.dropdownlist.setup.consignor.key),this.iataList=this.cas.forLanguageFilterWithoutKey(t[3],this.cas.dropdownlist.setup.iata.key),this.spin.hide()},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}ngOnInit(){this.dropdownlist(),this.data.pageflow=="Edit"&&this.form.patchValue(this.data.code)}save(){this.dialogRef.close(this.form.getRawValue())}};d.\u0275fac=function(n){return new(n||d)(u($e),u(Ye),u(j),u(L),u(ee),u(O),u(W),u(V),u(Ct),u(R),u(te),u(B))},d.\u0275cmp=D({type:d,selectors:[["app-ccr-editpopup"]],decls:65,vars:21,consts:[[1,"bgWhite","text-black","w-93","h-100","m-4","mt-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],[1,"mt-4"],[3,"formGroup"],[1,"d-flex-row"],[1,"row","scrollNew"],[1,"col-6","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["maxlength","50","formControlName","houseAirwayBill","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","masterAirwayBill","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","partnerHouseAirwayBill","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","partnerMasterAirwayBill","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","customsCcrNo","pInputText","","placeholder","Enter",1,"w-100"],[1,"formControlLabel","f600","textBlack","mb-0","required"],["maxlength","50","pInputText","","formControlName","airportOriginCode","pInputText","","placeholder","Enter",1,"w-100"],["formControlName","countryOfOrigin","appendTo","body","placeholder","Select",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","formControlName","hsCode","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","consigneeName","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","formControlName","consignmentValue","pInputText","","placeholder","Enter",1,"w-100"],["placeholder","Select","filter","true","formControlName","consignmentCurrency","appendTo","body",3,"options","panelStyle"],["maxlength","50","pInputText","","formControlName","customsKd","placeholder","Enter",1,"w-100",3,"ngClass"],["placeholder","Select","filter","true","formControlName","iataKd","appendTo","body",3,"options","panelStyle"],[1,"d-flex","float-right","py-2"],["mat-dialog-close","",1,"buttom1","textBlack","mx-1"],["type","button",1,"buttom1","bgBlack","text-white","mx-1",3,"click"]],template:function(n,l){if(n&1&&(i(0,"div",0)(1,"div",1)(2,"p",2),a(3," CCR - Edit"),e()(),i(4,"div",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"p",8),a(10,"HAWB"),e(),c(11,"input",9),e(),i(12,"div",7)(13,"p",8),a(14,"MWAB"),e(),c(15,"input",10),e(),i(16,"div",7)(17,"p",8),a(18,"Partner HWAB"),e(),c(19,"input",11),e(),i(20,"div",7)(21,"p",8),a(22,"Partner MWAB"),e(),c(23,"input",12),e(),i(24,"div",7)(25,"p",8),a(26,"Customs CCR No"),e(),c(27,"input",13),e(),i(28,"div",7)(29,"p",14),a(30,"Airport Origin Code"),e(),c(31,"input",15),e(),i(32,"div",7)(33,"p",8),a(34,"Origin"),e(),c(35,"p-dropdown",16),e(),i(36,"div",7)(37,"p",8),a(38,"HS Code "),e(),c(39,"input",17),e(),i(40,"div",7)(41,"p",8),a(42,"Consignee Name "),e(),c(43,"input",18),e(),i(44,"div",7)(45,"p",8),a(46,"Consignment Value "),e(),c(47,"input",19),e(),i(48,"div",7)(49,"p",14),a(50,"Consignment Currency"),e(),c(51,"p-dropdown",20),e(),i(52,"div",7)(53,"p",14),a(54,"Customs KD"),e(),c(55,"input",21),e(),i(56,"div",7)(57,"p",14),a(58,"IATA"),e(),c(59,"p-dropdown",22),e()(),i(60,"div",23)(61,"button",24),a(62,"Cancel"),e(),i(63,"button",25),x("click",function(){return l.save()}),a(64,"Save"),e()()()()()()),n&2){let m;o(5),p("formGroup",l.form),o(30),I(g(15,Nt)),p("options",l.countryIdList)("disabled",!0)("panelStyle",g(16,Nt)),o(16),I(g(17,Nt)),p("options",l.currencyIdList)("panelStyle",g(18,Nt)),o(4),p("ngClass",(m=l.form.get("customsKd"))!=null&&m.invalid&&((m=l.form.get("customsKd"))!=null&&m.dirty)?"invalid":""),o(4),I(g(19,Nt)),p("options",l.iataList)("panelStyle",g(20,Nt))}},dependencies:[ie,re,$,Q,ae,G,q,he,Ze,U,z],styles:[".deleteBody[_ngcontent-%COMP%]{font-family:Nunito;font-size:14px;font-weight:400;line-height:20.8px;text-align:center;color:#fffc;padding-bottom:1rem}.deleteHeader[_ngcontent-%COMP%]{font-family:Nunito;font-size:22px;font-weight:700;line-height:31.2px;text-align:left;padding-bottom:1rem}.cancelButton[_ngcontent-%COMP%]{padding:7px 25px;gap:10px;border-radius:6px;border:1px 0px 0px 0px;opacity:0px;background-color:var(--white);color:var(--black)}.saveButton[_ngcontent-%COMP%]{padding:7px 35px;gap:10px;border-radius:6px;opacity:0px;background-color:var(--overcOrange);color:var(--black)}  .mat-mdc-dialog-container .mdc-dialog__surface{border-radius:12px!important}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:1.5rem}.deleteDialog[_ngcontent-%COMP%]{padding:2rem 1rem}.scrollNew[_ngcontent-%COMP%]{height:calc(100vh - 20rem);overflow-y:scroll!important}"]});let r=d;return r})();var Xt=()=>({width:"100%"}),Ao=()=>({width:"220rem"}),Po=()=>({width:"180"});function Do(r,d){if(r&1&&(i(0,"mat-error",28)(1,"small"),a(2),e()()),r&2){let s=y();o(2),b(s.getErrorMessage())}}function Oo(r,d){if(r&1&&(i(0,"mat-error",28)(1,"small"),a(2),e()()),r&2){let s=y();o(2),b(s.getErrorMessage())}}function Vo(r,d){if(r&1&&(i(0,"th",33),a(1),c(2,"p-sortIcon",34),e()),r&2){let s=d.$implicit;p("pSortableColumn",s.field),o(),F(" ",s.header," "),o(),p("field",s.field)}}function Ro(r,d){if(r&1&&(i(0,"tr")(1,"th",29),c(2,"p-tableHeaderCheckbox",30),e(),C(3,Vo,3,3,"th",31),i(4,"th",32),a(5," Actions "),e()()),r&2){let s=d.$implicit;o(3),p("ngForOf",s)}}function Lo(r,d){if(r&1&&(Me(0),a(1),Fe()),r&2){let s=y().$implicit,t=y().$implicit;o(),F(" ",t[s.field]," ")}}function jo(r,d){if(r&1&&(a(0),ue(1,"date")),r&2){let s=y(2).$implicit;F(" ",ke(1,1,s.createdOn,"dd-MM-yyyy HH:mm")," ")}}function Wo(r,d){if(r&1&&(i(0,"td"),C(1,Lo,2,1,"ng-container",44)(2,jo,2,4,"ng-template",null,2,Be),e()),r&2){let s=d.$implicit,t=K(3);o(),p("ngIf",s.format!=="date")("ngIfElse",t)}}function Ho(r,d){if(r&1){let s=P();i(0,"tr")(1,"td",35),c(2,"p-tableCheckbox",36),e(),C(3,Wo,4,2,"td",37),i(4,"td",38)(5,"img",39),x("click",function(n){_(s);let l=K(7);return w(l.toggle(n))}),e(),i(6,"p-overlayPanel",null,1)(8,"div",40)(9,"button",41),x("click",function(){let n=_(s).$implicit,l=K(7);return y().editItem("Edit",n),w(l.hide())}),c(10,"img",42),a(11,"Edit"),e(),i(12,"button",41),x("click",function(){let n=_(s).$implicit,l=y();return w(l.removeItem(n))}),c(13,"img",43),a(14,"Delete"),e()()()()()}if(r&2){let s=d.$implicit,t=d.columns,n=y();bt("selectedRow",n.selectedCcr[0]===s),o(2),p("value",s),o(),p("ngForOf",t),o(3),I(g(6,Po))}}function Ko(r,d){r&1&&(i(0,"tr")(1,"td")(2,"p",45),a(3,"No records found"),e()()()),r&2&&(o(),pe("colspan",4))}var ji=(()=>{let d=class d{constructor(t,n,l,m,h,f,E,S,N,M,k,A){this.cs=t,this.spin=n,this.route=l,this.router=m,this.path=h,this.fb=f,this.service=E,this.numberRangeService=S,this.messageService=N,this.cas=M,this.auth=k,this.dialog=A,this.active=0,this.status=[],this.selectedCcr=[],this.form=this.fb.group({actualCurrency:[],airportOriginCode:[],bondedId:[],ccrId:[],companyId:[],companyName:[],consigneeCivilId:[],consigneeName:[],consignmentCurrency:[],consignmentValue:[],consoleId:[],countryOfOrigin:[],createdBy:[],createdOn:[],currency:[],customsCcrNo:[],customsKd:[],declaredValue:[],deletionIndicator:[],description:[],eventCode:[],eventText:[],eventTimestamp:[],exemptionBeneficiary:[],exemptionFor:[],exemptionReference:[],finalDestination:[],flightArrivalTime:[],flightNo:[],freightCharges:[],freightCurrency:[],goodsDescription:[],goodsType:[],grossWeight:[],houseAirwayBill:[],hsCode:[],iataKd:[],incoTerms:[],invoiceDate:[],invoiceNumber:[],invoiceSupplierName:[],invoiceType:[],isConsolidatedShipment:[],isExempted:[],isPendingShipment:[],isSplitBillOfLading:[],landedQuantity:[],languageDescription:[],languageId:[],manifestedGrossWeight:[],manifestedQuantity:[],manufacturer:[],masterAirwayBill:[],netWeight:[],noOfPackageMawb:[],noOfPieceHawb:[],notifyParty:[],packageType:[],partnerHouseAirwayBill:[],partnerId:[],partnerMasterAirwayBill:[],partnerName:[],partnerType:[],paymentType:[],pieceId:[],pieceItemId:[],primaryDo:[],productId:[],productName:[],quantity:[],referenceField1:[],referenceField10:[],referenceField11:[],referenceField12:[],referenceField13:[],referenceField14:[],referenceField15:[],referenceField16:[],referenceField17:[],referenceField18:[],referenceField19:[],referenceField2:[],referenceField20:[],referenceField3:[],referenceField4:[],referenceField5:[],referenceField6:[],referenceField7:[],referenceField8:[],referenceField9:[],remarks:[],secondaryDo:[],serviceTypeId:[],serviceTypeName:[],shipperId:[],shipperName:[],specialApprovalValue:[],statusId:[],statusText:[],statusTimestamp:[],subProductId:[],subProductName:[],tareWeight:[],totalDuty:[],totalQuantity:[],updatedBy:[],updatedOn:[],volume:[],iata:[],dduCharge:[],customsValue:[],specialApprovalCharge:[],exchangeRate:[],consignmentValueLocal:[],duty:["5%"],addInsurance:[],customsInsurance:[],addIATA:[],actualDuty:[],calculatedTotalDuty:[]}),this.submitted=!1,this.email=new De("",[H.required,H.email]),this.cols=[],this.target=[],this.languageIdList=[],this.companyIdList=[],this.subProductArray=[],this.status=[{value:"17",label:"Inactive"},{value:"16",label:"Active"}]}errorHandling(t,n="required"){let l=this.form.get(t);return l&&l.hasError(n)&&this.submitted}getErrorMessage(){return this.email.hasError("required")?" Field should not be blank":this.email.hasError("email")?"Not a valid email":""}onChange(){let t=this.selectedCcr[this.selectedCcr.length-1];this.selectedCcr.length=0,this.selectedCcr.push(t)}ngOnInit(){let t=this.route.snapshot.params.code;this.pageToken=this.cs.decrypt(t);let n=["Mid-Mile","CCR",this.pageToken.pageflow];this.path.setData(n),this.dropdownlist(),this.callTableHeader(),this.form.controls.languageId.disable(),this.form.controls.companyId.disable(),this.pageToken.pageflow!="New"&&(this.fill(this.pageToken.line),this.form.controls.ccrId.disable(),this.form.controls.statusId.disable())}callTableHeader(){this.cols=[{field:"masterAirwayBill",header:"MAWB"},{field:"houseAirwayBill",header:"HAWB"},{field:"partnerMasterAirwayBill",header:"Partner MAWB"},{field:"partnerHouseAirwayBill",header:"Partner HAWB"},{field:"customsCcrNo",header:"Customs CCR No"},{field:"countryOfOrigin",header:"Origin"},{field:"airportOriginCode",header:"Airport Origin Code"},{field:"hsCode",header:"HS Code"},{field:"consigneeName",header:"Consignee Name"},{field:"consignmentValue",header:"Consignment Value"},{field:"consignmentCurrency",header:"Consignment Currency"},{field:"exchangeRate",header:"Exchange Rate"},{field:"iata",header:"IATA"},{field:"customsInsurance",header:"Customs Insurance"},{field:"duty",header:"Duty"},{field:"consignmentValueLocal",header:"Consignment Value Local"},{field:"addIATA",header:"Add IATA"},{field:"addInsurance",header:"Add Insurance"},{field:"customsValue",header:"Custom"},{field:"calculatedTotalDuty",header:"Calculated Total duty"},{field:"dduCharge",header:"DDU Charge"},{field:"specialApprovalCharge",header:"Spl Approval Charge"},{field:"actualDuty",header:"Actual Duty"},{field:"createdOn",header:"Created On",format:"date"}],this.target=[]}dropdownlist(){this.cas.getalldropdownlist([this.cas.dropdownlist.setup.language.url,this.cas.dropdownlist.setup.company.url]).subscribe({next:t=>{this.languageIdList=this.cas.foreachlist(t[0],this.cas.dropdownlist.setup.language.key),this.companyIdList=this.cas.foreachlist(t[1],this.cas.dropdownlist.setup.company.key)},error:t=>{this.spin.hide(),this.cs.commonerrorNew(t)}})}addValues(){}removeItem(t){this.subProductArray.splice(t,1)}fill(t){this.spin.show(),this.form.patchValue(this.pageToken.line);let n={};n.languageId=[this.auth.languageId],n.companyId=[this.auth.companyId],n.ccrId=[t.ccrId],this.service.search(n).subscribe({next:l=>{this.subProductArray=l,this.spin.hide()},error:l=>{this.spin.hide(),this.cs.commonerrorNew(l)}})}save(){if(this.submitted=!0,this.form.invalid){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Please fill required fields to continue"});return}if(this.pageToken.pageflow!="New"){if(this.selectedCcr.length==0){this.messageService.add({severity:"error",summary:"Error",key:"br",detail:"Kindly select any row"});return}this.spin.show();let t=this.subProductArray.filter(n=>n.eventCode==10);this.service.UpdateList(this.selectedCcr).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"Updated",key:"br",detail:n[0].consoleId+" has been updated successfully"}),this.subProductArray.length==t.length?this.router.navigate(["/main/airport/ccr"]):setTimeout(()=>{this.fill(this.pageToken.line)},2e3)},error:n=>{this.spin.hide(),this.cs.commonerrorNew(n)}})}}editItem(t,n){this.dialog.open(Li,{disableClose:!0,width:"70%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:{pageflow:t,code:n}}).afterClosed().subscribe(m=>{m&&(this.subProductArray.splice(n,0),this.subProductArray.splice(n,1,m),this.subProductArray=[...this.subProductArray])})}transfer(){this.selectedCcr.length===0&&this.messageService.add({severity:"warn",summary:"Warning",key:"br",detail:"Kindly select any row"}),this.dialog.open(Zt,{disableClose:!0,width:"70%",height:"40%",maxWidth:"82%",position:{top:"6.5%",left:"30%"},data:this.selectedCcr}).afterClosed().subscribe(n=>{n&&this.subProductArray.push(n)})}};d.\u0275fac=function(n){return new(n||d)(u(j),u(L),u(ee),u(O),u(W),u(V),u(Ct),u(Qt),u(R),u(te),u(B),u(ge))},d.\u0275cmp=D({type:d,selectors:[["app-ccr-edit"]],decls:48,vars:27,consts:[["ccrTag",""],["op",""],["dateTemplate",""],[1,"componentBody"],[1,"d-flex","justify-content-between","align-items-center"],[1,"componentHeader","f600","mb-0"],["type","button",1,"invisible","buttom1","bgBlack","text-white","ml-2"],[1,"mx-auto","mt-4"],[3,"formGroup"],[1,"d-flex-row"],[1,"row","scrollNew"],[1,"col-3","marginFieldNew","borderRadius12"],[1,"formControlLabel","f600","textBlack","mb-0"],["formControlName","languageId","appendTo","body",3,"options","disabled","panelStyle"],["class","text-danger",4,"ngIf"],["formControlName","companyId","appendTo","body",3,"options","disabled","panelStyle"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","ccrId","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","primaryDo","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","secondaryDo","pInputText","","placeholder","Enter",1,"w-100"],["maxlength","50","pInputText","","pKeyFilter","alphanum","formControlName","statusText","pInputText","","placeholder","Enter",1,"w-100"],[1,"tableProperties"],["selectionMode","multiple","sortField","createdOn","scrollHeight","calc(100vh - 28.8rem)","sortField","createdOn","styleClass","p-datatable-sm",1,"custom-table",3,"selectionChange","columns","value","scrollable","sortOrder","selection","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"d-flex","mt-1","justify-content-end",2,"position","absolute","right","3.5%","bottom","7%"],["routerLink","/main/airport/ccr",1,"buttom1","textBlack","mx-1"],[1,"buttom1","bgBlack","text-white","mx-1",3,"click"],[1,"text-danger"],["pFrozenColumn","",2,"width","5rem"],[1,"pl-3"],[3,"pSortableColumn",4,"ngFor","ngForOf"],["pFrozenColumn","","alignFrozen","right",2,"width","5rem"],[3,"pSortableColumn"],[3,"field"],["pFrozenColumn","",2,"width","5rem","justify-content","center"],[1,"pl-3",3,"value"],[4,"ngFor","ngForOf"],["pFrozenColumn","","alignFrozen","right",2,"padding-left","1.5rem !important"],["type","button","src","./assets/common/actions.png","alt","","srcset","",2,"height","1.4rem",3,"click"],[1,"d-flex","flex-column"],["mat-menu-item","",1,"w-100",2,"width","8rem",3,"click"],["src","./assets/common/edit.png","srcset","",2,"padding-right","10px","width","2rem"],["src","./assets/common/deletetool.png","srcset","",2,"padding-right","10px","width","2rem"],[4,"ngIf","ngIfElse"],[1,"my-2","w-100","pl-3"]],template:function(n,l){if(n&1){let m=P();i(0,"div",3)(1,"div",4)(2,"p",5),a(3),e(),i(4,"div",4)(5,"button",6),a(6,"Transfer"),e()()(),i(7,"div",7)(8,"form",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"p",12),a(13,"Language"),e(),c(14,"p-dropdown",13),C(15,Do,3,1,"mat-error",14),e(),i(16,"div",11)(17,"p",12),a(18,"Company"),e(),c(19,"p-dropdown",15),C(20,Oo,3,1,"mat-error",14),e(),i(21,"div",11)(22,"p",12),a(23,"CCR ID"),e(),c(24,"input",16),e(),i(25,"div",11)(26,"p",12),a(27,"Primary DO"),e(),c(28,"input",17),e(),i(29,"div",11)(30,"p",12),a(31,"Secondary DO"),e(),c(32,"input",18),e(),i(33,"div",11)(34,"p",12),a(35,"Status"),e(),c(36,"input",19),e()(),i(37,"div",20)(38,"p-table",21,0),J("selectionChange",function(f){return _(m),Z(l.selectedCcr,f)||(l.selectedCcr=f),w(f)}),C(40,Ro,6,1,"ng-template",22)(41,Ho,15,7,"ng-template",23)(42,Ko,4,1,"ng-template",24),e()()(),i(43,"div",25)(44,"button",26),a(45,"Cancel"),e(),i(46,"button",27),x("click",function(){return _(m),w(l.save())}),a(47),e()()()()()}n&2&&(o(3),F("CCR - ",l.pageToken.pageflow,""),o(5),p("formGroup",l.form),o(6),I(g(22,Xt)),p("options",l.languageIdList)("disabled",!0)("panelStyle",g(23,Xt)),o(),p("ngIf",l.errorHandling("languageId")),o(4),I(g(24,Xt)),p("options",l.companyIdList)("disabled",!0)("panelStyle",g(25,Xt)),o(),p("ngIf",l.errorHandling("companyId")),o(18),p("columns",l.cols)("value",l.subProductArray)("scrollable",!0)("sortOrder",-1),Y("selection",l.selectedCcr),p("sortOrder",-1)("tableStyle",g(26,Ao)),o(9),b(l.pageToken.pageflow!="New"?"Update":"Save"))},dependencies:[Ae,X,Pe,ne,Oe,Qe,qt,Ue,Ve,Re,re,$,Q,ae,G,q,he,ze,Le,je,We,U,z,se],styles:[".circle[_ngcontent-%COMP%]{width:44px;height:44px;flex-grow:0;margin:0 6px 12px;border-radius:100%;padding:12px 17px 11px;background-color:var(--white)}.borderCircle[_ngcontent-%COMP%]{border:solid 1.5px var(--black)}.marginFieldNew[_ngcontent-%COMP%]{margin-bottom:1.5rem}.img-icon[_ngcontent-%COMP%]{gap:2rem}.scrollHorizontal[_ngcontent-%COMP%]{width:115rem!important;overflow-x:scroll!important}.scroll2[_ngcontent-%COMP%]{overflow-y:scroll!important;height:calc(100vh - 27.2px)!important}"]});let r=d;return r})();var Go=[{path:"preAlertManifest",component:Ni,data:{title:"Mid-Mile",module:"Pre-Alert Manifest"}},{path:"preAlertManifest-new/:code",component:Bi,data:{title:"Mid-Mile",module:"Pre-Alert Manifest New"}},{path:"console",component:Mi,data:{title:"Mid-Mile",module:"Console"}},{path:"console-new/:code",component:Di,data:{title:"Mid-Mile",module:"Console"}},{path:"console-edit/:code",component:Ri,data:{title:"Mid-Mile",module:"Console"}},{path:"bondedManifest",component:Fi,data:{title:"Mid-Mile",module:"Bonded Manifest"}},{path:"bondedManifest-new/:code",component:Ai,data:{title:"Mid-Mile",module:"Bonded Manifest New"}},{path:"ccr",component:ki,data:{title:"Mid-Mile",module:"CCR"}},{path:"ccr-new/:code",component:Pi,data:{title:"Mid-Mile",module:"CCR New"}},{path:"ccr-edit/:code",component:ji,data:{title:"Mid-Mile",module:"CCR New"}}],Wi=(()=>{let d=class d{};d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=Wt({type:d}),d.\u0275inj=jt({imports:[ei.forChild(Go),ei]});let r=d;return r})();var Bl=(()=>{let d=class d{};d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=Wt({type:d}),d.\u0275inj=jt({imports:[hi,Wi,wi]});let r=d;return r})();export{Bl as AirportModule};
